{"version":3,"file":null,"sources":["node_modules/d3-array/src/bisector.js","node_modules/d3-array/src/ticks.js","node_modules/d3-array/src/transpose.js","node_modules/d3-collection/src/map.js","node_modules/d3-collection/src/nest.js","node_modules/d3-collection/src/set.js","node_modules/d3-format/src/formatSpecifier.js","node_modules/d3-format/src/locale.js","node_modules/d3-format/src/defaultLocale.js","node_modules/d3-color/src/define.js","node_modules/d3-color/src/color.js","node_modules/d3-color/src/lab.js","node_modules/d3-color/src/cubehelix.js","node_modules/d3-interpolate/src/basis.js","node_modules/d3-interpolate/src/color.js","node_modules/d3-interpolate/src/string.js","node_modules/d3-interpolate/src/zoom.js","node_modules/d3-interpolate/src/hcl.js","node_modules/d3-interpolate/src/cubehelix.js","node_modules/d3-dispatch/src/dispatch.js","node_modules/d3-request/src/request.js","node_modules/d3-dsv/src/dsv.js","node_modules/d3-request/src/dsv.js","node_modules/d3-scale/src/ordinal.js","node_modules/d3-scale/src/band.js","node_modules/d3-scale/src/continuous.js","node_modules/d3-scale/src/linear.js","node_modules/d3-scale/src/identity.js","node_modules/d3-scale/src/log.js","node_modules/d3-scale/src/pow.js","node_modules/d3-scale/src/quantile.js","node_modules/d3-scale/src/quantize.js","node_modules/d3-scale/src/threshold.js","node_modules/d3-time/src/interval.js","node_modules/d3-time/src/week.js","node_modules/d3-time/src/utcWeek.js","node_modules/d3-time-format/src/locale.js","node_modules/d3-time-format/src/defaultLocale.js","node_modules/d3-time-format/src/isoFormat.js","node_modules/d3-time-format/src/isoParse.js","node_modules/d3-scale/src/time.js","node_modules/d3-scale/src/sequential.js","node_modules/d3-selection/src/creator.js","node_modules/d3-selection/src/selection/on.js","node_modules/d3-selection/src/selector.js","node_modules/d3-selection/src/selectorAll.js","node_modules/d3-selection/src/selection/enter.js","node_modules/d3-selection/src/selection/data.js","node_modules/d3-selection/src/selection/sort.js","node_modules/d3-selection/src/selection/attr.js","node_modules/d3-selection/src/selection/style.js","node_modules/d3-selection/src/selection/property.js","node_modules/d3-selection/src/selection/classed.js","node_modules/d3-selection/src/selection/text.js","node_modules/d3-selection/src/selection/html.js","node_modules/d3-selection/src/selection/raise.js","node_modules/d3-selection/src/selection/lower.js","node_modules/d3-selection/src/selection/insert.js","node_modules/d3-selection/src/selection/remove.js","node_modules/d3-selection/src/selection/dispatch.js","node_modules/d3-selection/src/selection/index.js","src/cal-heatmap.js","node_modules/d3-array/src/ascending.js","node_modules/d3-array/src/bisect.js","node_modules/d3-array/src/number.js","node_modules/d3-array/src/extent.js","node_modules/d3-array/src/array.js","node_modules/d3-array/src/constant.js","node_modules/d3-array/src/identity.js","node_modules/d3-array/src/range.js","node_modules/d3-array/src/threshold/sturges.js","node_modules/d3-array/src/quantile.js","node_modules/d3-array/src/max.js","node_modules/d3-array/src/min.js","node_modules/d3-format/src/formatDecimal.js","node_modules/d3-format/src/formatPrefixAuto.js","node_modules/d3-format/src/exponent.js","node_modules/d3-format/src/formatGroup.js","node_modules/d3-format/src/formatDefault.js","node_modules/d3-format/src/formatRounded.js","node_modules/d3-format/src/formatTypes.js","node_modules/d3-format/src/precisionFixed.js","node_modules/d3-format/src/precisionPrefix.js","node_modules/d3-format/src/precisionRound.js","node_modules/d3-color/src/math.js","node_modules/d3-interpolate/src/constant.js","node_modules/d3-interpolate/src/transform/parse.js","node_modules/d3-interpolate/src/rgb.js","node_modules/d3-interpolate/src/array.js","node_modules/d3-interpolate/src/date.js","node_modules/d3-interpolate/src/number.js","node_modules/d3-interpolate/src/object.js","node_modules/d3-interpolate/src/value.js","node_modules/d3-interpolate/src/round.js","node_modules/d3-interpolate/src/transform/decompose.js","node_modules/d3-request/src/type.js","node_modules/d3-request/src/html.js","node_modules/d3-request/src/json.js","node_modules/d3-request/src/text.js","node_modules/d3-request/src/xml.js","node_modules/d3-dsv/src/csv.js","node_modules/d3-dsv/src/tsv.js","node_modules/d3-request/src/csv.js","node_modules/d3-request/src/tsv.js","node_modules/d3-scale/src/array.js","node_modules/d3-scale/src/constant.js","node_modules/d3-scale/src/number.js","node_modules/d3-scale/src/tickFormat.js","node_modules/d3-scale/src/nice.js","node_modules/d3-time/src/millisecond.js","node_modules/d3-time/src/duration.js","node_modules/d3-time/src/second.js","node_modules/d3-time/src/minute.js","node_modules/d3-time/src/hour.js","node_modules/d3-time/src/day.js","node_modules/d3-time/src/month.js","node_modules/d3-time/src/year.js","node_modules/d3-time/src/utcMinute.js","node_modules/d3-time/src/utcHour.js","node_modules/d3-time/src/utcDay.js","node_modules/d3-time/src/utcMonth.js","node_modules/d3-time/src/utcYear.js","node_modules/d3-scale/src/colors.js","node_modules/d3-scale/src/category10.js","node_modules/d3-scale/src/category20b.js","node_modules/d3-scale/src/category20c.js","node_modules/d3-scale/src/category20.js","node_modules/d3-scale/src/cubehelix.js","node_modules/d3-scale/src/rainbow.js","node_modules/d3-selection/src/namespaces.js","node_modules/d3-selection/src/namespace.js","node_modules/d3-selection/src/local.js","node_modules/d3-selection/src/matcher.js","node_modules/d3-selection/src/sourceEvent.js","node_modules/d3-selection/src/point.js","node_modules/d3-selection/src/selection/select.js","node_modules/d3-selection/src/selection/selectAll.js","node_modules/d3-selection/src/selection/filter.js","node_modules/d3-selection/src/selection/sparse.js","node_modules/d3-selection/src/constant.js","node_modules/d3-selection/src/selection/exit.js","node_modules/d3-selection/src/selection/merge.js","node_modules/d3-selection/src/selection/order.js","node_modules/d3-selection/src/selection/call.js","node_modules/d3-selection/src/selection/nodes.js","node_modules/d3-selection/src/selection/node.js","node_modules/d3-selection/src/selection/size.js","node_modules/d3-selection/src/selection/empty.js","node_modules/d3-selection/src/selection/each.js","node_modules/d3-selection/src/window.js","node_modules/d3-selection/src/selection/append.js","node_modules/d3-selection/src/selection/datum.js","node_modules/d3-selection/src/select.js"],"sourcesContent":["import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import range from \"./range\";\n\nvar e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var step = tickStep(start, stop, count);\n  return range(\n    Math.ceil(start / step) * step,\n    Math.floor(stop / step) * step + step / 2, // inclusive\n    step\n  );\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","import min from \"./min\";\n\nexport default function(matrix) {\n  if (!(n = matrix.length)) return [];\n  for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n    for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n      row[j] = matrix[j][i];\n    }\n  }\n  return transpose;\n}\n\nfunction length(d) {\n  return d.length;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import map from \"./map\";\n\nexport default function() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) return rollup != null\n        ? rollup(array) : (sortValues != null\n        ? array.sort(sortValues)\n        : array);\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map, depth) {\n    if (++depth > keys.length) return map;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map.entries();\n    else array = [], map.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n}\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map, key, value) {\n  map.set(key, value);\n}\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","import formatTypes from \"./formatTypes\";\n\n// [[fill]align][sign][symbol][0][width][,][.precision][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\nexport default function(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n  var match,\n      fill = match[1] || \" \",\n      align = match[2] || \">\",\n      sign = match[3] || \"-\",\n      symbol = match[4] || \"\",\n      zero = !!match[5],\n      width = match[6] && +match[6],\n      comma = !!match[7],\n      precision = match[8] && +match[8].slice(1),\n      type = match[9] || \"\";\n\n  // The \"n\" type is an alias for \",g\".\n  if (type === \"n\") comma = true, type = \"g\";\n\n  // Map invalid types to the default format.\n  else if (!formatTypes[type]) type = \"\";\n\n  // If zero fill is specified, padding goes after sign and before digits.\n  if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n  this.fill = fill;\n  this.align = align;\n  this.sign = sign;\n  this.symbol = symbol;\n  this.zero = zero;\n  this.width = width;\n  this.comma = comma;\n  this.precision = precision;\n  this.type = type;\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + this.type;\n};\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nfunction identity(x) {\n  return x;\n}\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal;\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        type = specifier.type;\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? \"%\" : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = !type || /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? (type ? 6 : 12)\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Convert negative to positive, and compute the prefix.\n        // Note that -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = (value < 0 || 1 / value < 0) && (value *= -1, true);\n\n        // Perform the initial formatting.\n        value = formatType(value, precision);\n\n        // If the original value was negative, it may be rounded to zero during\n        // formatting; treat this as (positive) zero.\n        if (valueNegative) {\n          i = -1, n = value.length;\n          valueNegative = false;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), (48 < c && c < 58)\n                || (type === \"x\" && 96 < c && c < 103)\n                || (type === \"X\" && 64 < c && c < 71)) {\n              valueNegative = true;\n              break;\n            }\n          }\n        }\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = valueSuffix + (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": return valuePrefix + value + valueSuffix + padding;\n        case \"=\": return valuePrefix + padding + value + valueSuffix;\n        case \"^\": return padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);\n      }\n      return padding + valuePrefix + value + valueSuffix;\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nexport default function color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar Kn = 18,\n    Xn = 0.950470, // D65 standard referent\n    Yn = 1,\n    Zn = 1.088830,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var b = rgb2xyz(o.r),\n      a = rgb2xyz(o.g),\n      l = rgb2xyz(o.b),\n      x = xyz2lab((0.4124564 * b + 0.3575761 * a + 0.1804375 * l) / Xn),\n      y = xyz2lab((0.2126729 * b + 0.7151522 * a + 0.0721750 * l) / Yn),\n      z = xyz2lab((0.0193339 * b + 0.1191920 * a + 0.9503041 * l) / Zn);\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    y = Yn * lab2xyz(y);\n    x = Xn * lab2xyz(x);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      xyz2rgb( 3.2404542 * x - 1.5371385 * y - 0.4985314 * z), // D65 -> sRGB\n      xyz2rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z),\n      xyz2rgb( 0.0556434 * x - 0.2040259 * y + 1.0572252 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction xyz2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2xyz(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + Kn * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - Kn * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","var rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nexport default function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0 ≅ u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    }\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    }\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","import {map} from \"d3-collection\";\nimport {dispatch} from \"d3-dispatch\";\n\nexport default function(url, callback) {\n  var request,\n      event = dispatch(\"beforesend\", \"progress\", \"load\", \"error\"),\n      mimeType,\n      headers = map(),\n      xhr = new XMLHttpRequest,\n      user = null,\n      password = null,\n      response,\n      responseType,\n      timeout = 0;\n\n  // If IE does not support CORS, use XDomainRequest.\n  if (typeof XDomainRequest !== \"undefined\"\n      && !(\"withCredentials\" in xhr)\n      && /^(http(s)?:)?\\/\\//.test(url)) xhr = new XDomainRequest;\n\n  \"onload\" in xhr\n      ? xhr.onload = xhr.onerror = xhr.ontimeout = respond\n      : xhr.onreadystatechange = function(o) { xhr.readyState > 3 && respond(o); };\n\n  function respond(o) {\n    var status = xhr.status, result;\n    if (!status && hasResponse(xhr)\n        || status >= 200 && status < 300\n        || status === 304) {\n      if (response) {\n        try {\n          result = response.call(request, xhr);\n        } catch (e) {\n          event.call(\"error\", request, e);\n          return;\n        }\n      } else {\n        result = xhr;\n      }\n      event.call(\"load\", request, result);\n    } else {\n      event.call(\"error\", request, o);\n    }\n  }\n\n  xhr.onprogress = function(e) {\n    event.call(\"progress\", request, e);\n  };\n\n  request = {\n    header: function(name, value) {\n      name = (name + \"\").toLowerCase();\n      if (arguments.length < 2) return headers.get(name);\n      if (value == null) headers.remove(name);\n      else headers.set(name, value + \"\");\n      return request;\n    },\n\n    // If mimeType is non-null and no Accept header is set, a default is used.\n    mimeType: function(value) {\n      if (!arguments.length) return mimeType;\n      mimeType = value == null ? null : value + \"\";\n      return request;\n    },\n\n    // Specifies what type the response value should take;\n    // for instance, arraybuffer, blob, document, or text.\n    responseType: function(value) {\n      if (!arguments.length) return responseType;\n      responseType = value;\n      return request;\n    },\n\n    timeout: function(value) {\n      if (!arguments.length) return timeout;\n      timeout = +value;\n      return request;\n    },\n\n    user: function(value) {\n      return arguments.length < 1 ? user : (user = value == null ? null : value + \"\", request);\n    },\n\n    password: function(value) {\n      return arguments.length < 1 ? password : (password = value == null ? null : value + \"\", request);\n    },\n\n    // Specify how to convert the response content to a specific type;\n    // changes the callback value on \"load\" events.\n    response: function(value) {\n      response = value;\n      return request;\n    },\n\n    // Alias for send(\"GET\", …).\n    get: function(data, callback) {\n      return request.send(\"GET\", data, callback);\n    },\n\n    // Alias for send(\"POST\", …).\n    post: function(data, callback) {\n      return request.send(\"POST\", data, callback);\n    },\n\n    // If callback is non-null, it will be used for error and load events.\n    send: function(method, data, callback) {\n      xhr.open(method, url, true, user, password);\n      if (mimeType != null && !headers.has(\"accept\")) headers.set(\"accept\", mimeType + \",*/*\");\n      if (xhr.setRequestHeader) headers.each(function(value, name) { xhr.setRequestHeader(name, value); });\n      if (mimeType != null && xhr.overrideMimeType) xhr.overrideMimeType(mimeType);\n      if (responseType != null) xhr.responseType = responseType;\n      if (timeout > 0) xhr.timeout = timeout;\n      if (callback == null && typeof data === \"function\") callback = data, data = null;\n      if (callback != null && callback.length === 1) callback = fixCallback(callback);\n      if (callback != null) request.on(\"error\", callback).on(\"load\", function(xhr) { callback(null, xhr); });\n      event.call(\"beforesend\", request, xhr);\n      xhr.send(data == null ? null : data);\n      return request;\n    },\n\n    abort: function() {\n      xhr.abort();\n      return request;\n    },\n\n    on: function() {\n      var value = event.on.apply(event, arguments);\n      return value === event ? request : value;\n    }\n  };\n\n  if (callback != null) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    return request.get(callback);\n  }\n\n  return request;\n}\n\nfunction fixCallback(callback) {\n  return function(error, xhr) {\n    callback(error == null ? xhr : null);\n  };\n}\n\nfunction hasResponse(xhr) {\n  var type = xhr.responseType;\n  return type && type !== \"text\"\n      ? xhr.response // null on error\n      : xhr.responseText; // \"\" on error\n}\n","function objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"]\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n]\"),\n      delimiterCode = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns;\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var EOL = {}, // sentinel value for end-of-line\n        EOF = {}, // sentinel value for end-of-file\n        rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // the current line number\n        t, // the current token\n        eol; // is the current token followed by EOL?\n\n    function token() {\n      if (I >= N) return EOF; // special case: end of file\n      if (eol) return eol = false, EOL; // special case: end of line\n\n      // special case: quotes\n      var j = I, c;\n      if (text.charCodeAt(j) === 34) {\n        var i = j;\n        while (i++ < N) {\n          if (text.charCodeAt(i) === 34) {\n            if (text.charCodeAt(i + 1) !== 34) break;\n            ++i;\n          }\n        }\n        I = i + 2;\n        c = text.charCodeAt(i + 1);\n        if (c === 13) {\n          eol = true;\n          if (text.charCodeAt(i + 2) === 10) ++I;\n        } else if (c === 10) {\n          eol = true;\n        }\n        return text.slice(j + 1, i).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // common case: find next delimiter or newline\n      while (I < N) {\n        var k = 1;\n        c = text.charCodeAt(I++);\n        if (c === 10) eol = true; // \\n\n        else if (c === 13) { eol = true; if (text.charCodeAt(I) === 10) ++I, ++k; } // \\r|\\r\\n\n        else if (c !== delimiterCode) continue;\n        return text.slice(j, I - k);\n      }\n\n      // special case: last token before EOF\n      return text.slice(j);\n    }\n\n    while ((t = token()) !== EOF) {\n      var a = [];\n      while (t !== EOL && t !== EOF) {\n        a.push(t);\n        t = token();\n      }\n      if (f && (a = f(a, n++)) == null) continue;\n      rows.push(a);\n    }\n\n    return rows;\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    })).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(text) {\n    return text == null ? \"\"\n        : reFormat.test(text += \"\") ? \"\\\"\" + text.replace(/\\\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : text;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatRows: formatRows\n  };\n}\n","import request from \"./request\";\n\nexport default function(defaultMimeType, parse) {\n  return function(url, row, callback) {\n    if (arguments.length < 3) callback = row, row = null;\n    var r = request(url).mimeType(defaultMimeType);\n    r.row = function(_) { return arguments.length ? r.response(responseOf(parse, row = _)) : row; };\n    r.row(row);\n    return callback ? r.get(callback) : r;\n  };\n}\n\nfunction responseOf(parse, row) {\n  return function(request) {\n    return parse(request.responseText, row);\n  };\n}\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal(range) {\n  var index = map(),\n      domain = [],\n      unknown = implicit;\n\n  range = range == null ? [] : slice.call(range);\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band()\n        .domain(domain())\n        .range(range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return rescale();\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band().paddingInner(1));\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function deinterpolateLinear(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(b);\n}\n\nfunction deinterpolateClamp(deinterpolate) {\n  return function(a, b) {\n    var d = deinterpolate(a = +a, b = +b);\n    return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n  };\n}\n\nfunction reinterpolateClamp(reinterpolate) {\n  return function(a, b) {\n    var r = reinterpolate(a = +a, b = +b);\n    return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n  };\n}\n\nfunction bimap(domain, range, deinterpolate, reinterpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n  else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, deinterpolate, reinterpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = deinterpolate(domain[i], domain[i + 1]);\n    r[i] = reinterpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp());\n}\n\n// deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\nexport default function continuous(deinterpolate, reinterpolate) {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      clamp = false,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate) : deinterpolate, interpolate)))(+x);\n  }\n\n  scale.invert = function(y) {\n    return (input || (input = piecewise(range, domain, deinterpolateLinear, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, rescale()) : clamp;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  return rescale();\n}\n","import {ticks, tickStep} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return tickFormat(domain(), count, specifier);\n  };\n\n  scale.nice = function(count) {\n    var d = domain(),\n        i = d.length - 1,\n        n = count == null ? 10 : count,\n        start = d[0],\n        stop = d[i],\n        step = tickStep(start, stop, n);\n\n    if (step) {\n      step = tickStep(Math.floor(start / step) * step, Math.ceil(stop / step) * step, n);\n      d[0] = Math.floor(start / step) * step;\n      d[i] = Math.ceil(stop / step) * step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(deinterpolate, reinterpolate);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  return linearish(scale);\n}\n","import {map} from \"./array\";\nimport {linearish} from \"./linear\";\nimport number from \"./number\";\n\nexport default function identity() {\n  var domain = [0, 1];\n\n  function scale(x) {\n    return +x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length ? (domain = map.call(_, number), scale) : domain.slice();\n  };\n\n  scale.copy = function() {\n    return identity().domain(domain);\n  };\n\n  return linearish(scale);\n}\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport constant from \"./constant\";\nimport nice from \"./nice\";\nimport {default as continuous, copy} from \"./continuous\";\n\nfunction deinterpolate(a, b) {\n  return (b = Math.log(b / a))\n      ? function(x) { return Math.log(x / a) / b; }\n      : constant(b);\n}\n\nfunction reinterpolate(a, b) {\n  return a < 0\n      ? function(t) { return -Math.pow(-b, t) * Math.pow(-a, 1 - t); }\n      : function(t) { return Math.pow(b, t) * Math.pow(a, 1 - t); };\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport default function log() {\n  var scale = continuous(deinterpolate, reinterpolate).domain([1, 10]),\n      domain = scale.domain,\n      base = 10,\n      logs = logp(10),\n      pows = powp(10);\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) logs = reflect(logs), pows = reflect(pows);\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.round(i) - 1, j = Math.round(j) + 1;\n      if (u > 0) for (; i < j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i < j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  scale.copy = function() {\n    return copy(scale, log().base(base));\n  };\n\n  return scale;\n}\n","import constant from \"./constant\";\nimport {linearish} from \"./linear\";\nimport {default as continuous, copy} from \"./continuous\";\n\nfunction raise(x, exponent) {\n  return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n}\n\nexport default function pow() {\n  var exponent = 1,\n      scale = continuous(deinterpolate, reinterpolate),\n      domain = scale.domain;\n\n  function deinterpolate(a, b) {\n    return (b = raise(b, exponent) - (a = raise(a, exponent)))\n        ? function(x) { return (raise(x, exponent) - a) / b; }\n        : constant(b);\n  }\n\n  function reinterpolate(a, b) {\n    b = raise(b, exponent) - (a = raise(a, exponent));\n    return function(t) { return raise(a + b * t, 1 / exponent); };\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, domain(domain())) : exponent;\n  };\n\n  scale.copy = function() {\n    return copy(scale, pow().exponent(exponent));\n  };\n\n  return linearish(scale);\n}\n\nexport function sqrt() {\n  return pow().exponent(0.5);\n}\n","import {ascending, bisect, quantile as threshold} from \"d3-array\";\nimport {slice} from \"./array\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [];\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    if (!isNaN(x = +x)) return range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (var i = 0, n = _.length, d; i < n; ++i) if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {linearish} from \"./linear\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1];\n\n  function scale(x) {\n    if (x <= x) return range[bisect(domain, x, 0, n)];\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = slice.call(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range);\n  };\n\n  return linearish(scale);\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      n = 1;\n\n  function scale(x) {\n    if (x <= x) return range[bisect(domain, x, 0, n)];\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(new Date(+start)); while (offseti(start, step), floori(start), start < stop)\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) while (--step >= 0) while (offseti(date, 1), !test(date)) {} // eslint-disable-line no-empty\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval\";\nimport {durationMinute, durationWeek} from \"./duration\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval\";\nimport {durationWeek} from \"./duration\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import {timeDay, timeSunday, timeMonday, timeYear, utcDay, utcSunday, utcMonday, utcYear} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"S\": formatSeconds,\n    \"U\": formatWeekNumberSunday,\n    \"w\": formatWeekdayNumber,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"S\": formatUTCSeconds,\n    \"U\": formatUTCWeekNumberSunday,\n    \"w\": formatUTCWeekdayNumber,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"S\": parseSeconds,\n    \"U\": parseWeekNumberSunday,\n    \"w\": parseWeekdayNumber,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0);\n      if (i != string.length) return null;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"W\" in d ? 1 : 0;\n        var day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?:\\:?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekdayNumber(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekdayNumber(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","import {bisector, tickStep} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport {map} from \"./array\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport nice from \"./nice\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(deinterpolate, reinterpolate),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = tickStep(start, stop, interval);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(map.call(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]);\n}\n","import {linearish} from \"./linear\";\n\nexport default function sequential(interpolator) {\n  var x0 = 0,\n      x1 = 1,\n      clamp = false;\n\n  function scale(x) {\n    var t = (x - x0) / (x1 - x0);\n    return interpolator(clamp ? Math.max(0, Math.min(1, t)) : t);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.copy = function() {\n    return sequential(interpolator).domain([x0, x1]).clamp(clamp);\n  };\n\n  return linearish(scale);\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  var node;\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : defaultView(node = this.node())\n          .getComputedStyle(node, null)\n          .getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (event) {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import { max, min } from 'd3-array';\nimport { map } from 'd3-collection';\nimport { format } from 'd3-format';\nimport { interpolateHcl } from 'd3-interpolate';\nimport { csv, tsv, json, text } from 'd3-request';\nimport { scaleLinear, scaleThreshold } from 'd3-scale';\nimport { event, select } from 'd3-selection';\nimport { timeDays, timeHours, timeMinutes, timeMondays, timeMonths, timeSundays, timeYears } from 'd3-time';\nimport { timeFormat } from 'd3-time-format';\n\nexport default class CalHeatMap {\n    constructor() {\n        \"use strict\";\n\n        var self = this;\n\n        this.allowedDataType = [\"json\", \"csv\", \"tsv\", \"txt\"];\n\n        // Default settings\n        this.options = {\n            // selector string of the container to append the graph to\n            // Accept any string value accepted by document.querySelector or CSS3\n            // or an Element object\n            itemSelector: \"#cal-heatmap\",\n\n            // Whether to paint the calendar on init()\n            // Used by testsuite to reduce testing time\n            paintOnLoad: true,\n\n            // ================================================\n            // DOMAIN\n            // ================================================\n\n            // Number of domain to display on the graph\n            range: 12,\n\n            // Size of each cell, in pixel\n            cellSize: 10,\n\n            // Padding between each cell, in pixel\n            cellPadding: 2,\n\n            // For rounded subdomain rectangles, in pixels\n            cellRadius: 0,\n\n            domainGutter: 2,\n\n            domainMargin: [0, 0, 0, 0],\n\n            domain: \"hour\",\n\n            subDomain: \"min\",\n\n            // Number of columns to split the subDomains to\n            // If not null, will takes precedence over rowLimit\n            colLimit: null,\n\n            // Number of rows to split the subDomains to\n            // Will be ignored if colLimit is not null\n            rowLimit: null,\n\n            // First day of the week is Monday\n            // 0 to start the week on Sunday\n            weekStartOnMonday: true,\n\n            // Start date of the graph\n            // @default now\n            start: new Date(),\n\n            minDate: null,\n\n            maxDate: null,\n\n            // ================================================\n            // DATA\n            // ================================================\n\n            // Data source\n            // URL, where to fetch the original datas\n            data: \"\",\n\n            // Data type\n            // Default: json\n            dataType: this.allowedDataType[0],\n\n            // Payload sent when using POST http method\n            // Leave to null (default) for GET request\n            // Expect a string, formatted like \"a=b;c=d\"\n            dataPostPayload: null,\n\n            // Whether to consider missing date:value from the datasource\n            // as equal to 0, or just leave them as missing\n            considerMissingDataAsZero: false,\n\n            // Load remote data on calendar creation\n            // When false, the calendar will be left empty\n            loadOnInit: true,\n\n            // Calendar orientation\n            // false: display domains side by side\n            // true : display domains one under the other\n            verticalOrientation: false,\n\n            // Domain dynamic width/height\n            // The width on a domain depends on the number of\n            domainDynamicDimension: true,\n\n            // Domain Label properties\n            label: {\n                // valid: top, right, bottom, left\n                position: \"bottom\",\n\n                // Valid: left, center, right\n                // Also valid are the direct svg values: start, middle, end\n                align: \"center\",\n\n                // By default, there is no margin/padding around the label\n                offset: {\n                    x: 0,\n                    y: 0\n                },\n\n                rotate: null,\n\n                // Used only on vertical orientation\n                width: 100,\n\n                // Used only on horizontal orientation\n                height: null\n            },\n\n            // ================================================\n            // LEGEND\n            // ================================================\n\n            // Threshold for the legend\n            legend: [10, 20, 30, 40],\n\n            // Whether to display the legend\n            displayLegend: true,\n\n            legendCellSize: 10,\n\n            legendCellPadding: 2,\n\n            legendMargin: [0, 0, 0, 0],\n\n            // Legend vertical position\n            // top: place legend above calendar\n            // bottom: place legend below the calendar\n            legendVerticalPosition: \"bottom\",\n\n            // Legend horizontal position\n            // accepted values: left, center, right\n            legendHorizontalPosition: \"left\",\n\n            // Legend rotation\n            // accepted values: horizontal, vertical\n            legendOrientation: \"horizontal\",\n\n            // Objects holding all the heatmap different colors\n            // null to disable, and use the default css styles\n            //\n            // Examples:\n            // legendColors: {\n            //\t\tmin: \"green\",\n            //\t\tmax: \"red\",\n            //\t\tempty: \"#ffffff\",\n            //\t\tbase: \"grey\",\n            //\t\toverflow: \"red\"\n            // }\n            legendColors: null,\n\n            // ================================================\n            // HIGHLIGHT\n            // ================================================\n\n            // List of dates to highlight\n            // Valid values:\n            // - []: don't highlight anything\n            // - \"now\": highlight the current date\n            // - an array of Date objects: highlight the specified dates\n            highlight: [],\n\n            // ================================================\n            // TEXT FORMATTING / i18n\n            // ================================================\n\n            // Name of the items to represent in the calendar\n            itemName: [\"item\", \"items\"],\n\n            // Formatting of the domain label\n            // @default: null, will use the formatting according to domain type\n            // Accept a string used as specifier by d3.timeFormat()\n            // or a function\n            //\n            // Refer to https://github.com/mbostock/d3/wiki/Time-Formatting\n            // for accepted date formatting used by d3.timeFormat()\n            domainLabelFormat: null,\n\n            // Formatting of the title displayed when hovering a subDomain cell\n            subDomainTitleFormat: {\n                empty: \"{date}\",\n                filled: \"{count} {name} {connector} {date}\"\n            },\n\n            // Formatting of the {date} used in subDomainTitleFormat\n            // @default: null, will use the formatting according to subDomain type\n            // Accept a string used as specifier by d3.timeFormat()\n            // or a function\n            //\n            // Refer to https://github.com/mbostock/d3/wiki/Time-Formatting\n            // for accepted date formatting used by d3.timeFormat()\n            subDomainDateFormat: null,\n\n            // Formatting of the text inside each subDomain cell\n            // @default: null, no text\n            // Accept a string used as specifier by d3.timeFormat()\n            // or a function\n            //\n            // Refer to https://github.com/mbostock/d3/wiki/Time-Formatting\n            // for accepted date formatting used by d3.timeFormat()\n            subDomainTextFormat: null,\n\n            // Formatting of the title displayed when hovering a legend cell\n            legendTitleFormat: {\n                lower: \"less than {min} {name}\",\n                inner: \"between {down} and {up} {name}\",\n                upper: \"more than {max} {name}\"\n            },\n\n            // Animation duration, in ms\n            animationDuration: 500,\n\n            nextSelector: false,\n\n            previousSelector: false,\n\n            itemNamespace: \"cal-heatmap\",\n\n            tooltip: false,\n\n            // ================================================\n            // EVENTS CALLBACK\n            // ================================================\n\n            // Callback when clicking on a time block\n            onClick: null,\n\n            // Callback after painting the empty calendar\n            // Can be used to trigger an API call, once the calendar is ready to be filled\n            afterLoad: null,\n\n            // Callback after loading the next domain in the calendar\n            afterLoadNextDomain: null,\n\n            // Callback after loading the previous domain in the calendar\n            afterLoadPreviousDomain: null,\n\n            // Callback after finishing all actions on the calendar\n            onComplete: null,\n\n            // Callback after fetching the datas, but before applying them to the calendar\n            // Used mainly to convert the datas if they're not formatted like expected\n            // Takes the fetched \"data\" object as argument, must return a json object\n            // formatted like {timestamp:count, timestamp2:count2},\n            afterLoadData(data) {\n                return data;\n            },\n\n            // Callback triggered after calling next().\n            // The `status` argument is equal to true if there is no\n            // more next domain to load\n            //\n            // This callback is also executed once, after calling previous(),\n            // only when the max domain is reached\n            onMaxDomainReached: null,\n\n            // Callback triggered after calling previous().\n            // The `status` argument is equal to true if there is no\n            // more previous domain to load\n            //\n            // This callback is also executed once, after calling next(),\n            // only when the min domain is reached\n            onMinDomainReached: null\n        };\n\n        this._domainType = {\n            \"min\": {\n                name: \"minute\",\n                level: 10,\n                maxItemNumber: 60,\n                defaultRowNumber: 10,\n                defaultColumnNumber: 6,\n                row(d) {\n                    return self.getSubDomainRowNumber(d);\n                },\n                column(d) {\n                    return self.getSubDomainColumnNumber(d);\n                },\n                position: {\n                    x(d) {\n                        return Math.floor(d.getMinutes() / self._domainType.min.row(d));\n                    },\n                    y(d) {\n                        return d.getMinutes() % self._domainType.min.row(d);\n                    }\n                },\n                format: {\n                    date: \"%H:%M, %A %B %-e, %Y\",\n                    legend: \"\",\n                    connector: \"at\"\n                },\n                extractUnit(d) {\n                    return new Date(d.getFullYear(), d.getMonth(), d.getDate(), d.getHours(), d.getMinutes()).getTime();\n                }\n            },\n            \"hour\": {\n                name: \"hour\",\n                level: 20,\n                maxItemNumber(d) {\n                    switch (self.options.domain) {\n                        case \"day\":\n                            return 24;\n                        case \"week\":\n                            return 24 * 7;\n                        case \"month\":\n                            return 24 * (self.options.domainDynamicDimension ? self.getDayCountInMonth(d) : 31);\n                    }\n                },\n                defaultRowNumber: 6,\n                defaultColumnNumber(d) {\n                    switch (self.options.domain) {\n                        case \"day\":\n                            return 4;\n                        case \"week\":\n                            return 28;\n                        case \"month\":\n                            return self.options.domainDynamicDimension ? self.getDayCountInMonth(d) : 31;\n                    }\n                },\n                row(d) {\n                    return self.getSubDomainRowNumber(d);\n                },\n                column(d) {\n                    return self.getSubDomainColumnNumber(d);\n                },\n                position: {\n                    x(d) {\n                        if (self.options.domain === \"month\") {\n                            if (self.options.colLimit > 0 || self.options.rowLimit > 0) {\n                                return Math.floor((d.getHours() + (d.getDate() - 1) * 24) / self._domainType.hour.row(d));\n                            }\n                            return Math.floor(d.getHours() / self._domainType.hour.row(d)) + (d.getDate() - 1) * 4;\n                        } else if (self.options.domain === \"week\") {\n                            if (self.options.colLimit > 0 || self.options.rowLimit > 0) {\n                                return Math.floor((d.getHours() + self.getWeekDay(d) * 24) / self._domainType.hour.row(d));\n                            }\n                            return Math.floor(d.getHours() / self._domainType.hour.row(d)) + self.getWeekDay(d) * 4;\n                        }\n                        return Math.floor(d.getHours() / self._domainType.hour.row(d));\n                    },\n                    y(d) {\n                        var p = d.getHours();\n                        if (self.options.colLimit > 0 || self.options.rowLimit > 0) {\n                            switch (self.options.domain) {\n                                case \"month\":\n                                    p += (d.getDate() - 1) * 24;\n                                    break;\n                                case \"week\":\n                                    p += self.getWeekDay(d) * 24;\n                                    break;\n                            }\n                        }\n                        return Math.floor(p % self._domainType.hour.row(d));\n                    }\n                },\n                format: {\n                    date: \"%Hh, %A %B %-e, %Y\",\n                    legend: \"%H:00\",\n                    connector: \"at\"\n                },\n                extractUnit(d) {\n                    return new Date(d.getFullYear(), d.getMonth(), d.getDate(), d.getHours()).getTime();\n                }\n            },\n            \"day\": {\n                name: \"day\",\n                level: 30,\n                maxItemNumber(d) {\n                    switch (self.options.domain) {\n                        case \"week\":\n                            return 7;\n                        case \"month\":\n                            return self.options.domainDynamicDimension ? self.getDayCountInMonth(d) : 31;\n                        case \"year\":\n                            return self.options.domainDynamicDimension ? self.getDayCountInYear(d) : 366;\n                    }\n                },\n                defaultColumnNumber(d) {\n                    d = new Date(d);\n                    switch (self.options.domain) {\n                        case \"week\":\n                            return 1;\n                        case \"month\":\n                            return (self.options.domainDynamicDimension && !self.options.verticalOrientation) ? (self.getWeekNumber(new Date(d.getFullYear(), d.getMonth() + 1, 0)) - self.getWeekNumber(d) + 1) : 6;\n                        case \"year\":\n                            return (self.options.domainDynamicDimension ? (self.getWeekNumber(new Date(d.getFullYear(), 11, 31)) - self.getWeekNumber(new Date(d.getFullYear(), 0)) + 1) : 54);\n                    }\n                },\n                defaultRowNumber: 7,\n                row(d) {\n                    return self.getSubDomainRowNumber(d);\n                },\n                column(d) {\n                    return self.getSubDomainColumnNumber(d);\n                },\n                position: {\n                    x(d) {\n                        switch (self.options.domain) {\n                            case \"week\":\n                                return Math.floor(self.getWeekDay(d) / self._domainType.day.row(d));\n                            case \"month\":\n                                if (self.options.colLimit > 0 || self.options.rowLimit > 0) {\n                                    return Math.floor((d.getDate() - 1) / self._domainType.day.row(d));\n                                }\n                                return self.getWeekNumber(d) - self.getWeekNumber(new Date(d.getFullYear(), d.getMonth()));\n                            case \"year\":\n                                if (self.options.colLimit > 0 || self.options.rowLimit > 0) {\n                                    return Math.floor((self.getDayOfYear(d) - 1) / self._domainType.day.row(d));\n                                }\n                                return self.getWeekNumber(d);\n                        }\n                    },\n                    y(d) {\n                        var p = self.getWeekDay(d);\n                        if (self.options.colLimit > 0 || self.options.rowLimit > 0) {\n                            switch (self.options.domain) {\n                                case \"year\":\n                                    p = self.getDayOfYear(d) - 1;\n                                    break;\n                                case \"week\":\n                                    p = self.getWeekDay(d);\n                                    break;\n                                case \"month\":\n                                    p = d.getDate() - 1;\n                                    break;\n                            }\n                        }\n                        return Math.floor(p % self._domainType.day.row(d));\n                    }\n                },\n                format: {\n                    date: \"%A %B %-e, %Y\",\n                    legend: \"%e %b\",\n                    connector: \"on\"\n                },\n                extractUnit(d) {\n                    return new Date(d.getFullYear(), d.getMonth(), d.getDate()).getTime();\n                }\n            },\n            \"week\": {\n                name: \"week\",\n                level: 40,\n                maxItemNumber: 54,\n                defaultColumnNumber(d) {\n                    d = new Date(d);\n                    switch (self.options.domain) {\n                        case \"year\":\n                            return self._domainType.week.maxItemNumber;\n                        case \"month\":\n                            return self.options.domainDynamicDimension ? self.getWeekNumber(new Date(d.getFullYear(), d.getMonth() + 1, 0)) - self.getWeekNumber(d) : 5;\n                    }\n                },\n                defaultRowNumber: 1,\n                row(d) {\n                    return self.getSubDomainRowNumber(d);\n                },\n                column(d) {\n                    return self.getSubDomainColumnNumber(d);\n                },\n                position: {\n                    x(d) {\n                        switch (self.options.domain) {\n                            case \"year\":\n                                return Math.floor(self.getWeekNumber(d) / self._domainType.week.row(d));\n                            case \"month\":\n                                return Math.floor(self.getMonthWeekNumber(d) / self._domainType.week.row(d));\n                        }\n                    },\n                    y(d) {\n                        return self.getWeekNumber(d) % self._domainType.week.row(d);\n                    }\n                },\n                format: {\n                    date: \"%B Week #%W\",\n                    legend: \"%B Week #%W\",\n                    connector: \"in\"\n                },\n                extractUnit(d) {\n                    var dt = new Date(d.getFullYear(), d.getMonth(), d.getDate());\n                    // According to ISO-8601, week number computation are based on week starting on Monday\n                    var weekDay = dt.getDay() - (self.options.weekStartOnMonday ? 1 : 0);\n                    if (weekDay < 0) {\n                        weekDay = 6;\n                    }\n                    dt.setDate(dt.getDate() - weekDay);\n                    return dt.getTime();\n                }\n            },\n            \"month\": {\n                name: \"month\",\n                level: 50,\n                maxItemNumber: 12,\n                defaultColumnNumber: 12,\n                defaultRowNumber: 1,\n                row() {\n                    return self.getSubDomainRowNumber();\n                },\n                column() {\n                    return self.getSubDomainColumnNumber();\n                },\n                position: {\n                    x(d) {\n                        return Math.floor(d.getMonth() / self._domainType.month.row(d));\n                    },\n                    y(d) {\n                        return d.getMonth() % self._domainType.month.row(d);\n                    }\n                },\n                format: {\n                    date: \"%B %Y\",\n                    legend: \"%B\",\n                    connector: \"in\"\n                },\n                extractUnit(d) {\n                    return new Date(d.getFullYear(), d.getMonth()).getTime();\n                }\n            },\n            \"year\": {\n                name: \"year\",\n                level: 60,\n                row() {\n                    return self.options.rowLimit || 1;\n                },\n                column() {\n                    return self.options.colLimit || 1;\n                },\n                position: {\n                    x() {\n                        return 1;\n                    },\n                    y() {\n                        return 1;\n                    }\n                },\n                format: {\n                    date: \"%Y\",\n                    legend: \"%Y\",\n                    connector: \"in\"\n                },\n                extractUnit(d) {\n                    return new Date(d.getFullYear()).getTime();\n                }\n            }\n        };\n\n        for (var type in this._domainType) {\n            if (this._domainType.hasOwnProperty(type)) {\n                var d = this._domainType[type];\n                this._domainType[\"x_\" + type] = {\n                    name: \"x_\" + type,\n                    level: d.type,\n                    maxItemNumber: d.maxItemNumber,\n                    defaultRowNumber: d.defaultRowNumber,\n                    defaultColumnNumber: d.defaultColumnNumber,\n                    row: d.column,\n                    column: d.row,\n                    position: {\n                        x: d.position.y,\n                        y: d.position.x\n                    },\n                    format: d.format,\n                    extractUnit: d.extractUnit\n                };\n            }\n        }\n\n        // Record the address of the last inserted domain when browsing\n        this.lastInsertedSvg = null;\n\n        this._completed = false;\n\n        // Record all the valid domains\n        // Each domain value is a timestamp in milliseconds\n        this._domains = map();\n\n        this.graphDim = {\n            width: 0,\n            height: 0\n        };\n\n        this.legendDim = {\n            width: 0,\n            height: 0\n        };\n\n        this.NAVIGATE_LEFT = 1;\n        this.NAVIGATE_RIGHT = 2;\n\n        // Various update mode when using the update() API\n        this.RESET_ALL_ON_UPDATE = 0;\n        this.RESET_SINGLE_ON_UPDATE = 1;\n        this.APPEND_ON_UPDATE = 2;\n\n        this.DEFAULT_LEGEND_MARGIN = 10;\n\n        this.root = null;\n        this.tooltip = null;\n\n        this._maxDomainReached = false;\n        this._minDomainReached = false;\n\n        this.domainPosition = new DomainPosition();\n        this.Legend = null;\n        this.legendScale = null;\n\n        // List of domains that are skipped because of DST\n        // All times belonging to these domains should be re-assigned to the previous domain\n        this.DSTDomain = [];\n\n        /**\n         * Display the graph for the first time\n         * @return bool True if the calendar is created\n         */\n        this._init = function() {\n\n            self.getDomain(self.options.start).map(function(d) {\n                return d.getTime();\n            }).map(function(d) {\n                self._domains.set(d, self.getSubDomain(d).map(function(d) {\n                    return { t: self._domainType[self.options.subDomain].extractUnit(d), v: null };\n                }));\n            });\n\n            self.root = select(self.options.itemSelector).append(\"svg\").attr(\"class\", \"cal-heatmap-container\");\n\n            self.tooltip = select(self.options.itemSelector)\n                .attr(\"style\", function() {\n                    var current = select(self.options.itemSelector).attr(\"style\");\n                    return (current !== null ? current : \"\") + \"position:relative;\";\n                })\n                .append(\"div\")\n                .attr(\"class\", \"ch-tooltip\");\n\n            self.root.attr(\"x\", 0).attr(\"y\", 0).append(\"svg\").attr(\"class\", \"graph\");\n\n            self.Legend = new Legend(self);\n\n            if (self.options.paintOnLoad) {\n                _initCalendar();\n            }\n\n            return true;\n        };\n\n        function _initCalendar() {\n            self.verticalDomainLabel = (self.options.label.position === \"top\" || self.options.label.position === \"bottom\");\n\n            self.domainVerticalLabelHeight = self.options.label.height === null ? Math.max(25, self.options.cellSize * 2) : self.options.label.height;\n            self.domainHorizontalLabelWidth = 0;\n\n            if (self.options.domainLabelFormat === \"\" && self.options.label.height === null) {\n                self.domainVerticalLabelHeight = 0;\n            }\n\n            if (!self.verticalDomainLabel) {\n                self.domainVerticalLabelHeight = 0;\n                self.domainHorizontalLabelWidth = self.options.label.width;\n            }\n\n            self.paint();\n\n            // =========================================================================//\n            // ATTACHING DOMAIN NAVIGATION EVENT\t\t\t\t\t\t\t\t\t\t//\n            // =========================================================================//\n            if (self.options.nextSelector !== false) {\n                select(self.options.nextSelector).on(\"click.\" + self.options.itemNamespace, function() {\n                    event.preventDefault();\n                    return self.loadNextDomain(1);\n                });\n            }\n\n            if (self.options.previousSelector !== false) {\n                select(self.options.previousSelector).on(\"click.\" + self.options.itemNamespace, function() {\n                    event.preventDefault();\n                    return self.loadPreviousDomain(1);\n                });\n            }\n\n            self.Legend.redraw(self.graphDim.width - self.options.domainGutter - self.options.cellPadding);\n            self.afterLoad();\n\n            var domains = self.getDomainKeys();\n\n            // Fill the graph with some datas\n            if (self.options.loadOnInit) {\n                self.getDatas(\n                    self.options.data,\n                    new Date(domains[0]),\n                    self.getSubDomain(domains[domains.length - 1]).pop(),\n                    function() {\n                        self.fill();\n                        self.onComplete();\n                    }\n                );\n            } else {\n                self.onComplete();\n            }\n\n            self.checkIfMinDomainIsReached(domains[0]);\n            self.checkIfMaxDomainIsReached(self.getNextDomain().getTime());\n        }\n\n        // Return the width of the domain block, without the domain gutter\n        // @param int d Domain start timestamp\n        function w(d, outer) {\n            var width = self.options.cellSize * self._domainType[self.options.subDomain].column(d) + self.options.cellPadding * self._domainType[self.options.subDomain].column(d);\n            if (arguments.length === 2 && outer === true) {\n                return width += self.domainHorizontalLabelWidth + self.options.domainGutter + self.options.domainMargin[1] + self.options.domainMargin[3];\n            }\n            return width;\n        }\n\n        // Return the height of the domain block, without the domain gutter\n        function h(d, outer) {\n            var height = self.options.cellSize * self._domainType[self.options.subDomain].row(d) + self.options.cellPadding * self._domainType[self.options.subDomain].row(d);\n            if (arguments.length === 2 && outer === true) {\n                height += self.options.domainGutter + self.domainVerticalLabelHeight + self.options.domainMargin[0] + self.options.domainMargin[2];\n            }\n            return height;\n        }\n\n        /**\n         *\n         *\n         * @param int navigationDir\n         */\n        this.paint = function(navigationDir) {\n\n            var options = self.options;\n\n            if (arguments.length === 0) {\n                navigationDir = false;\n            }\n\n            // Painting all the domains\n            var domainSvg = self.root.select(\".graph\")\n                .selectAll(\".graph-domain\")\n                .data(\n                    function() {\n                        var data = self.getDomainKeys();\n                        return navigationDir === self.NAVIGATE_LEFT ? data.reverse() : data;\n                    },\n                    function(d) {\n                        return d;\n                    }\n                );\n\n            var enteringDomainDim = 0;\n            var exitingDomainDim = 0;\n\n            // =========================================================================//\n            // PAINTING DOMAIN\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n            // =========================================================================//\n\n            var svg = domainSvg\n                .enter()\n                .append(\"svg\")\n                .attr(\"width\", function(d) {\n                    return w(d, true);\n                })\n                .attr(\"height\", function(d) {\n                    return h(d, true);\n                })\n                .attr(\"x\", function(d) {\n                    if (options.verticalOrientation) {\n                        self.graphDim.width = Math.max(self.graphDim.width, w(d, true));\n                        return 0;\n                    } else {\n                        return getDomainPosition(d, self.graphDim, \"width\", w(d, true));\n                    }\n                })\n                .attr(\"y\", function(d) {\n                    if (options.verticalOrientation) {\n                        return getDomainPosition(d, self.graphDim, \"height\", h(d, true));\n                    } else {\n                        self.graphDim.height = Math.max(self.graphDim.height, h(d, true));\n                        return 0;\n                    }\n                })\n                .attr(\"class\", function(d) {\n                    var classname = \"graph-domain\";\n                    var date = new Date(d);\n                    switch (options.domain) {\n                        case \"hour\":\n                            classname += \" h_\" + date.getHours();\n                            /* falls through */\n                        case \"day\":\n                            classname += \" d_\" + date.getDate() + \" dy_\" + date.getDay();\n                            /* falls through */\n                        case \"week\":\n                            classname += \" w_\" + self.getWeekNumber(date);\n                            /* falls through */\n                        case \"month\":\n                            classname += \" m_\" + (date.getMonth() + 1);\n                            /* falls through */\n                        case \"year\":\n                            classname += \" y_\" + date.getFullYear();\n                    }\n                    return classname;\n                });\n\n            self.lastInsertedSvg = svg;\n\n            function getDomainPosition(domainIndex, graphDim, axis, domainDim) {\n                var tmp = 0;\n                switch (navigationDir) {\n                    case false:\n                        tmp = graphDim[axis];\n\n                        graphDim[axis] += domainDim;\n                        self.domainPosition.setPosition(domainIndex, tmp);\n                        return tmp;\n\n                    case self.NAVIGATE_RIGHT:\n                        self.domainPosition.setPosition(domainIndex, graphDim[axis]);\n\n                        enteringDomainDim = domainDim;\n                        exitingDomainDim = self.domainPosition.getPositionFromIndex(1);\n\n                        self.domainPosition.shiftRightBy(exitingDomainDim);\n                        return graphDim[axis];\n\n                    case self.NAVIGATE_LEFT:\n                        tmp = -domainDim;\n\n                        enteringDomainDim = -tmp;\n                        exitingDomainDim = graphDim[axis] - self.domainPosition.getLast();\n\n                        self.domainPosition.setPosition(domainIndex, tmp);\n                        self.domainPosition.shiftLeftBy(enteringDomainDim);\n                        return tmp;\n                }\n            }\n\n            svg.append(\"rect\")\n                .attr(\"width\", function(d) {\n                    return w(d, true) - options.domainGutter - options.cellPadding;\n                })\n                .attr(\"height\", function(d) {\n                    return h(d, true) - options.domainGutter - options.cellPadding;\n                })\n                .attr(\"class\", \"domain-background\");\n\n            // =========================================================================//\n            // PAINTING SUBDOMAINS\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n            // =========================================================================//\n            var subDomainSvgGroup = svg.append(\"svg\")\n                .attr(\"x\", function() {\n                    if (options.label.position === \"left\") {\n                        return self.domainHorizontalLabelWidth + options.domainMargin[3];\n                    } else {\n                        return options.domainMargin[3];\n                    }\n                })\n                .attr(\"y\", function() {\n                    if (options.label.position === \"top\") {\n                        return self.domainVerticalLabelHeight + options.domainMargin[0];\n                    } else {\n                        return options.domainMargin[0];\n                    }\n                })\n                .attr(\"class\", \"graph-subdomain-group\");\n\n            var rect = subDomainSvgGroup\n                .selectAll(\"g\")\n                .data(function(d) {\n                    return self._domains.get(d);\n                })\n                .enter()\n                .append(\"g\");\n\n            rect\n                .append(\"rect\")\n                .attr(\"class\", function(d) {\n                    return \"graph-rect\" + self.getHighlightClassName(d.t) + (options.onClick !== null ? \" hover_cursor\" : \"\");\n                })\n                .attr(\"width\", options.cellSize)\n                .attr(\"height\", options.cellSize)\n                .attr(\"x\", function(d) {\n                    return self.positionSubDomainX(d.t);\n                })\n                .attr(\"y\", function(d) {\n                    return self.positionSubDomainY(d.t);\n                })\n                .on(\"click\", function(d) {\n                    if (options.onClick !== null) {\n                        return self.onClick(new Date(d.t), d.v);\n                    }\n                })\n                .call(function(selection) {\n                    if (options.cellRadius > 0) {\n                        selection\n                            .attr(\"rx\", options.cellRadius)\n                            .attr(\"ry\", options.cellRadius);\n                    }\n\n                    if (self.legendScale !== null && options.legendColors !== null && options.legendColors.hasOwnProperty(\"base\")) {\n                        selection.attr(\"fill\", options.legendColors.base);\n                    }\n\n                    if (options.tooltip) {\n                        selection.on(\"mouseover\", function(d) {\n                            var domainNode = this.parentNode.parentNode;\n\n                            self.tooltip\n                                .html(self.getSubDomainTitle(d))\n                                .attr(\"style\", \"display: block;\");\n\n                            var tooltipPositionX = self.positionSubDomainX(d.t) - self.tooltip.node().offsetWidth / 2 + options.cellSize / 2;\n                            var tooltipPositionY = self.positionSubDomainY(d.t) - self.tooltip.node().offsetHeight - options.cellSize / 2;\n\n                            // Offset by the domain position\n                            tooltipPositionX += parseInt(domainNode.getAttribute(\"x\"), 10);\n                            tooltipPositionY += parseInt(domainNode.getAttribute(\"y\"), 10);\n\n                            // Offset by the calendar position (when legend is left/top)\n                            tooltipPositionX += parseInt(self.root.select(\".graph\").attr(\"x\"), 10);\n                            tooltipPositionY += parseInt(self.root.select(\".graph\").attr(\"y\"), 10);\n\n                            // Offset by the inside domain position (when label is left/top)\n                            tooltipPositionX += parseInt(domainNode.parentNode.getAttribute(\"x\"), 10);\n                            tooltipPositionY += parseInt(domainNode.parentNode.getAttribute(\"y\"), 10);\n\n                            self.tooltip.attr(\"style\",\n                                \"display: block; \" +\n                                \"left: \" + tooltipPositionX + \"px; \" +\n                                \"top: \" + tooltipPositionY + \"px;\");\n                        });\n\n                        selection.on(\"mouseout\", function() {\n                            self.tooltip\n                                .attr(\"style\", \"display:none\")\n                                .html(\"\");\n                        });\n                    }\n                });\n\n            // Appending a title to each subdomain\n            if (!options.tooltip) {\n                rect.append(\"title\").text(function(d) {\n                    return self.formatDate(new Date(d.t), options.subDomainDateFormat);\n                });\n            }\n\n            // =========================================================================//\n            // PAINTING LABEL\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n            // =========================================================================//\n            if (options.domainLabelFormat !== \"\") {\n                svg.append(\"text\")\n                    .attr(\"class\", \"graph-label\")\n                    .attr(\"y\", function(d) {\n                        var y = options.domainMargin[0];\n                        switch (options.label.position) {\n                            case \"top\":\n                                y += self.domainVerticalLabelHeight / 2;\n                                break;\n                            case \"bottom\":\n                                y += h(d) + self.domainVerticalLabelHeight / 2;\n                        }\n\n                        return y + options.label.offset.y *\n                            (\n                                ((options.label.rotate === \"right\" && options.label.position === \"right\") ||\n                                    (options.label.rotate === \"left\" && options.label.position === \"left\")) ?\n                                -1 : 1\n                            );\n                    })\n                    .attr(\"x\", function(d) {\n                        var x = options.domainMargin[3];\n                        switch (options.label.position) {\n                            case \"right\":\n                                x += w(d);\n                                break;\n                            case \"bottom\":\n                            case \"top\":\n                                x += w(d) / 2;\n                        }\n\n                        if (options.label.align === \"right\") {\n                            return x + self.domainHorizontalLabelWidth - options.label.offset.x *\n                                (options.label.rotate === \"right\" ? -1 : 1);\n                        }\n                        return x + options.label.offset.x;\n\n                    })\n                    .attr(\"text-anchor\", function() {\n                        switch (options.label.align) {\n                            case \"start\":\n                            case \"left\":\n                                return \"start\";\n                            case \"end\":\n                            case \"right\":\n                                return \"end\";\n                            default:\n                                return \"middle\";\n                        }\n                    })\n                    .attr(\"dominant-baseline\", function() {\n                        return self.verticalDomainLabel ? \"middle\" : \"top\";\n                    })\n                    .text(function(d) {\n                        return self.formatDate(new Date(d), options.domainLabelFormat);\n                    })\n                    .call(domainRotate);\n            }\n\n            function domainRotate(selection) {\n                switch (options.label.rotate) {\n                    case \"right\":\n                        selection\n                            .attr(\"transform\", function(d) {\n                                var s = \"rotate(90), \";\n                                switch (options.label.position) {\n                                    case \"right\":\n                                        s += \"translate(-\" + w(d) + \" , -\" + w(d) + \")\";\n                                        break;\n                                    case \"left\":\n                                        s += \"translate(0, -\" + self.domainHorizontalLabelWidth + \")\";\n                                        break;\n                                }\n\n                                return s;\n                            });\n                        break;\n                    case \"left\":\n                        selection\n                            .attr(\"transform\", function(d) {\n                                var s = \"rotate(270), \";\n                                switch (options.label.position) {\n                                    case \"right\":\n                                        s += \"translate(-\" + (w(d) + self.domainHorizontalLabelWidth) + \" , \" + w(d) + \")\";\n                                        break;\n                                    case \"left\":\n                                        s += \"translate(-\" + (self.domainHorizontalLabelWidth) + \" , \" + self.domainHorizontalLabelWidth + \")\";\n                                        break;\n                                }\n\n                                return s;\n                            });\n                        break;\n                }\n            }\n\n            // =========================================================================//\n            // PAINTING DOMAIN SUBDOMAIN CONTENT\t\t\t\t\t\t\t\t\t\t//\n            // =========================================================================//\n            if (options.subDomainTextFormat !== null) {\n                rect\n                    .append(\"text\")\n                    .attr(\"class\", function(d) {\n                        return \"subdomain-text\" + self.getHighlightClassName(d.t);\n                    })\n                    .attr(\"x\", function(d) {\n                        return self.positionSubDomainX(d.t) + options.cellSize / 2;\n                    })\n                    .attr(\"y\", function(d) {\n                        return self.positionSubDomainY(d.t) + options.cellSize / 2;\n                    })\n                    .attr(\"text-anchor\", \"middle\")\n                    .attr(\"dominant-baseline\", \"central\")\n                    .text(function(d) {\n                        return self.formatDate(new Date(d.t), options.subDomainTextFormat);\n                    });\n            }\n\n            // =========================================================================//\n            // ANIMATION\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n            // =========================================================================//\n\n            if (navigationDir !== false) {\n                domainSvg.transition().duration(options.animationDuration)\n                    .attr(\"x\", function(d) {\n                        return options.verticalOrientation ? 0 : self.domainPosition.getPosition(d);\n                    })\n                    .attr(\"y\", function(d) {\n                        return options.verticalOrientation ? self.domainPosition.getPosition(d) : 0;\n                    });\n            }\n\n            var tempWidth = self.graphDim.width;\n            var tempHeight = self.graphDim.height;\n\n            if (options.verticalOrientation) {\n                self.graphDim.height += enteringDomainDim - exitingDomainDim;\n            } else {\n                self.graphDim.width += enteringDomainDim - exitingDomainDim;\n            }\n\n            // At the time of exit, domainsWidth and domainsHeight already automatically shifted\n            domainSvg.exit().transition().duration(options.animationDuration)\n                .attr(\"x\", function(d) {\n                    if (options.verticalOrientation) {\n                        return 0;\n                    } else {\n                        switch (navigationDir) {\n                            case self.NAVIGATE_LEFT:\n                                return Math.min(self.graphDim.width, tempWidth);\n                            case self.NAVIGATE_RIGHT:\n                                return -w(d, true);\n                        }\n                    }\n                })\n                .attr(\"y\", function(d) {\n                    if (options.verticalOrientation) {\n                        switch (navigationDir) {\n                            case self.NAVIGATE_LEFT:\n                                return Math.min(self.graphDim.height, tempHeight);\n                            case self.NAVIGATE_RIGHT:\n                                return -h(d, true);\n                        }\n                    } else {\n                        return 0;\n                    }\n                })\n                .remove();\n\n            // Resize the root container\n            self.resize();\n        };\n    }\n\n    /**\n     * Validate and merge user settings with default settings\n     *\n     * @param  {object} settings User settings\n     * @return {bool} False if settings contains error\n     */\n    /* jshint maxstatements:false */\n    init(settings) {\n        \"use strict\";\n\n        var parent = this;\n\n        var options = parent.options = mergeRecursive(parent.options, settings);\n\n        // Fatal errors\n        // Stop script execution on error\n        validateDomainType();\n        validateSelector(options.itemSelector, false, \"itemSelector\");\n\n        if (parent.allowedDataType.indexOf(options.dataType) === -1) {\n            throw new Error(\"The data type '\" + options.dataType + \"' is not valid data type\");\n        }\n\n        if (select(options.itemSelector).node() === null) {\n            throw new Error(\"The node '\" + options.itemSelector + \"' specified in itemSelector does not exists\");\n        }\n\n        try {\n            validateSelector(options.nextSelector, true, \"nextSelector\");\n            validateSelector(options.previousSelector, true, \"previousSelector\");\n        } catch (error) {\n            console.log(error.message);\n            return false;\n        }\n\n        // If other settings contains error, will fallback to default\n\n        if (!settings.hasOwnProperty(\"subDomain\")) {\n            this.options.subDomain = getOptimalSubDomain(settings.domain);\n        }\n\n        if (typeof options.itemNamespace !== \"string\" || options.itemNamespace === \"\") {\n            console.log(\"itemNamespace can not be empty, falling back to cal-heatmap\");\n            options.itemNamespace = \"cal-heatmap\";\n        }\n\n        // Don't touch these settings\n        var s = [\"data\", \"onComplete\", \"onClick\", \"afterLoad\", \"afterLoadData\", \"afterLoadPreviousDomain\", \"afterLoadNextDomain\"];\n\n        for (var k in s) {\n            if (settings.hasOwnProperty(s[k])) {\n                options[s[k]] = settings[s[k]];\n            }\n        }\n\n        options.subDomainDateFormat = (typeof options.subDomainDateFormat === \"string\" || typeof options.subDomainDateFormat === \"function\" ? options.subDomainDateFormat : this._domainType[options.subDomain].format.date);\n        options.domainLabelFormat = (typeof options.domainLabelFormat === \"string\" || typeof options.domainLabelFormat === \"function\" ? options.domainLabelFormat : this._domainType[options.domain].format.legend);\n        options.subDomainTextFormat = ((typeof options.subDomainTextFormat === \"string\" && options.subDomainTextFormat !== \"\") || typeof options.subDomainTextFormat === \"function\" ? options.subDomainTextFormat : null);\n        options.domainMargin = expandMarginSetting(options.domainMargin);\n        options.legendMargin = expandMarginSetting(options.legendMargin);\n        options.highlight = parent.expandDateSetting(options.highlight);\n        options.itemName = expandItemName(options.itemName);\n        options.colLimit = parseColLimit(options.colLimit);\n        options.rowLimit = parseRowLimit(options.rowLimit);\n        if (!settings.hasOwnProperty(\"legendMargin\")) {\n            autoAddLegendMargin();\n        }\n        autoAlignLabel();\n\n        /**\n         * Validate that a queryString is valid\n         *\n         * @param  {Element|string|bool} selector   The queryString to test\n         * @param  {bool}\tcanBeFalse\tWhether false is an accepted and valid value\n         * @param  {string} name\t\tName of the tested selector\n         * @throws {Error}\t\t\t\tIf the selector is not valid\n         * @return {bool}\t\t\t\tTrue if the selector is a valid queryString\n         */\n        function validateSelector(selector, canBeFalse, name) {\n            if (((canBeFalse && selector === false) || selector instanceof Element || typeof selector === \"string\") && selector !== \"\") {\n                return true;\n            }\n            throw new Error(\"The \" + name + \" is not valid\");\n        }\n\n        /**\n         * Return the optimal subDomain for the specified domain\n         *\n         * @param  {string} domain a domain name\n         * @return {string}        the subDomain name\n         */\n        function getOptimalSubDomain(domain) {\n            switch (domain) {\n                case \"year\":\n                    return \"month\";\n                case \"month\":\n                    return \"day\";\n                case \"week\":\n                    return \"day\";\n                case \"day\":\n                    return \"hour\";\n                default:\n                    return \"min\";\n            }\n        }\n\n        /**\n         * Ensure that the domain and subdomain are valid\n         *\n         * @throw {Error} when domain or subdomain are not valid\n         * @return {bool} True if domain and subdomain are valid and compatible\n         */\n        function validateDomainType() {\n            if (!parent._domainType.hasOwnProperty(options.domain) || options.domain === \"min\" || options.domain.substring(0, 2) === \"x_\") {\n                throw new Error(\"The domain '\" + options.domain + \"' is not valid\");\n            }\n\n            if (!parent._domainType.hasOwnProperty(options.subDomain) || options.subDomain === \"year\") {\n                throw new Error(\"The subDomain '\" + options.subDomain + \"' is not valid\");\n            }\n\n            if (parent._domainType[options.domain].level <= parent._domainType[options.subDomain].level) {\n                throw new Error(\"'\" + options.subDomain + \"' is not a valid subDomain to '\" + options.domain + \"'\");\n            }\n\n            return true;\n        }\n\n        /**\n         * Fine-tune the label alignement depending on its position\n         *\n         * @return void\n         */\n        function autoAlignLabel() {\n            // Auto-align label, depending on it's position\n            if (!settings.hasOwnProperty(\"label\") || (settings.hasOwnProperty(\"label\") && !settings.label.hasOwnProperty(\"align\"))) {\n                switch (options.label.position) {\n                    case \"left\":\n                        options.label.align = \"right\";\n                        break;\n                    case \"right\":\n                        options.label.align = \"left\";\n                        break;\n                    default:\n                        options.label.align = \"center\";\n                }\n\n                if (options.label.rotate === \"left\") {\n                    options.label.align = \"right\";\n                } else if (options.label.rotate === \"right\") {\n                    options.label.align = \"left\";\n                }\n            }\n\n            if (!settings.hasOwnProperty(\"label\") || (settings.hasOwnProperty(\"label\") && !settings.label.hasOwnProperty(\"offset\"))) {\n                if (options.label.position === \"left\" || options.label.position === \"right\") {\n                    options.label.offset = {\n                        x: 10,\n                        y: 15\n                    };\n                }\n            }\n        }\n\n        /**\n         * If not specified, add some margin around the legend depending on its position\n         *\n         * @return void\n         */\n        function autoAddLegendMargin() {\n            switch (options.legendVerticalPosition) {\n                case \"top\":\n                    options.legendMargin[2] = parent.DEFAULT_LEGEND_MARGIN;\n                    break;\n                case \"bottom\":\n                    options.legendMargin[0] = parent.DEFAULT_LEGEND_MARGIN;\n                    break;\n                case \"middle\":\n                case \"center\":\n                    options.legendMargin[options.legendHorizontalPosition === \"right\" ? 3 : 1] = parent.DEFAULT_LEGEND_MARGIN;\n            }\n        }\n\n        /**\n         * Expand a number of an array of numbers to an usable 4 values array\n         *\n         * @param  {integer|array} value\n         * @return {array}        array\n         */\n        function expandMarginSetting(value) {\n            if (typeof value === \"number\") {\n                value = [value];\n            }\n\n            if (!Array.isArray(value)) {\n                console.log(\"Margin only takes an integer or an array of integers\");\n                value = [0];\n            }\n\n            switch (value.length) {\n                case 1:\n                    return [value[0], value[0], value[0], value[0]];\n                case 2:\n                    return [value[0], value[1], value[0], value[1]];\n                case 3:\n                    return [value[0], value[1], value[2], value[1]];\n                case 4:\n                    return value;\n                default:\n                    return value.slice(0, 4);\n            }\n        }\n\n        /**\n         * Convert a string to an array like [singular-form, plural-form]\n         *\n         * @param  {string|array} value Date to convert\n         * @return {array}       An array like [singular-form, plural-form]\n         */\n        function expandItemName(value) {\n            if (typeof value === \"string\") {\n                return [value, value + (value !== \"\" ? \"s\" : \"\")];\n            }\n\n            if (Array.isArray(value)) {\n                if (value.length === 1) {\n                    return [value[0], value[0] + \"s\"];\n                } else if (value.length > 2) {\n                    return value.slice(0, 2);\n                }\n\n                return value;\n            }\n\n            return [\"item\", \"items\"];\n        }\n\n        function parseColLimit(value) {\n            return value > 0 ? value : null;\n        }\n\n        function parseRowLimit(value) {\n            if (value > 0 && options.colLimit > 0) {\n                console.log(\"colLimit and rowLimit are mutually exclusive, rowLimit will be ignored\");\n                return null;\n            }\n            return value > 0 ? value : null;\n        }\n\n        return this._init();\n\n    }\n\n    /**\n     * Convert a keyword or an array of keyword/date to an array of date objects\n     *\n     * @param  {string|array|Date} value Data to convert\n     * @return {array}       An array of Dates\n     */\n    expandDateSetting(value) {\n        \"use strict\";\n\n        if (!Array.isArray(value)) {\n            value = [value];\n        }\n\n        return value.map(function(data) {\n            if (data === \"now\") {\n                return new Date();\n            }\n            if (data instanceof Date) {\n                return data;\n            }\n            return false;\n        }).filter(function(d) {\n            return d !== false;\n        });\n    }\n\n    /**\n     * Fill the calendar by coloring the cells\n     *\n     * @param array svg An array of html node to apply the transformation to (optional)\n     *                  It's used to limit the painting to only a subset of the calendar\n     * @return void\n     */\n    fill(svg) {\n        \"use strict\";\n\n        var parent = this;\n        var options = parent.options;\n\n        if (arguments.length === 0) {\n            svg = parent.root.selectAll(\".graph-domain\");\n        }\n\n        var rect = svg\n            .selectAll(\"svg\").selectAll(\"g\")\n            .data(function(d) {\n                return parent._domains.get(d);\n            });\n\n        /**\n         * Colorize the cell via a style attribute if enabled\n         */\n        function addStyle(element) {\n            if (parent.legendScale === null) {\n                return false;\n            }\n\n            element.attr(\"fill\", function(d) {\n                if (d.v === null && (options.hasOwnProperty(\"considerMissingDataAsZero\") && !options.considerMissingDataAsZero)) {\n                    if (options.legendColors.hasOwnProperty(\"base\")) {\n                        return options.legendColors.base;\n                    }\n                }\n\n                if (options.legendColors !== null && options.legendColors.hasOwnProperty(\"empty\") &&\n                    (d.v === 0 || (d.v === null && options.hasOwnProperty(\"considerMissingDataAsZero\") && options.considerMissingDataAsZero))\n                ) {\n                    return options.legendColors.empty;\n                }\n\n                if (d.v < 0 && options.legend[0] > 0 && options.legendColors !== null && options.legendColors.hasOwnProperty(\"overflow\")) {\n                    return options.legendColors.overflow;\n                }\n\n                return parent.legendScale(Math.min(d.v, options.legend[options.legend.length - 1]));\n            });\n        }\n\n        rect.transition().duration(options.animationDuration).select(\"rect\")\n            .attr(\"class\", function(d) {\n\n                var htmlClass = parent.getHighlightClassName(d.t).trim().split(\" \");\n                var pastDate = parent.dateIsLessThan(d.t, new Date());\n                var sameDate = parent.dateIsEqual(d.t, new Date());\n\n                if (parent.legendScale === null ||\n                    (d.v === null && (options.hasOwnProperty(\"considerMissingDataAsZero\") && !options.considerMissingDataAsZero) && !options.legendColors.hasOwnProperty(\"base\"))\n                ) {\n                    htmlClass.push(\"graph-rect\");\n                }\n\n                if (sameDate) {\n                    htmlClass.push(\"now\");\n                } else if (!pastDate) {\n                    htmlClass.push(\"future\");\n                }\n\n                if (d.v !== null) {\n                    htmlClass.push(parent.Legend.getClass(d.v, (parent.legendScale === null)));\n                } else if (options.considerMissingDataAsZero && pastDate) {\n                    htmlClass.push(parent.Legend.getClass(0, (parent.legendScale === null)));\n                }\n\n                if (options.onClick !== null) {\n                    htmlClass.push(\"hover_cursor\");\n                }\n\n                return htmlClass.join(\" \");\n            })\n            .call(addStyle);\n\n        rect.transition().duration(options.animationDuration).select(\"title\")\n            .text(function(d) {\n                return parent.getSubDomainTitle(d);\n            });\n\n        function formatSubDomainText(element) {\n            if (typeof options.subDomainTextFormat === \"function\") {\n                element.text(function(d) {\n                    return options.subDomainTextFormat(d.t, d.v);\n                });\n            }\n        }\n\n        /**\n         * Change the subDomainText class if necessary\n         * Also change the text, e.g when text is representing the value\n         * instead of the date\n         */\n        rect.transition().duration(options.animationDuration).select(\"text\")\n            .attr(\"class\", function(d) {\n                return \"subdomain-text\" + parent.getHighlightClassName(d.t);\n            })\n            .call(formatSubDomainText);\n    }\n\n    /**\n     * Sprintf like function.\n     * Replaces placeholders {0} in string with values from provided object.\n     * \n     * @param string formatted String containing placeholders.\n     * @param object args Object with properties to replace placeholders in string.\n     * \n     * @return String\n     */\n    formatStringWithObject(formatted, args) {\n        \"use strict\";\n        for (var prop in args) {\n            if (args.hasOwnProperty(prop)) {\n                var regexp = new RegExp(\"\\\\{\" + prop + \"\\\\}\", \"gi\");\n                formatted = formatted.replace(regexp, args[prop]);\n            }\n        }\n        return formatted;\n    }\n\n    // =========================================================================//\n    // EVENTS CALLBACK\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n    // =========================================================================//\n\n    /**\n     * Helper method for triggering event callback\n     *\n     * @param  string\teventName       Name of the event to trigger\n     * @param  array\tsuccessArgs     List of argument to pass to the callback\n     * @param  boolean  skip\t\t\tWhether to skip the event triggering\n     * @return mixed\tTrue when the triggering was skipped, false on error, else the callback function\n     */\n    triggerEvent(eventName, successArgs, skip) {\n        \"use strict\";\n\n        if ((arguments.length === 3 && skip) || this.options[eventName] === null) {\n            return true;\n        }\n\n        if (typeof this.options[eventName] === \"function\") {\n            if (typeof successArgs === \"function\") {\n                successArgs = successArgs();\n            }\n            return this.options[eventName].apply(this, successArgs);\n        } else {\n            console.log(\"Provided callback for \" + eventName + \" is not a function.\");\n            return false;\n        }\n    }\n\n    /**\n     * Event triggered on a mouse click on a subDomain cell\n     *\n     * @param  Date\t\td\t\tDate of the subdomain block\n     * @param  int\t\titemNb\tNumber of items in that date\n     */\n    onClick(d, itemNb) {\n        \"use strict\";\n\n        return this.triggerEvent(\"onClick\", [d, itemNb]);\n    }\n\n    /**\n     * Event triggered after drawing the calendar, byt before filling it with data\n     */\n    afterLoad() {\n        \"use strict\";\n\n        return this.triggerEvent(\"afterLoad\");\n    }\n\n    /**\n     * Event triggered after completing drawing and filling the calendar\n     */\n    onComplete() {\n        \"use strict\";\n\n        var response = this.triggerEvent(\"onComplete\", [], this._completed);\n        this._completed = true;\n        return response;\n    }\n\n    /**\n     * Event triggered after shifting the calendar one domain back\n     *\n     * @param  Date\t\tstart\tDomain start date\n     * @param  Date\t\tend\t\tDomain end date\n     */\n    afterLoadPreviousDomain(start) {\n        \"use strict\";\n\n        var parent = this;\n        return this.triggerEvent(\"afterLoadPreviousDomain\", function() {\n            var subDomain = parent.getSubDomain(start);\n            return [subDomain.shift(), subDomain.pop()];\n        });\n    }\n\n    /**\n     * Event triggered after shifting the calendar one domain above\n     *\n     * @param  Date\t\tstart\tDomain start date\n     * @param  Date\t\tend\t\tDomain end date\n     */\n    afterLoadNextDomain(start) {\n        \"use strict\";\n\n        var parent = this;\n        return this.triggerEvent(\"afterLoadNextDomain\", function() {\n            var subDomain = parent.getSubDomain(start);\n            return [subDomain.shift(), subDomain.pop()];\n        });\n    }\n\n    /**\n     * Event triggered after loading the leftmost domain allowed by minDate\n     *\n     * @param  boolean  reached True if the leftmost domain was reached\n     */\n    onMinDomainReached(reached) {\n        \"use strict\";\n\n        this._minDomainReached = reached;\n        return this.triggerEvent(\"onMinDomainReached\", [reached]);\n    }\n\n    /**\n     * Event triggered after loading the rightmost domain allowed by maxDate\n     *\n     * @param  boolean  reached True if the rightmost domain was reached\n     */\n    onMaxDomainReached(reached) {\n        \"use strict\";\n\n        this._maxDomainReached = reached;\n        return this.triggerEvent(\"onMaxDomainReached\", [reached]);\n    }\n\n    checkIfMinDomainIsReached(date, upperBound) {\n        \"use strict\";\n\n        if (this.minDomainIsReached(date)) {\n            this.onMinDomainReached(true);\n        }\n\n        if (arguments.length === 2) {\n            if (this._maxDomainReached && !this.maxDomainIsReached(upperBound)) {\n                this.onMaxDomainReached(false);\n            }\n        }\n    }\n\n    checkIfMaxDomainIsReached(date, lowerBound) {\n        \"use strict\";\n\n        if (this.maxDomainIsReached(date)) {\n            this.onMaxDomainReached(true);\n        }\n\n        if (arguments.length === 2) {\n            if (this._minDomainReached && !this.minDomainIsReached(lowerBound)) {\n                this.onMinDomainReached(false);\n            }\n        }\n    }\n\n    // =========================================================================//\n    // FORMATTER\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n    // =========================================================================//\n\n    formatNumber() {\n        return format(\",g\").apply(this, arguments);\n    }\n\n    formatDate(d, format) {\n        \"use strict\";\n\n        if (arguments.length < 2) {\n            format = \"title\";\n        }\n\n        if (typeof format === \"function\") {\n            return format(d);\n        } else {\n            var f = timeFormat(format);\n            return f(d);\n        }\n    }\n\n    getSubDomainTitle(d) {\n        \"use strict\";\n\n        if (d.v === null && !this.options.considerMissingDataAsZero) {\n            return this.formatStringWithObject(this.options.subDomainTitleFormat.empty, {\n                date: this.formatDate(new Date(d.t), this.options.subDomainDateFormat)\n            });\n        } else {\n            var value = d.v;\n            // Consider null as 0\n            if (value === null && this.options.considerMissingDataAsZero) {\n                value = 0;\n            }\n\n            return this.formatStringWithObject(this.options.subDomainTitleFormat.filled, {\n                count: this.formatNumber(value),\n                name: this.options.itemName[(value !== 1 ? 1 : 0)],\n                connector: this._domainType[this.options.subDomain].format.connector,\n                date: this.formatDate(new Date(d.t), this.options.subDomainDateFormat)\n            });\n        }\n    }\n\n    // =========================================================================//\n    // DOMAIN NAVIGATION\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n    // =========================================================================//\n\n    /**\n     * Shift the calendar one domain forward\n     *\n     * The new domain is loaded only if it's not beyond maxDate\n     *\n     * @param int n Number of domains to load\n     * @return bool True if the next domain was loaded, else false\n     */\n    loadNextDomain(n) {\n        \"use strict\";\n\n        if (this._maxDomainReached || n === 0) {\n            return false;\n        }\n\n        var bound = this.loadNewDomains(this.NAVIGATE_RIGHT, this.getDomain(this.getNextDomain(), n));\n\n        this.afterLoadNextDomain(bound.end);\n        this.checkIfMaxDomainIsReached(this.getNextDomain().getTime(), bound.start);\n\n        return true;\n    }\n\n    /**\n     * Shift the calendar one domain backward\n     *\n     * The previous domain is loaded only if it's not beyond the minDate\n     *\n     * @param int n Number of domains to load\n     * @return bool True if the previous domain was loaded, else false\n     */\n    loadPreviousDomain(n) {\n        \"use strict\";\n\n        if (this._minDomainReached || n === 0) {\n            return false;\n        }\n\n        var bound = this.loadNewDomains(this.NAVIGATE_LEFT, this.getDomain(this.getDomainKeys()[0], -n).reverse());\n\n        this.afterLoadPreviousDomain(bound.start);\n        this.checkIfMinDomainIsReached(bound.start, bound.end);\n\n        return true;\n    }\n\n    loadNewDomains(direction, newDomains) {\n        \"use strict\";\n\n        var parent = this;\n        var backward = direction === this.NAVIGATE_LEFT;\n        var i = -1;\n        var total = newDomains.length;\n        var domains = this.getDomainKeys();\n\n        function buildSubDomain(d) {\n            return { t: parent._domainType[parent.options.subDomain].extractUnit(d), v: null };\n        }\n\n        // Remove out of bound domains from list of new domains to prepend\n        while (++i < total) {\n            if (backward && this.minDomainIsReached(newDomains[i])) {\n                newDomains = newDomains.slice(0, i + 1);\n                break;\n            }\n            if (!backward && this.maxDomainIsReached(newDomains[i])) {\n                newDomains = newDomains.slice(0, i);\n                break;\n            }\n        }\n\n        newDomains = newDomains.slice(-this.options.range);\n\n        for (i = 0, total = newDomains.length; i < total; i++) {\n            this._domains.set(\n                newDomains[i].getTime(),\n                this.getSubDomain(newDomains[i]).map(buildSubDomain)\n            );\n\n            this._domains.remove(backward ? domains.pop() : domains.shift());\n        }\n\n        domains = this.getDomainKeys();\n\n        if (backward) {\n            newDomains = newDomains.reverse();\n        }\n\n        this.paint(direction);\n\n        this.getDatas(\n            this.options.data,\n            newDomains[0],\n            this.getSubDomain(newDomains[newDomains.length - 1]).pop(),\n            function() {\n                parent.fill(parent.lastInsertedSvg);\n            }\n        );\n\n        return {\n            start: newDomains[backward ? 0 : 1],\n            end: domains[domains.length - 1]\n        };\n    }\n\n    /**\n     * Return whether a date is inside the scope determined by maxDate\n     *\n     * @param int datetimestamp The timestamp in ms to test\n     * @return bool True if the specified date correspond to the calendar upper bound\n     */\n    maxDomainIsReached(datetimestamp) {\n        \"use strict\";\n\n        return (this.options.maxDate !== null && (this.options.maxDate.getTime() < datetimestamp));\n    }\n\n    /**\n     * Return whether a date is inside the scope determined by minDate\n     *\n     * @param int datetimestamp The timestamp in ms to test\n     * @return bool True if the specified date correspond to the calendar lower bound\n     */\n    minDomainIsReached(datetimestamp) {\n        \"use strict\";\n\n        return (this.options.minDate !== null && (this.options.minDate.getTime() >= datetimestamp));\n    }\n\n    /**\n     * Return the list of the calendar's domain timestamp\n     *\n     * @return Array a sorted array of timestamp\n     */\n    getDomainKeys() {\n        \"use strict\";\n\n        return this._domains.keys()\n            .map(function(d) {\n                return parseInt(d, 10);\n            })\n            .sort(function(a, b) {\n                return a - b;\n            });\n    }\n\n    // =========================================================================//\n    // POSITIONNING\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n    // =========================================================================//\n\n    positionSubDomainX(d) {\n        \"use strict\";\n\n        var index = this._domainType[this.options.subDomain].position.x(new Date(d));\n        return index * this.options.cellSize + index * this.options.cellPadding;\n    }\n\n    positionSubDomainY(d) {\n        \"use strict\";\n\n        var index = this._domainType[this.options.subDomain].position.y(new Date(d));\n        return index * this.options.cellSize + index * this.options.cellPadding;\n    }\n\n    getSubDomainColumnNumber(d) {\n        \"use strict\";\n\n        if (this.options.rowLimit > 0) {\n            var i = this._domainType[this.options.subDomain].maxItemNumber;\n            if (typeof i === \"function\") {\n                i = i(d);\n            }\n            return Math.ceil(i / this.options.rowLimit);\n        }\n\n        var j = this._domainType[this.options.subDomain].defaultColumnNumber;\n        if (typeof j === \"function\") {\n            j = j(d);\n\n        }\n        return this.options.colLimit || j;\n    }\n\n    getSubDomainRowNumber(d) {\n        \"use strict\";\n\n        if (this.options.colLimit > 0) {\n            var i = this._domainType[this.options.subDomain].maxItemNumber;\n            if (typeof i === \"function\") {\n                i = i(d);\n            }\n            return Math.ceil(i / this.options.colLimit);\n        }\n\n        var j = this._domainType[this.options.subDomain].defaultRowNumber;\n        if (typeof j === \"function\") {\n            j = j(d);\n\n        }\n        return this.options.rowLimit || j;\n    }\n\n    /**\n     * Return a classname if the specified date should be highlighted\n     *\n     * @param  timestamp date Date of the current subDomain\n     * @return String the highlight class\n     */\n    getHighlightClassName(d) {\n        \"use strict\";\n\n        d = new Date(d);\n\n        if (this.options.highlight.length > 0) {\n            for (var i in this.options.highlight) {\n                if (this.dateIsEqual(this.options.highlight[i], d)) {\n                    return this.isNow(this.options.highlight[i]) ? \" highlight-now\" : \" highlight\";\n                }\n            }\n        }\n        return \"\";\n    }\n\n    /**\n     * Return whether the specified date is now,\n     * according to the type of subdomain\n     *\n     * @param  Date d The date to compare\n     * @return bool True if the date correspond to a subdomain cell\n     */\n    isNow(d) {\n        \"use strict\";\n\n        return this.dateIsEqual(d, new Date());\n    }\n\n    /**\n     * Return whether 2 dates are equals\n     * This function is subdomain-aware,\n     * and dates comparison are dependent of the subdomain\n     *\n     * @param  Date dateA First date to compare\n     * @param  Date dateB Secon date to compare\n     * @return bool true if the 2 dates are equals\n     */\n    /* jshint maxcomplexity: false */\n    dateIsEqual(dateA, dateB) {\n        \"use strict\";\n\n        if (!(dateA instanceof Date)) {\n            dateA = new Date(dateA);\n        }\n\n        if (!(dateB instanceof Date)) {\n            dateB = new Date(dateB);\n        }\n\n        switch (this.options.subDomain) {\n            case \"x_min\":\n            case \"min\":\n                return dateA.getFullYear() === dateB.getFullYear() &&\n                    dateA.getMonth() === dateB.getMonth() &&\n                    dateA.getDate() === dateB.getDate() &&\n                    dateA.getHours() === dateB.getHours() &&\n                    dateA.getMinutes() === dateB.getMinutes();\n            case \"x_hour\":\n            case \"hour\":\n                return dateA.getFullYear() === dateB.getFullYear() &&\n                    dateA.getMonth() === dateB.getMonth() &&\n                    dateA.getDate() === dateB.getDate() &&\n                    dateA.getHours() === dateB.getHours();\n            case \"x_day\":\n            case \"day\":\n                return dateA.getFullYear() === dateB.getFullYear() &&\n                    dateA.getMonth() === dateB.getMonth() &&\n                    dateA.getDate() === dateB.getDate();\n            case \"x_week\":\n            case \"week\":\n                return dateA.getFullYear() === dateB.getFullYear() &&\n                    this.getWeekNumber(dateA) === this.getWeekNumber(dateB);\n            case \"x_month\":\n            case \"month\":\n                return dateA.getFullYear() === dateB.getFullYear() &&\n                    dateA.getMonth() === dateB.getMonth();\n            default:\n                return false;\n        }\n    }\n\n\n    /**\n     * Returns wether or not dateA is less than or equal to dateB. This function is subdomain aware.\n     * Performs automatic conversion of values.\n     * @param dateA may be a number or a Date\n     * @param dateB may be a number or a Date\n     * @returns {boolean}\n     */\n    dateIsLessThan(dateA, dateB) {\n        \"use strict\";\n\n        if (!(dateA instanceof Date)) {\n            dateA = new Date(dateA);\n        }\n\n        if (!(dateB instanceof Date)) {\n            dateB = new Date(dateB);\n        }\n\n\n        function normalizedMillis(date, subdomain) {\n            switch (subdomain) {\n                case \"x_min\":\n                case \"min\":\n                    return new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes()).getTime();\n                case \"x_hour\":\n                case \"hour\":\n                    return new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours()).getTime();\n                case \"x_day\":\n                case \"day\":\n                    return new Date(date.getFullYear(), date.getMonth(), date.getDate()).getTime();\n                case \"x_week\":\n                case \"week\":\n                case \"x_month\":\n                case \"month\":\n                    return new Date(date.getFullYear(), date.getMonth()).getTime();\n                default:\n                    return date.getTime();\n            }\n        }\n\n        return normalizedMillis(dateA, this.options.subDomain) < normalizedMillis(dateB, this.options.subDomain);\n    }\n\n\n    // =========================================================================//\n    // DATE COMPUTATION\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n    // =========================================================================//\n\n    /**\n     * Return the day of the year for the date\n     * @param\tDate\n     * @return  int Day of the year [1,366]\n     */\n    getDayOfYear() {\n        return timeFormat(\"%j\").apply(this, arguments);\n    }\n\n    /**\n     * Return the week number of the year\n     * Monday as the first day of the week\n     * @return int\tWeek number [0-53]\n     */\n    getWeekNumber(d) {\n        \"use strict\";\n\n        var f = this.options.weekStartOnMonday === true ? timeFormat(\"%W\") : timeFormat(\"%U\");\n        return f(d);\n    }\n\n    /**\n     * Return the week number, relative to its month\n     *\n     * @param  int|Date d Date or timestamp in milliseconds\n     * @return int Week number, relative to the month [0-5]\n     */\n    getMonthWeekNumber(d) {\n        \"use strict\";\n\n        if (typeof d === \"number\") {\n            d = new Date(d);\n        }\n\n        var monthFirstWeekNumber = this.getWeekNumber(new Date(d.getFullYear(), d.getMonth()));\n        return this.getWeekNumber(d) - monthFirstWeekNumber - 1;\n    }\n\n    /**\n     * Return the number of weeks in the dates' year\n     *\n     * @param  int|Date d Date or timestamp in milliseconds\n     * @return int Number of weeks in the date's year\n     */\n    getWeekNumberInYear(d) {\n        \"use strict\";\n\n        if (typeof d === \"number\") {\n            d = new Date(d);\n        }\n    }\n\n    /**\n     * Return the number of days in the date's month\n     *\n     * @param  int|Date d Date or timestamp in milliseconds\n     * @return int Number of days in the date's month\n     */\n    getDayCountInMonth(d) {\n        \"use strict\";\n\n        return this.getEndOfMonth(d).getDate();\n    }\n\n    /**\n     * Return the number of days in the date's year\n     *\n     * @param  int|Date d Date or timestamp in milliseconds\n     * @return int Number of days in the date's year\n     */\n    getDayCountInYear(d) {\n        \"use strict\";\n\n        if (typeof d === \"number\") {\n            d = new Date(d);\n        }\n        return (new Date(d.getFullYear(), 1, 29).getMonth() === 1) ? 366 : 365;\n    }\n\n    /**\n     * Get the weekday from a date\n     *\n     * Return the week day number (0-6) of a date,\n     * depending on whether the week start on monday or sunday\n     *\n     * @param  Date d\n     * @return int The week day number (0-6)\n     */\n    getWeekDay(d) {\n        \"use strict\";\n\n        if (this.options.weekStartOnMonday === false) {\n            return d.getDay();\n        }\n        return d.getDay() === 0 ? 6 : (d.getDay() - 1);\n    }\n\n    /**\n     * Get the last day of the month\n     * @param  Date|int\td\tDate or timestamp in milliseconds\n     * @return Date\t\t\tLast day of the month\n     */\n    getEndOfMonth(d) {\n        \"use strict\";\n\n        if (typeof d === \"number\") {\n            d = new Date(d);\n        }\n        return new Date(d.getFullYear(), d.getMonth() + 1, 0);\n    }\n\n    /**\n     *\n     * @param  Date date\n     * @param  int count\n     * @param  string step\n     * @return Date\n     */\n    jumpDate(date, count, step) {\n        \"use strict\";\n\n        var d = new Date(date);\n        switch (step) {\n            case \"hour\":\n                d.setHours(d.getHours() + count);\n                break;\n            case \"day\":\n                d.setHours(d.getHours() + count * 24);\n                break;\n            case \"week\":\n                d.setHours(d.getHours() + count * 24 * 7);\n                break;\n            case \"month\":\n                d.setMonth(d.getMonth() + count);\n                break;\n            case \"year\":\n                d.setFullYear(d.getFullYear() + count);\n        }\n\n        return new Date(d);\n    }\n\n    // =========================================================================//\n    // DOMAIN COMPUTATION\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n    // =========================================================================//\n\n    /**\n     * Return all the minutes between 2 dates\n     *\n     * @param  Date\td\tdate\tA date\n     * @param  int|date\trange\tNumber of minutes in the range, or a stop date\n     * @return array\tAn array of minutes\n     */\n    getMinuteDomain(d, range) {\n        \"use strict\";\n\n        var start = new Date(d.getFullYear(), d.getMonth(), d.getDate(), d.getHours());\n        var stop = null;\n        if (range instanceof Date) {\n            stop = new Date(range.getFullYear(), range.getMonth(), range.getDate(), range.getHours());\n        } else {\n            stop = new Date(+start + range * 1000 * 60);\n        }\n        return timeMinutes(Math.min(start, stop), Math.max(start, stop));\n    }\n\n    /**\n     * Return all the hours between 2 dates\n     *\n     * @param  Date\td\tA date\n     * @param  int|date\trange\tNumber of hours in the range, or a stop date\n     * @return array\tAn array of hours\n     */\n    getHourDomain(d, range) {\n        \"use strict\";\n\n        var start = new Date(d.getFullYear(), d.getMonth(), d.getDate(), d.getHours());\n        var stop = null;\n        if (range instanceof Date) {\n            stop = new Date(range.getFullYear(), range.getMonth(), range.getDate(), range.getHours());\n        } else {\n            stop = new Date(start);\n            stop.setHours(stop.getHours() + range);\n        }\n\n        var domains = timeHours(Math.min(start, stop), Math.max(start, stop));\n\n        // Passing from DST to standard time\n        // If there are 25 hours, let's compress the duplicate hours\n        var i = 0;\n        var total = domains.length;\n        for (i = 0; i < total; i++) {\n            if (i > 0 && (domains[i].getHours() === domains[i - 1].getHours())) {\n                this.DSTDomain.push(domains[i].getTime());\n                domains.splice(i, 1);\n                break;\n            }\n        }\n\n        // d3.time.hours is returning more hours than needed when changing\n        // from DST to standard time, because there is really 2 hours between\n        // 1am and 2am!\n        if (typeof range === \"number\" && domains.length > Math.abs(range)) {\n            domains.splice(domains.length - 1, 1);\n        }\n\n        return domains;\n    }\n\n    /**\n     * Return all the days between 2 dates\n     *\n     * @param  Date\t\td\t\tA date\n     * @param  int|date\trange\tNumber of days in the range, or a stop date\n     * @return array\tAn array of weeks\n     */\n    getDayDomain(d, range) {\n        \"use strict\";\n\n        var start = new Date(d.getFullYear(), d.getMonth(), d.getDate());\n        var stop = null;\n        if (range instanceof Date) {\n            stop = new Date(range.getFullYear(), range.getMonth(), range.getDate());\n        } else {\n            stop = new Date(start);\n            stop = new Date(stop.setDate(stop.getDate() + parseInt(range, 10)));\n        }\n\n        return timeDays(Math.min(start, stop), Math.max(start, stop));\n    }\n\n    /**\n     * Return all the weeks between 2 dates\n     *\n     * @param  Date\td\tA date\n     * @param  int|date\trange\tNumber of minutes in the range, or a stop date\n     * @return array\tAn array of weeks\n     */\n    getWeekDomain(d, range) {\n        \"use strict\";\n\n        var weekStart;\n\n        if (this.options.weekStartOnMonday === false) {\n            weekStart = new Date(d.getFullYear(), d.getMonth(), d.getDate() - d.getDay());\n        } else {\n            if (d.getDay() === 1) {\n                weekStart = new Date(d.getFullYear(), d.getMonth(), d.getDate());\n            } else if (d.getDay() === 0) {\n                weekStart = new Date(d.getFullYear(), d.getMonth(), d.getDate());\n                weekStart.setDate(weekStart.getDate() - 6);\n            } else {\n                weekStart = new Date(d.getFullYear(), d.getMonth(), d.getDate() - d.getDay() + 1);\n            }\n        }\n\n        var endDate = new Date(weekStart);\n\n        var stop = range;\n        if (typeof range !== \"object\") {\n            stop = new Date(endDate.setDate(endDate.getDate() + range * 7));\n        }\n\n        return (this.options.weekStartOnMonday === true) ?\n            timeMondays(Math.min(weekStart, stop), Math.max(weekStart, stop)) :\n            timeSundays(Math.min(weekStart, stop), Math.max(weekStart, stop));\n    }\n\n    /**\n     * Return all the months between 2 dates\n     *\n     * @param  Date\t\td\t\tA date\n     * @param  int|date\trange\tNumber of months in the range, or a stop date\n     * @return array\tAn array of months\n     */\n    getMonthDomain(d, range) {\n        \"use strict\";\n\n        var start = new Date(d.getFullYear(), d.getMonth());\n        var stop = null;\n        if (range instanceof Date) {\n            stop = new Date(range.getFullYear(), range.getMonth());\n        } else {\n            stop = new Date(start);\n            stop = stop.setMonth(stop.getMonth() + range);\n        }\n\n        return timeMonths(Math.min(start, stop), Math.max(start, stop));\n    }\n\n    /**\n     * Return all the years between 2 dates\n     *\n     * @param  Date\td\tdate\tA date\n     * @param  int|date\trange\tNumber of minutes in the range, or a stop date\n     * @return array\tAn array of hours\n     */\n    getYearDomain(d, range) {\n        \"use strict\";\n\n        var start = new Date(d.getFullYear(), 0);\n        var stop = null;\n        if (range instanceof Date) {\n            stop = new Date(range.getFullYear(), 0);\n        } else {\n            stop = new Date(d.getFullYear() + range, 0);\n        }\n\n        return timeYears(Math.min(start, stop), Math.max(start, stop));\n    }\n\n    /**\n     * Get an array of domain start dates\n     *\n     * @param  int|Date date A random date included in the wanted domain\n     * @param  int|Date range Number of dates to get, or a stop date\n     * @return Array of dates\n     */\n    getDomain(date, range) {\n        \"use strict\";\n\n        if (typeof date === \"number\") {\n            date = new Date(date);\n        }\n\n        if (arguments.length < 2) {\n            range = this.options.range;\n        }\n\n        switch (this.options.domain) {\n            case \"hour\":\n                var domains = this.getHourDomain(date, range);\n\n                // Case where an hour is missing, when passing from standard time to DST\n                // Missing hour is perfectly acceptabl in subDomain, but not in domains\n                if (typeof range === \"number\" && domains.length < range) {\n                    if (range > 0) {\n                        domains.push(this.getHourDomain(domains[domains.length - 1], 2)[1]);\n                    } else {\n                        domains.shift(this.getHourDomain(domains[0], -2)[0]);\n                    }\n                }\n                return domains;\n            case \"day\":\n                return this.getDayDomain(date, range);\n            case \"week\":\n                return this.getWeekDomain(date, range);\n            case \"month\":\n                return this.getMonthDomain(date, range);\n            case \"year\":\n                return this.getYearDomain(date, range);\n        }\n    }\n\n    /* jshint maxcomplexity: false */\n    getSubDomain(date) {\n        \"use strict\";\n\n        if (typeof date === \"number\") {\n            date = new Date(date);\n        }\n\n        var parent = this;\n\n        /**\n         * @return int\n         */\n        var computeDaySubDomainSize = function(date, domain) {\n            switch (domain) {\n                case \"year\":\n                    return parent.getDayCountInYear(date);\n                case \"month\":\n                    return parent.getDayCountInMonth(date);\n                case \"week\":\n                    return 7;\n            }\n        };\n\n        /**\n         * @return int\n         */\n        var computeMinSubDomainSize = function(date, domain) {\n            switch (domain) {\n                case \"hour\":\n                    return 60;\n                case \"day\":\n                    return 60 * 24;\n                case \"week\":\n                    return 60 * 24 * 7;\n            }\n        };\n\n        /**\n         * @return int\n         */\n        var computeHourSubDomainSize = function(date, domain) {\n            switch (domain) {\n                case \"day\":\n                    return 24;\n                case \"week\":\n                    return 168;\n                case \"month\":\n                    return parent.getDayCountInMonth(date) * 24;\n            }\n        };\n\n        /**\n         * @return int\n         */\n        var computeWeekSubDomainSize = function(date, domain) {\n            if (domain === \"month\") {\n                var endOfMonth = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n                var endWeekNb = parent.getWeekNumber(endOfMonth);\n                var startWeekNb = parent.getWeekNumber(new Date(date.getFullYear(), date.getMonth()));\n\n                if (startWeekNb > endWeekNb) {\n                    startWeekNb = 0;\n                    endWeekNb++;\n                }\n\n                return endWeekNb - startWeekNb + 1;\n            } else if (domain === \"year\") {\n                return parent.getWeekNumber(new Date(date.getFullYear(), 11, 31));\n            }\n        };\n\n        switch (this.options.subDomain) {\n            case \"x_min\":\n            case \"min\":\n                return this.getMinuteDomain(date, computeMinSubDomainSize(date, this.options.domain));\n            case \"x_hour\":\n            case \"hour\":\n                return this.getHourDomain(date, computeHourSubDomainSize(date, this.options.domain));\n            case \"x_day\":\n            case \"day\":\n                return this.getDayDomain(date, computeDaySubDomainSize(date, this.options.domain));\n            case \"x_week\":\n            case \"week\":\n                return this.getWeekDomain(date, computeWeekSubDomainSize(date, this.options.domain));\n            case \"x_month\":\n            case \"month\":\n                return this.getMonthDomain(date, 12);\n        }\n    }\n\n    /**\n     * Get the n-th next domain after the calendar newest (rightmost) domain\n     * @param  int n\n     * @return Date The start date of the wanted domain\n     */\n    getNextDomain(n) {\n        \"use strict\";\n\n        if (arguments.length === 0) {\n            n = 1;\n        }\n        return this.getDomain(this.jumpDate(this.getDomainKeys().pop(), n, this.options.domain), 1)[0];\n    }\n\n    /**\n     * Get the n-th domain before the calendar oldest (leftmost) domain\n     * @param  int n\n     * @return Date The start date of the wanted domain\n     */\n    getPreviousDomain(n) {\n        \"use strict\";\n\n        if (arguments.length === 0) {\n            n = 1;\n        }\n        return this.getDomain(this.jumpDate(this.getDomainKeys().shift(), -n, this.options.domain), 1)[0];\n    }\n\n\n    // =========================================================================//\n    // DATAS\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n    // =========================================================================//\n\n    /**\n     * Fetch and interpret data from the datasource\n     *\n     * @param string|object source\n     * @param Date startDate\n     * @param Date endDate\n     * @param function callback\n     * @param function|boolean afterLoad function used to convert the data into a json object. Use true to use the afterLoad callback\n     * @param updateMode\n     *\n     * @return mixed\n     * - True if there are no data to load\n     * - False if data are loaded asynchronously\n     */\n    getDatas(source, startDate, endDate, callback, afterLoad, updateMode) {\n        \"use strict\";\n\n        var self = this;\n        if (arguments.length < 5) {\n            afterLoad = true;\n        }\n        if (arguments.length < 6) {\n            updateMode = this.APPEND_ON_UPDATE;\n        }\n        var _callback = function(data) {\n            if (afterLoad !== false) {\n                if (typeof afterLoad === \"function\") {\n                    data = afterLoad(data);\n                } else if (typeof(self.options.afterLoadData) === \"function\") {\n                    data = self.options.afterLoadData(data);\n                } else {\n                    console.log(\"Provided callback for afterLoadData is not a function.\");\n                }\n            } else if (self.options.dataType === \"csv\" || self.options.dataType === \"tsv\") {\n                data = this.interpretCSV(data);\n            }\n            self.parseDatas(data, updateMode, startDate, endDate);\n            if (typeof callback === \"function\") {\n                callback();\n            }\n        };\n\n        switch (typeof source) {\n            case \"string\":\n                if (source === \"\") {\n                    _callback({});\n                    return true;\n                } else {\n                    var url = this.parseURI(source, startDate, endDate);\n                    var requestType = \"GET\";\n                    if (self.options.dataPostPayload !== null) {\n                        requestType = \"POST\";\n                    }\n                    var payload = null;\n                    if (self.options.dataPostPayload !== null) {\n                        payload = this.parseURI(self.options.dataPostPayload, startDate, endDate);\n                    }\n\n                    switch (this.options.dataType) {\n                        case \"json\":\n                            json(url, _callback).send(requestType, payload);\n                            break;\n                        case \"csv\":\n                            csv(url, _callback).send(requestType, payload);\n                            break;\n                        case \"tsv\":\n                            tsv(url, _callback).send(requestType, payload);\n                            break;\n                        case \"txt\":\n                            text(url, _callback).send(requestType, payload);\n                            break;\n                    }\n                }\n                return false;\n            case \"object\":\n                if (source === Object(source)) {\n                    _callback(source);\n                    return false;\n                }\n                /* falls through */\n            default:\n                _callback({});\n                return true;\n        }\n    }\n\n    /**\n     * Populate the calendar internal data\n     *\n     * @param object data\n     * @param constant updateMode\n     * @param Date startDate\n     * @param Date endDate\n     *\n     * @return void\n     */\n    parseDatas(data, updateMode, startDate, endDate) {\n        \"use strict\";\n\n        if (updateMode === this.RESET_ALL_ON_UPDATE) {\n            this._domains.forEach(function(key, value) {\n                value.forEach(function(element, index, array) {\n                    array[index].v = null;\n                });\n            });\n        }\n\n        var temp = {};\n\n        var extractTime = function(d) {\n            return d.t;\n        };\n\n        /*jshint forin:false */\n        for (var d in data) {\n            var date = new Date(d * 1000);\n            var domainUnit = this.getDomain(date)[0].getTime();\n\n            // The current data belongs to a domain that was compressed\n            // Compress the data for the two duplicate hours into the same hour\n            if (this.DSTDomain.indexOf(domainUnit) >= 0) {\n\n                // Re-assign all data to the first or the second duplicate hours\n                // depending on which is visible\n                if (this._domains.has(domainUnit - 3600 * 1000)) {\n                    domainUnit -= 3600 * 1000;\n                }\n            }\n\n            // Skip if data is not relevant to current domain\n            if (isNaN(d) || !data.hasOwnProperty(d) || !this._domains.has(domainUnit) || !(domainUnit >= +startDate && domainUnit < +endDate)) {\n                continue;\n            }\n\n            var subDomainsData = this._domains.get(domainUnit);\n\n            if (!temp.hasOwnProperty(domainUnit)) {\n                temp[domainUnit] = subDomainsData.map(extractTime);\n            }\n\n            var index = temp[domainUnit].indexOf(this._domainType[this.options.subDomain].extractUnit(date));\n\n            if (updateMode === this.RESET_SINGLE_ON_UPDATE) {\n                subDomainsData[index].v = data[d];\n            } else {\n                if (!isNaN(subDomainsData[index].v)) {\n                    subDomainsData[index].v += data[d];\n                } else {\n                    subDomainsData[index].v = data[d];\n                }\n            }\n        }\n    }\n\n    parseURI(str, startDate, endDate) {\n        \"use strict\";\n\n        // Use a timestamp in seconds\n        str = str.replace(/\\{\\{t:start\\}\\}/g, startDate.getTime() / 1000);\n        str = str.replace(/\\{\\{t:end\\}\\}/g, endDate.getTime() / 1000);\n\n        // Use a string date, following the ISO-8601\n        str = str.replace(/\\{\\{d:start\\}\\}/g, startDate.toISOString());\n        str = str.replace(/\\{\\{d:end\\}\\}/g, endDate.toISOString());\n\n        return str;\n    }\n\n    interpretCSV(data) {\n        \"use strict\";\n\n        var d = {};\n        var keys = Object.keys(data[0]);\n        var i, total;\n        for (i = 0, total = data.length; i < total; i++) {\n            d[data[i][keys[0]]] = +data[i][keys[1]];\n        }\n        return d;\n    }\n\n    /**\n     * Handle the calendar layout and dimension\n     *\n     * Expand and shrink the container depending on its children dimension\n     * Also rearrange the children position depending on their dimension,\n     * and the legend position\n     *\n     * @return void\n     */\n    resize() {\n        \"use strict\";\n\n        var parent = this;\n        var options = parent.options;\n        var legendWidth = options.displayLegend ? (parent.Legend.getDim(\"width\") + options.legendMargin[1] + options.legendMargin[3]) : 0;\n        var legendHeight = options.displayLegend ? (parent.Legend.getDim(\"height\") + options.legendMargin[0] + options.legendMargin[2]) : 0;\n\n        var graphWidth = parent.graphDim.width - options.domainGutter - options.cellPadding;\n        var graphHeight = parent.graphDim.height - options.domainGutter - options.cellPadding;\n\n        this.root.transition().duration(options.animationDuration)\n            .attr(\"width\", function() {\n                if (options.legendVerticalPosition === \"middle\" || options.legendVerticalPosition === \"center\") {\n                    return graphWidth + legendWidth;\n                }\n                return Math.max(graphWidth, legendWidth);\n            })\n            .attr(\"height\", function() {\n                if (options.legendVerticalPosition === \"middle\" || options.legendVerticalPosition === \"center\") {\n                    return Math.max(graphHeight, legendHeight);\n                }\n                return graphHeight + legendHeight;\n            });\n\n        this.root.select(\".graph\").transition().duration(options.animationDuration)\n            .attr(\"y\", function() {\n                if (options.legendVerticalPosition === \"top\") {\n                    return legendHeight;\n                }\n                return 0;\n            })\n            .attr(\"x\", function() {\n                if (\n                    (options.legendVerticalPosition === \"middle\" || options.legendVerticalPosition === \"center\") &&\n                    options.legendHorizontalPosition === \"left\") {\n                    return legendWidth;\n                }\n                return 0;\n\n            });\n    }\n\n    // =========================================================================//\n    // PUBLIC API\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n    // =========================================================================//\n\n    /**\n     * Shift the calendar forward\n     */\n    next(n) {\n        \"use strict\";\n\n        if (arguments.length === 0) {\n            n = 1;\n        }\n        return this.loadNextDomain(n);\n    }\n\n    /**\n     * Shift the calendar backward\n     */\n    previous(n) {\n        \"use strict\";\n\n        if (arguments.length === 0) {\n            n = 1;\n        }\n        return this.loadPreviousDomain(n);\n    }\n\n    /**\n     * Jump directly to a specific date\n     *\n     * JumpTo will scroll the calendar until the wanted domain with the specified\n     * date is visible. Unless you set reset to true, the wanted domain\n     * will not necessarily be the first (leftmost) domain of the calendar.\n     *\n     * @param Date date Jump to the domain containing that date\n     * @param bool reset Whether the wanted domain should be the first domain of the calendar\n     * @param bool True of the calendar was scrolled\n     */\n    jumpTo(date, reset) {\n        \"use strict\";\n\n        if (arguments.length < 2) {\n            reset = false;\n        }\n        var domains = this.getDomainKeys();\n        var firstDomain = domains[0];\n        var lastDomain = domains[domains.length - 1];\n\n        if (date < firstDomain) {\n            return this.loadPreviousDomain(this.getDomain(firstDomain, date).length);\n        } else {\n            if (reset) {\n                return this.loadNextDomain(this.getDomain(firstDomain, date).length);\n            }\n\n            if (date > lastDomain) {\n                return this.loadNextDomain(this.getDomain(lastDomain, date).length);\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * Navigate back to the start date\n     *\n     * @since  3.3.8\n     * @return void\n     */\n    rewind() {\n        \"use strict\";\n\n        this.jumpTo(this.options.start, true);\n    }\n\n    /**\n     * Update the calendar with new data\n     *\n     * @param  object|string\t\tdataSource\t\tThe calendar's datasource, same type as this.options.data\n     * @param  boolean|function\t\tafterLoad\t\tWhether to execute afterLoad() on the data. Pass directly a function\n     * if you don't want to use the afterLoad() callback\n     */\n    update(dataSource, afterLoad, updateMode) {\n        \"use strict\";\n\n        if (arguments.length < 2) {\n            afterLoad = true;\n        }\n        if (arguments.length < 3) {\n            updateMode = this.RESET_ALL_ON_UPDATE;\n        }\n\n        var domains = this.getDomainKeys();\n        var self = this;\n        this.getDatas(\n            dataSource,\n            new Date(domains[0]),\n            this.getSubDomain(domains[domains.length - 1]).pop(),\n            function() {\n                self.fill();\n            },\n            afterLoad,\n            updateMode\n        );\n    }\n\n    /**\n     * Set the legend\n     *\n     * @param array legend an array of integer, representing the different threshold value\n     * @param array colorRange an array of 2 hex colors, for the minimum and maximum colors\n     */\n    setLegend() {\n        \"use strict\";\n\n        var oldLegend = this.options.legend.slice(0);\n        if (arguments.length >= 1 && Array.isArray(arguments[0])) {\n            this.options.legend = arguments[0];\n        }\n        if (arguments.length >= 2) {\n            if (Array.isArray(arguments[1]) && arguments[1].length >= 2) {\n                this.options.legendColors = [arguments[1][0], arguments[1][1]];\n            } else {\n                this.options.legendColors = arguments[1];\n            }\n        }\n\n        if ((arguments.length > 0 && !arrayEquals(oldLegend, this.options.legend)) || arguments.length >= 2) {\n            this.Legend.buildColors();\n            this.fill();\n        }\n\n        this.Legend.redraw(this.graphDim.width - this.options.domainGutter - this.options.cellPadding);\n    }\n\n    /**\n     * Remove the legend\n     *\n     * @return bool False if there is no legend to remove\n     */\n    removeLegend() {\n        \"use strict\";\n\n        if (!this.options.displayLegend) {\n            return false;\n        }\n        this.options.displayLegend = false;\n        this.Legend.remove();\n        return true;\n    }\n\n    /**\n     * Display the legend\n     *\n     * @return bool False if the legend was already displayed\n     */\n    showLegend() {\n        \"use strict\";\n\n        if (this.options.displayLegend) {\n            return false;\n        }\n        this.options.displayLegend = true;\n        this.Legend.redraw(this.graphDim.width - this.options.domainGutter - this.options.cellPadding);\n        return true;\n    }\n\n    /**\n     * Highlight dates\n     *\n     * Add a highlight class to a set of dates\n     *\n     * @since  3.3.5\n     * @param  array Array of dates to highlight\n     * @return bool True if dates were highlighted\n     */\n    highlight(args) {\n        \"use strict\";\n\n        if ((this.options.highlight = this.expandDateSetting(args)).length > 0) {\n            this.fill();\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Destroy the calendar\n     *\n     * Usage: cal = cal.destroy();\n     *\n     * @since  3.3.6\n     * @param function A callback function to trigger after destroying the calendar\n     * @return null\n     */\n    destroy(callback) {\n        \"use strict\";\n\n        this.root.transition().duration(this.options.animationDuration)\n            .attr(\"width\", 0)\n            .attr(\"height\", 0)\n            .remove()\n            .each(function() {\n                if (typeof callback === \"function\") {\n                    callback();\n                } else if (typeof callback !== \"undefined\") {\n                    console.log(\"Provided callback for destroy() is not a function.\");\n                }\n            });\n\n        return null;\n    }\n\n    getSVG() {\n        \"use strict\";\n\n        var styles = {\n            \".cal-heatmap-container\": {},\n            \".graph\": {},\n            \".graph-rect\": {},\n            \"rect.highlight\": {},\n            \"rect.now\": {},\n            \"rect.highlight-now\": {},\n            \"text.highlight\": {},\n            \"text.now\": {},\n            \"text.highlight-now\": {},\n            \".domain-background\": {},\n            \".graph-label\": {},\n            \".subdomain-text\": {},\n            \".q0\": {},\n            \".qi\": {}\n        };\n\n        for (var j = 1, total = this.options.legend.length + 1; j <= total; j++) {\n            styles[\".q\" + j] = {};\n        }\n\n        var root = this.root;\n\n        var whitelistStyles = [\n            // SVG specific properties\n            \"stroke\", \"stroke-width\", \"stroke-opacity\", \"stroke-dasharray\", \"stroke-dashoffset\", \"stroke-linecap\", \"stroke-miterlimit\",\n            \"fill\", \"fill-opacity\", \"fill-rule\",\n            \"marker\", \"marker-start\", \"marker-mid\", \"marker-end\",\n            \"alignement-baseline\", \"baseline-shift\", \"dominant-baseline\", \"glyph-orientation-horizontal\", \"glyph-orientation-vertical\", \"kerning\", \"text-anchor\",\n            \"shape-rendering\",\n\n            // Text Specific properties\n            \"text-transform\", \"font-family\", \"font\", \"font-size\", \"font-weight\"\n        ];\n\n        var filterStyles = function(attribute, property, value) {\n            if (whitelistStyles.indexOf(property) !== -1) {\n                styles[attribute][property] = value;\n            }\n        };\n\n        var getElement = function(e) {\n            return root.select(e).node();\n        };\n\n        /* jshint forin:false */\n        for (var element in styles) {\n            if (!styles.hasOwnProperty(element)) {\n                continue;\n            }\n\n            var dom = getElement(element);\n\n            if (dom === null) {\n                continue;\n            }\n\n            // The DOM Level 2 CSS way\n            /* jshint maxdepth: false */\n            if (\"getComputedStyle\" in window) {\n                var cs = getComputedStyle(dom, null);\n                if (cs.length !== 0) {\n                    for (var i = 0; i < cs.length; i++) {\n                        filterStyles(element, cs.item(i), cs.getPropertyValue(cs.item(i)));\n                    }\n\n                    // Opera workaround. Opera doesn\"t support `item`/`length`\n                    // on CSSStyleDeclaration.\n                } else {\n                    for (var k in cs) {\n                        if (cs.hasOwnProperty(k)) {\n                            filterStyles(element, k, cs[k]);\n                        }\n                    }\n                }\n\n                // The IE way\n            } else if (\"currentStyle\" in dom) {\n                var css = dom.currentStyle;\n                for (var p in css) {\n                    filterStyles(element, p, css[p]);\n                }\n            }\n        }\n\n        var string = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" \" +\n            \"xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"><style type=\\\"text/css\\\"><![CDATA[ \";\n\n        for (var style in styles) {\n            string += style + \" {\\n\";\n            for (var l in styles[style]) {\n                string += \"\\t\" + l + \":\" + styles[style][l] + \";\\n\";\n            }\n            string += \"}\\n\";\n        }\n\n        string += \"]]></style>\";\n        string += new XMLSerializer().serializeToString(this.root.node());\n        string += \"</svg>\";\n\n        return string;\n    }\n}\n\n// =========================================================================//\n// DOMAIN POSITION COMPUTATION\t\t\t\t\t\t\t\t\t\t\t\t//\n// =========================================================================//\n\n/**\n * Compute the position of a domain, relative to the calendar\n */\nclass DomainPosition {\n    constructor() {\n        \"use strict\";\n\n        this.positions = map();\n    }\n\n    getPosition(d) {\n        \"use strict\";\n\n        return this.positions.get(d);\n    }\n\n    getPositionFromIndex(i) {\n        \"use strict\";\n\n        var domains = this.getKeys();\n        return this.positions.get(domains[i]);\n    }\n\n    getLast() {\n        \"use strict\";\n\n        var domains = this.getKeys();\n        return this.positions.get(domains[domains.length - 1]);\n    }\n\n    setPosition(d, dim) {\n        \"use strict\";\n\n        this.positions.set(d, dim);\n    }\n\n    shiftRightBy(exitingDomainDim) {\n        \"use strict\";\n\n        this.positions.each(function(key, value, map) {\n            map.set(key, value - exitingDomainDim);\n        });\n\n        var domains = this.getKeys();\n        this.positions.remove(domains[0]);\n    }\n\n    shiftLeftBy(enteringDomainDim) {\n        \"use strict\";\n\n        this.positions.each(function(key, value, map) {\n            map.set(key, value + enteringDomainDim);\n        });\n\n        var domains = this.getKeys();\n        this.positions.remove(domains[domains.length - 1]);\n    }\n\n    getKeys() {\n        \"use strict\";\n\n        return this.positions.keys().sort(function(a, b) {\n            return parseInt(a, 10) - parseInt(b, 10);\n        });\n    }\n}\n\n// =========================================================================//\n// LEGEND\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n// =========================================================================//\n\nclass Legend {\n    constructor(calendar) {\n        \"use strict\";\n\n        this.calendar = calendar;\n        this.computeDim();\n\n        if (calendar.options.legendColors !== null) {\n            this.buildColors();\n        }\n    }\n\n    computeDim() {\n        \"use strict\";\n\n        var options = this.calendar.options; // Shorter accessor for variable name mangling when minifying\n        this.dim = {\n            width: options.legendCellSize * (options.legend.length + 1) +\n                options.legendCellPadding * (options.legend.length),\n            height: options.legendCellSize\n        };\n    }\n\n    remove() {\n        \"use strict\";\n\n        this.calendar.root.select(\".graph-legend\").remove();\n        this.calendar.resize();\n    }\n\n    redraw(width) {\n        \"use strict\";\n\n        if (!this.calendar.options.displayLegend) {\n            return false;\n        }\n\n        var parent = this;\n        var calendar = this.calendar;\n        var legend = calendar.root;\n        var legendItem;\n        var options = calendar.options; // Shorter accessor for variable name mangling when minifying\n\n        this.computeDim();\n\n        var _legend = options.legend.slice(0);\n        _legend.push(_legend[_legend.length - 1] + 1);\n\n        var legendElement = calendar.root.select(\".graph-legend\");\n        if (legendElement.node() !== null) {\n            legend = legendElement;\n            legendItem = legend\n                .select(\"g\")\n                .selectAll(\"rect\").data(_legend);\n        } else {\n            // Creating the new legend DOM if it doesn't already exist\n            legend = options.legendVerticalPosition === \"top\" ? legend.insert(\"svg\", \".graph\") : legend.append(\"svg\");\n\n            legend\n                .attr(\"x\", getLegendXPosition())\n                .attr(\"y\", getLegendYPosition());\n\n            legendItem = legend\n                .attr(\"class\", \"graph-legend\")\n                .attr(\"height\", parent.getDim(\"height\"))\n                .attr(\"width\", parent.getDim(\"width\"))\n                .append(\"g\")\n                .selectAll().data(_legend);\n        }\n\n        legendItem\n            .enter()\n            .append(\"rect\")\n            .call(legendCellLayout)\n            .attr(\"class\", function(d) {\n                return calendar.Legend.getClass(d, (calendar.legendScale === null));\n            })\n            .attr(\"fill-opacity\", 0)\n            .call(function(selection) {\n                if (calendar.legendScale !== null && options.legendColors !== null && options.legendColors.hasOwnProperty(\"base\")) {\n                    selection.attr(\"fill\", options.legendColors.base);\n                }\n            })\n            .append(\"title\");\n\n        legendItem.exit().transition().duration(options.animationDuration)\n            .attr(\"fill-opacity\", 0)\n            .remove();\n\n        legendItem.transition().delay(function(d, i) {\n                return options.animationDuration * i / 10;\n            })\n            .call(legendCellLayout)\n            .attr(\"fill-opacity\", 1)\n            .call(function(element) {\n                element.attr(\"fill\", function(d, i) {\n                    if (calendar.legendScale === null) {\n                        return \"\";\n                    }\n\n                    if (i === 0) {\n                        return calendar.legendScale(d - 1);\n                    }\n                    return calendar.legendScale(options.legend[i - 1]);\n                });\n\n                element.attr(\"class\", function(d) {\n                    return calendar.Legend.getClass(d, (calendar.legendScale === null));\n                });\n            });\n\n        function legendCellLayout(selection) {\n            selection\n                .attr(\"width\", options.legendCellSize)\n                .attr(\"height\", options.legendCellSize)\n                .attr(\"x\", function(d, i) {\n                    return i * (options.legendCellSize + options.legendCellPadding);\n                });\n        }\n\n        legendItem.select(\"title\").text(function(d, i) {\n            if (i === 0) {\n                return calendar.formatStringWithObject(options.legendTitleFormat.lower, {\n                    min: options.legend[i],\n                    name: options.itemName[1]\n                });\n            } else if (i === _legend.length - 1) {\n                return calendar.formatStringWithObject(options.legendTitleFormat.upper, {\n                    max: options.legend[i - 1],\n                    name: options.itemName[1]\n                });\n            } else {\n                return calendar.formatStringWithObject(options.legendTitleFormat.inner, {\n                    down: options.legend[i - 1],\n                    up: options.legend[i],\n                    name: options.itemName[1]\n                });\n            }\n        });\n\n        legend.transition().duration(options.animationDuration)\n            .attr(\"x\", getLegendXPosition())\n            .attr(\"y\", getLegendYPosition())\n            .attr(\"width\", parent.getDim(\"width\"))\n            .attr(\"height\", parent.getDim(\"height\"));\n\n        legend.select(\"g\").transition().duration(options.animationDuration)\n            .attr(\"transform\", function() {\n                if (options.legendOrientation === \"vertical\") {\n                    return \"rotate(90 \" + options.legendCellSize / 2 + \" \" + options.legendCellSize / 2 + \")\";\n                }\n                return \"\";\n            });\n\n        function getLegendXPosition() {\n            switch (options.legendHorizontalPosition) {\n                case \"right\":\n                    if (options.legendVerticalPosition === \"center\" || options.legendVerticalPosition === \"middle\") {\n                        return width + options.legendMargin[3];\n                    }\n                    return width - parent.getDim(\"width\") - options.legendMargin[1];\n                case \"middle\":\n                case \"center\":\n                    return Math.round(width / 2 - parent.getDim(\"width\") / 2);\n                default:\n                    return options.legendMargin[3];\n            }\n        }\n\n        function getLegendYPosition() {\n            if (options.legendVerticalPosition === \"bottom\") {\n                return calendar.graphDim.height + options.legendMargin[0] - options.domainGutter - options.cellPadding;\n            }\n            return options.legendMargin[0];\n        }\n\n        calendar.resize();\n    }\n\n    /**\n     * Return the dimension of the legend\n     *\n     * Takes into account rotation\n     *\n     * @param  string axis Width or height\n     * @return int height or width in pixels\n     */\n    getDim(axis) {\n        \"use strict\";\n\n        var isHorizontal = (this.calendar.options.legendOrientation === \"horizontal\");\n\n        switch (axis) {\n            case \"width\":\n                return this.dim[isHorizontal ? \"width\" : \"height\"];\n            case \"height\":\n                return this.dim[isHorizontal ? \"height\" : \"width\"];\n        }\n    }\n\n    buildColors() {\n        \"use strict\";\n\n        var options = this.calendar.options; // Shorter accessor for variable name mangling when minifying\n\n        if (options.legendColors === null) {\n            this.calendar.legendScale = null;\n            return false;\n        }\n\n        var _colorRange = [];\n\n        if (Array.isArray(options.legendColors)) {\n            _colorRange = options.legendColors;\n        } else if (options.legendColors.hasOwnProperty(\"min\") && options.legendColors.hasOwnProperty(\"max\")) {\n            _colorRange = [options.legendColors.min, options.legendColors.max];\n        } else {\n            options.legendColors = null;\n            return false;\n        }\n\n        var _legend = options.legend.slice(0);\n\n        if (_legend[0] > 0) {\n            _legend.unshift(0);\n        } else if (_legend[0] < 0) {\n            // Let's guess the leftmost value, it we have to add one\n            _legend.unshift(_legend[0] - (_legend[_legend.length - 1] - _legend[0]) / _legend.length);\n        }\n\n        var colorScale = scaleLinear()\n            .range(_colorRange)\n            .interpolate(interpolateHcl)\n            .domain([min(_legend), max(_legend)]);\n\n        var legendColors = _legend.map(function(element) {\n            return colorScale(element);\n        });\n        this.calendar.legendScale = scaleThreshold().domain(options.legend).range(legendColors);\n\n        return true;\n    }\n\n    /**\n     * Return the classname on the legend for the specified value\n     *\n     * @param integer n Value associated to a date\n     * @param bool withCssClass Whether to display the css class used to style the cell.\n     *                          Disabling will allow styling directly via html fill attribute\n     *\n     * @return string Classname according to the legend\n     */\n    getClass(n, withCssClass) {\n        \"use strict\";\n\n        if (n === null || isNaN(n)) {\n            return \"\";\n        }\n\n        var index = [this.calendar.options.legend.length + 1];\n\n        for (var i = 0, total = this.calendar.options.legend.length - 1; i <= total; i++) {\n\n            if (this.calendar.options.legend[0] > 0 && n < 0) {\n                index = [\"1\", \"i\"];\n                break;\n            }\n\n            if (n <= this.calendar.options.legend[i]) {\n                index = [i + 1];\n                break;\n            }\n        }\n\n        if (n === 0) {\n            index.push(0);\n        }\n\n        index.unshift(\"\");\n        return (index.join(\" r\") + (withCssClass ? index.join(\" q\") : \"\")).trim();\n    }\n}\n\n/**\n * #source http://stackoverflow.com/a/383245/805649\n */\nfunction mergeRecursive(obj1, obj2) {\n    \"use strict\";\n\n    /*jshint forin:false */\n    for (var p in obj2) {\n        try {\n            // Property in destination object set; update its value.\n            if (obj2[p].constructor === Object) {\n                obj1[p] = mergeRecursive(obj1[p], obj2[p]);\n            } else {\n                obj1[p] = obj2[p];\n            }\n        } catch (e) {\n            // Property in destination object not set; create it and set its value.\n            obj1[p] = obj2[p];\n        }\n    }\n\n    return obj1;\n}\n\n/**\n * Check if 2 arrays are equals\n *\n * @link http://stackoverflow.com/a/14853974/805649\n * @param  array array the array to compare to\n * @return bool true of the 2 arrays are equals\n */\nfunction arrayEquals(arrayA, arrayB) {\n    \"use strict\";\n\n    // if the other array is a falsy value, return\n    if (!arrayB || !arrayA) {\n        return false;\n    }\n\n    // compare lengths - can save a lot of time\n    if (arrayA.length !== arrayB.length) {\n        return false;\n    }\n\n    for (var i = 0; i < arrayA.length; i++) {\n        // Check if we have nested arrays\n        if (arrayA[i] instanceof Array && arrayB[i] instanceof Array) {\n            // recurse into the nested arrays\n            if (!arrayEquals(arrayA[i], arrayB[i])) {\n                return false;\n            }\n        } else if (arrayA[i] !== arrayB[i]) {\n            // Warning - two different object instances will never be equal: {x:20} != {x:20}\n            return false;\n        }\n    }\n    return true;\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n","export default function(array, f) {\n  var i = -1,\n      n = array.length,\n      a,\n      b,\n      c;\n\n  if (f == null) {\n    while (++i < n) if ((b = array[i]) != null && b >= b) { a = c = b; break; }\n    while (++i < n) if ((b = array[i]) != null) {\n      if (a > b) a = b;\n      if (c < b) c = b;\n    }\n  }\n\n  else {\n    while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = c = b; break; }\n    while (++i < n) if ((b = f(array[i], i, array)) != null) {\n      if (a > b) a = b;\n      if (c < b) c = b;\n    }\n  }\n\n  return [a, c];\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return x;\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","export default function(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n","import number from \"./number\";\n\nexport default function(array, p, f) {\n  if (f == null) f = number;\n  if (!(n = array.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +f(array[0], 0, array);\n  if (p >= 1) return +f(array[n - 1], n - 1, array);\n  var n,\n      h = (n - 1) * p,\n      i = Math.floor(h),\n      a = +f(array[i], i, array),\n      b = +f(array[i + 1], i + 1, array);\n  return a + (b - a) * (h - i);\n}\n","export default function(array, f) {\n  var i = -1,\n      n = array.length,\n      a,\n      b;\n\n  if (f == null) {\n    while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n    while (++i < n) if ((b = array[i]) != null && b > a) a = b;\n  }\n\n  else {\n    while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n    while (++i < n) if ((b = f(array[i], i, array)) != null && b > a) a = b;\n  }\n\n  return a;\n}\n","export default function(array, f) {\n  var i = -1,\n      n = array.length,\n      a,\n      b;\n\n  if (f == null) {\n    while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n    while (++i < n) if ((b = array[i]) != null && a > b) a = b;\n  }\n\n  else {\n    while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n    while (++i < n) if ((b = f(array[i], i, array)) != null && a > b) a = b;\n  }\n\n  return a;\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(x, p) {\n  x = x.toPrecision(p);\n\n  out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (x[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      case \"e\": break out;\n      default: if (i0 > 0) i0 = 0; break;\n    }\n  }\n\n  return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDefault from \"./formatDefault\";\nimport formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"\": formatDefault,\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","import exponent from \"./exponent\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import decompose, {identity} from \"./decompose\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(nb),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import request from \"./request\";\n\nexport default function(defaultMimeType, response) {\n  return function(url, callback) {\n    var r = request(url).mimeType(defaultMimeType).response(response);\n    if (callback != null) {\n      if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n      return r.get(callback);\n    }\n    return r;\n  };\n}\n","import type from \"./type\";\n\nexport default type(\"text/html\", function(xhr) {\n  return document.createRange().createContextualFragment(xhr.responseText);\n});\n","import type from \"./type\";\n\nexport default type(\"application/json\", function(xhr) {\n  return JSON.parse(xhr.responseText);\n});\n","import type from \"./type\";\n\nexport default type(\"text/plain\", function(xhr) {\n  return xhr.responseText;\n});\n","import type from \"./type\";\n\nexport default type(\"application/xml\", function(xhr) {\n  var xml = xhr.responseXML;\n  if (!xml) throw new Error(\"parse error\");\n  return xml;\n});\n","import dsv from \"./dsv\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatRows = csv.formatRows;\n","import dsv from \"./dsv\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatRows = tsv.formatRows;\n","import {csvParse} from \"d3-dsv\";\nimport dsv from \"./dsv\";\n\nexport default dsv(\"text/csv\", csvParse);\n","import {tsvParse} from \"d3-dsv\";\nimport dsv from \"./dsv\";\n\nexport default dsv(\"text/tab-separated-values\", tsvParse);\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(domain, count, specifier) {\n  var start = domain[0],\n      stop = domain[domain.length - 1],\n      step = tickStep(start, stop, count == null ? 10 : count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","export default function(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import interval from \"./interval\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval\";\nimport {durationSecond} from \"./duration\";\n\nvar second = interval(function(date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar minute = interval(function(date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval\";\nimport {durationHour, durationMinute} from \"./duration\";\n\nvar hour = interval(function(date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval\";\nimport {durationDay, durationMinute} from \"./duration\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval\";\nimport {durationHour} from \"./duration\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval\";\nimport {durationDay} from \"./duration\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","export default function(s) {\n  return s.match(/.{6}/g).map(function(x) {\n    return \"#\" + x;\n  });\n}\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"./colors\";\n\nexport default colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n","import colors from \"./colors\";\n\nexport default colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar rainbow = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  rainbow.h = 360 * t - 100;\n  rainbow.s = 1.5 - 1.5 * ts;\n  rainbow.l = 0.8 - 0.9 * ts;\n  return rainbow + \"\";\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","var matcher = function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n};\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!element.matches) {\n    var vendorMatches = element.webkitMatchesSelector\n        || element.msMatchesSelector\n        || element.mozMatchesSelector\n        || element.oMatchesSelector;\n    matcher = function(selector) {\n      return function() {\n        return vendorMatches.call(this, selector);\n      };\n    };\n  }\n}\n\nexport default matcher;\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n"],"names":["ascendingComparator","f","d","x","ascending","tickStep","start","stop","count","step0","Math","abs","max","step1","pow","floor","log","LN10","error","e10","e5","e2","length","Map","map","object","each","value","key","set","Array","isArray","o","i","n","createObject","setObject","createMap","setMap","Set","add","FormatSpecifier","specifier","match","re","exec","Error","fill","align","sign","symbol","zero","width","comma","precision","slice","type","formatTypes","this","identity","defaultLocale","definition","locale","formatLocale","format","formatPrefix","extend","parent","prototype","Object","create","Color","color","m","trim","toLowerCase","reHex3","parseInt","Rgb","reHex6","rgbn","reRgbInteger","reRgbPercent","reRgbaInteger","rgba","reRgbaPercent","reHslPercent","hsla","reHslaPercent","named","hasOwnProperty","NaN","r","g","b","a","rgbConvert","rgb","opacity","arguments","h","s","l","Hsl","hslConvert","min","hsl","hsl2rgb","m1","m2","labConvert","Lab","Hcl","deg2rad","cos","c","sin","rgb2xyz","xyz2lab","Xn","y","Yn","z","Zn","lab","t","t3","t2","t0","lab2xyz","t1","xyz2rgb","hclConvert","atan2","rad2deg","sqrt","hcl","cubehelixConvert","Cubehelix","BC_DA","ED","EB","bl","k","E","C","D","cubehelix","basis","v0","v1","v2","v3","linear","exponential","hue","round","constant","isNaN","gamma","nogamma","one","cosh","exp","sinh","tanh","end","colorHcl","cubehelixGamma","colorCubehelix","dispatch","_","Dispatch","parseTypenames","typenames","types","split","name","indexOf","get","callback","noop","concat","push","fixCallback","xhr","hasResponse","responseType","response","responseText","objectConverter","columns","Function","JSON","stringify","join","customConverter","row","inferColumns","rows","columnSet","forEach","column","responseOf","parse","request","ordinal","range","scale","index","unknown","implicit","domain","call","has","copy","band","rescale","reverse","step","paddingInner","paddingOuter","bandwidth","values","sequence","ordinalRange","undefined","rangeRound","padding","pointish","deinterpolateLinear","deinterpolateClamp","deinterpolate","reinterpolateClamp","reinterpolate","bimap","d0","d1","r0","r1","polymap","j","bisect","source","target","interpolate","clamp","continuous","piecewise","output","input","unit","interpolateValue","invert","number","interpolateRound","linearish","ticks","tickFormat","nice","ceil","pow10","isFinite","powp","base","logp","log10","log2","reflect","logs","pows","u","v","p","Infinity","raise","exponent","quantile","thresholds","threshold","invertExtent","sort","quantiles","quantize","x1","x0","newInterval","floori","offseti","field","interval","date","Date","offset","filter","test","setTime","every","weekday","setDate","getDate","getDay","setHours","getTimezoneOffset","durationMinute","durationWeek","utcWeekday","setUTCDate","getUTCDate","getUTCDay","setUTCHours","localDate","H","M","S","L","setFullYear","utcDate","UTC","setUTCFullYear","newYear","newFormat","formats","pad","string","charCodeAt","pads","charAt","newParse","newDate","parseSpecifier","w","day","W","U","Z","parses","parsePeriod","periodRe","periodLookup","parseShortWeekday","shortWeekdayRe","shortWeekdayLookup","parseWeekday","weekdayRe","weekdayLookup","parseShortMonth","shortMonthRe","shortMonthLookup","parseMonth","monthRe","monthLookup","parseLocaleDateTime","locale_dateTime","parseLocaleDate","locale_date","parseLocaleTime","locale_time","formatShortWeekday","locale_shortWeekdays","formatWeekday","locale_weekdays","formatShortMonth","locale_shortMonths","getMonth","formatMonth","locale_months","formatPeriod","locale_periods","getHours","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","getUTCMonth","formatUTCMonth","formatUTCPeriod","getUTCHours","dateTime","time","periods","days","shortDays","months","shortMonths","formatRe","formatLookup","A","B","formatDayOfMonth","e","formatHour24","I","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekNumberSunday","formatWeekdayNumber","formatWeekNumberMonday","X","formatYear","Y","formatFullYear","formatZone","%","formatLiteralPercent","utcFormats","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekNumberSunday","formatUTCWeekdayNumber","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parseDayOfMonth","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parseSeconds","parseWeekNumberSunday","parseWeekdayNumber","parseWeekNumberMonday","parseYear","parseFullYear","parseZone","parseLiteralPercent","toString","utcFormat","utcParse","requote","replace","requoteRe","names","RegExp","numberRe","percentRe","timeDay","timeYear","getMilliseconds","getMinutes","getSeconds","timeSunday","timeMonday","getFullYear","utcDay","utcYear","getUTCMilliseconds","getUTCMinutes","getUTCSeconds","utcSunday","utcMonday","getUTCFullYear","timeFormat","timeParse","formatIsoNative","toISOString","parseIsoNative","calendar","year","month","week","hour","minute","second","millisecond","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","tickInterval","bisector","right","tickIntervals","durationYear","durationSecond","durationHour","durationDay","durationMonth","sequential","interpolator","creatorInherit","document","ownerDocument","uri","namespaceURI","xhtml","documentElement","createElement","createElementNS","creatorFixed","fullname","space","local","filterContextListener","listener","group","contextListener","event","related","relatedTarget","compareDocumentPosition","event1","event0","__data__","onRemove","typename","on","__on","removeEventListener","capture","onAdd","wrap","filterEvents","addEventListener","none","empty","EnterNode","datum","_next","_parent","bindIndex","enter","update","exit","data","node","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","keyPrefix","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","apply","attrFunctionNS","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","propertyRemove","propertyConstant","propertyFunction","classArray","classList","ClassList","_node","_names","getAttribute","classedAdd","list","classedRemove","remove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","nextSibling","parentNode","appendChild","lower","previousSibling","insertBefore","firstChild","constantNull","removeChild","dispatchEvent","params","window","defaultView","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","Selection","groups","parents","_groups","_parents","selection","root","mergeRecursive","obj1","obj2","constructor","arrayEquals","arrayA","arrayB","compare","left","lo","hi","mid","ascendingBisect","bisectRight","array","LN2","prefix","property","clear","keys","entries","size","proto","prefixExponent","toExponential","coefficient","formatDecimal","grouping","thousands","substring","toPrecision","out","i1","i0","formatDefault","toFixed","formatRounded","formatPrefixAuto","toUpperCase","prefixes","valuePrefix","valueSuffix","suffix","formatType","valueNegative","maybeSuffix","decimal","formatSpecifier","currency","formatGroup","factory","darker","brighter","reI","reN","reP","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","define","displayable","PI","Kn","cssNode","cssRoot","cssView","svgNode","rgbGamma","colorRgb","nb","na","reA","reB","am","bm","bs","bi","lastIndex","q","degrees","translateX","translateY","rotate","skewX","scaleX","scaleY","atan","rho","SQRT2","rho2","rho4","epsilon2","cubehelix$1","cubehelixLong","T","that","args","url","respond","result","status","mimeType","headers","XMLHttpRequest","user","password","timeout","XDomainRequest","onload","onerror","ontimeout","onreadystatechange","readyState","onprogress","header","send","post","method","open","setRequestHeader","overrideMimeType","abort","defaultMimeType","createRange","createContextualFragment","xml","responseXML","delimiter","text","convert","parseRows","token","N","EOF","eol","EOL","delimiterCode","formatValue","formatRows","formatRow","reFormat","csv","dsv","csvParse","tsv","tsvParse","precisionPrefix","precisionRound","precisionFixed","minutes","hours","sunday","monday","tuesday","wednesday","thursday","friday","saturday","sundays","mondays","setMonth","years","utcMinute","setUTCSeconds","utcHour","setUTCMinutes","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcMonth","setUTCMonth","-","0","isoSpecifier","formatIso","parseIso","colors","interpolateCubehelixLong","warm","cool","rainbow","svg","xlink","xmlns","namespaces","namespace","nextId","matcher","selector","matches","element","vendorMatches","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","mouseenter","mouseleave","current","sourceEvent","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","clientLeft","top","clientTop","querySelector","select","subgroups","subnode","subgroup","querySelectorAll","selectorAll","_enter","sparse","child","next","bind","enterGroup","updateGroup","exitGroup","previous","_exit","groups0","groups1","m0","merges","group0","group1","merge","compareNode","sortgroups","sortgroup","order","nodes","getAttributeNS","getComputedStyle","getPropertyValue","splice","contains","creator","before","selection_select","selectAll","selection_selectAll","selection_filter","selection_data","selection_enter","selection_exit","selection_merge","selection_order","selection_sort","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","attr","selection_attr","selection_style","selection_property","classed","selection_classed","selection_text","html","selection_html","selection_raise","selection_lower","append","selection_append","insert","selection_insert","selection_remove","selection_datum","selection_on","selection_dispatch","CalHeatMap","[object Object]","_initCalendar","self","verticalDomainLabel","options","label","position","domainVerticalLabelHeight","height","cellSize","domainHorizontalLabelWidth","domainLabelFormat","paint","nextSelector","itemNamespace","preventDefault","loadNextDomain","previousSelector","loadPreviousDomain","Legend","redraw","graphDim","domainGutter","cellPadding","afterLoad","domains","getDomainKeys","loadOnInit","getDatas","getSubDomain","pop","onComplete","checkIfMinDomainIsReached","checkIfMaxDomainIsReached","getNextDomain","getTime","outer","_domainType","subDomain","domainMargin","allowedDataType","itemSelector","paintOnLoad","cellRadius","colLimit","rowLimit","weekStartOnMonday","minDate","maxDate","dataType","dataPostPayload","considerMissingDataAsZero","verticalOrientation","domainDynamicDimension","legend","displayLegend","legendCellSize","legendCellPadding","legendMargin","legendVerticalPosition","legendHorizontalPosition","legendOrientation","legendColors","highlight","itemName","subDomainTitleFormat","filled","subDomainDateFormat","subDomainTextFormat","legendTitleFormat","inner","upper","animationDuration","tooltip","onClick","afterLoadNextDomain","afterLoadPreviousDomain","onMaxDomainReached","onMinDomainReached","level","maxItemNumber","defaultRowNumber","defaultColumnNumber","getSubDomainRowNumber","getSubDomainColumnNumber","connector","getDayCountInMonth","getWeekDay","getDayCountInYear","getWeekNumber","getDayOfYear","getMonthWeekNumber","dt","weekDay","extractUnit","lastInsertedSvg","_completed","_domains","legendDim","NAVIGATE_LEFT","NAVIGATE_RIGHT","RESET_ALL_ON_UPDATE","RESET_SINGLE_ON_UPDATE","APPEND_ON_UPDATE","DEFAULT_LEGEND_MARGIN","_maxDomainReached","_minDomainReached","domainPosition","DomainPosition","legendScale","DSTDomain","_init","getDomain","navigationDir","getDomainPosition","domainIndex","axis","domainDim","tmp","setPosition","enteringDomainDim","exitingDomainDim","getPositionFromIndex","shiftRightBy","getLast","shiftLeftBy","domainRotate","domainSvg","classname","subDomainSvgGroup","getHighlightClassName","positionSubDomainX","positionSubDomainY","domainNode","getSubDomainTitle","tooltipPositionX","offsetWidth","tooltipPositionY","offsetHeight","formatDate","transition","duration","getPosition","tempWidth","tempHeight","resize","settings","validateSelector","canBeFalse","Element","getOptimalSubDomain","validateDomainType","autoAlignLabel","autoAddLegendMargin","expandMarginSetting","console","expandItemName","parseColLimit","parseRowLimit","message","expandDateSetting","addStyle","overflow","formatSubDomainText","htmlClass","pastDate","dateIsLessThan","sameDate","dateIsEqual","getClass","formatted","prop","regexp","eventName","successArgs","skip","itemNb","triggerEvent","shift","reached","upperBound","minDomainIsReached","maxDomainIsReached","lowerBound","formatStringWithObject","formatNumber","bound","loadNewDomains","direction","newDomains","buildSubDomain","backward","total","datetimestamp","isNow","dateA","dateB","normalizedMillis","subdomain","monthFirstWeekNumber","getEndOfMonth","timeMinutes","timeHours","timeDays","weekStart","endDate","timeMondays","timeSundays","timeMonths","timeYears","getHourDomain","getDayDomain","getWeekDomain","getMonthDomain","getYearDomain","computeDaySubDomainSize","computeMinSubDomainSize","computeHourSubDomainSize","computeWeekSubDomainSize","endOfMonth","endWeekNb","startWeekNb","getMinuteDomain","jumpDate","startDate","updateMode","_callback","afterLoadData","interpretCSV","parseDatas","parseURI","requestType","payload","json","temp","extractTime","domainUnit","subDomainsData","str","legendWidth","getDim","legendHeight","graphWidth","graphHeight","reset","firstDomain","lastDomain","jumpTo","dataSource","oldLegend","buildColors","styles",".cal-heatmap-container",".graph",".graph-rect","rect.highlight","rect.now","rect.highlight-now","text.highlight","text.now","text.highlight-now",".domain-background",".graph-label",".subdomain-text",".q0",".qi","whitelistStyles","filterStyles","attribute","getElement","dom","cs","item","css","currentStyle","XMLSerializer","serializeToString","positions","getKeys","dim","computeDim","legendCellLayout","getLegendXPosition","getLegendYPosition","legendItem","_legend","legendElement","delay","down","up","isHorizontal","_colorRange","unshift","colorScale","scaleLinear","interpolateHcl","scaleThreshold","withCssClass"],"mappings":"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"}
{"version":3,"file":null,"sources":["node_modules/d3-array/src/bisector.js","node_modules/d3-array/src/ticks.js","node_modules/d3-collection/src/map.js","node_modules/d3-collection/src/set.js","node_modules/d3-format/src/formatSpecifier.js","node_modules/d3-format/src/locale.js","node_modules/d3-format/src/defaultLocale.js","node_modules/d3-color/src/define.js","node_modules/d3-color/src/color.js","node_modules/d3-color/src/lab.js","node_modules/d3-color/src/cubehelix.js","node_modules/d3-interpolate/src/color.js","node_modules/d3-interpolate/src/string.js","node_modules/d3-interpolate/src/hcl.js","node_modules/d3-interpolate/src/cubehelix.js","node_modules/d3-dispatch/src/dispatch.js","node_modules/d3-request/src/request.js","node_modules/d3-dsv/src/dsv.js","node_modules/d3-request/src/dsv.js","node_modules/d3-scale/src/continuous.js","node_modules/d3-scale/src/linear.js","node_modules/d3-scale/src/threshold.js","node_modules/d3-time/src/interval.js","node_modules/d3-time/src/week.js","node_modules/d3-time/src/utcWeek.js","node_modules/d3-time-format/src/locale.js","node_modules/d3-time-format/src/defaultLocale.js","node_modules/d3-time-format/src/isoFormat.js","node_modules/d3-time-format/src/isoParse.js","node_modules/d3-scale/src/time.js","node_modules/d3-selection/src/creator.js","node_modules/d3-selection/src/selection/on.js","node_modules/d3-selection/src/selector.js","node_modules/d3-selection/src/selectorAll.js","node_modules/d3-selection/src/selection/enter.js","node_modules/d3-selection/src/selection/data.js","node_modules/d3-selection/src/selection/sort.js","node_modules/d3-selection/src/selection/attr.js","node_modules/d3-selection/src/selection/style.js","node_modules/d3-selection/src/selection/property.js","node_modules/d3-selection/src/selection/classed.js","node_modules/d3-selection/src/selection/text.js","node_modules/d3-selection/src/selection/html.js","node_modules/d3-selection/src/selection/raise.js","node_modules/d3-selection/src/selection/lower.js","node_modules/d3-selection/src/selection/insert.js","node_modules/d3-selection/src/selection/remove.js","node_modules/d3-selection/src/selection/dispatch.js","node_modules/d3-selection/src/selection/index.js","src/cal-heatmap.js","node_modules/d3-array/src/ascending.js","node_modules/d3-array/src/bisect.js","node_modules/d3-array/src/array.js","node_modules/d3-array/src/range.js","node_modules/d3-array/src/max.js","node_modules/d3-array/src/min.js","node_modules/d3-format/src/formatDecimal.js","node_modules/d3-format/src/formatPrefixAuto.js","node_modules/d3-format/src/exponent.js","node_modules/d3-format/src/formatGroup.js","node_modules/d3-format/src/formatDefault.js","node_modules/d3-format/src/formatRounded.js","node_modules/d3-format/src/formatTypes.js","node_modules/d3-format/src/precisionFixed.js","node_modules/d3-format/src/precisionPrefix.js","node_modules/d3-format/src/precisionRound.js","node_modules/d3-color/src/math.js","node_modules/d3-interpolate/src/constant.js","node_modules/d3-interpolate/src/rgb.js","node_modules/d3-interpolate/src/array.js","node_modules/d3-interpolate/src/date.js","node_modules/d3-interpolate/src/number.js","node_modules/d3-interpolate/src/object.js","node_modules/d3-interpolate/src/value.js","node_modules/d3-interpolate/src/round.js","node_modules/d3-interpolate/src/transform/decompose.js","node_modules/d3-interpolate/src/zoom.js","node_modules/d3-request/src/type.js","node_modules/d3-request/src/html.js","node_modules/d3-request/src/json.js","node_modules/d3-request/src/text.js","node_modules/d3-request/src/xml.js","node_modules/d3-dsv/src/csv.js","node_modules/d3-dsv/src/tsv.js","node_modules/d3-request/src/csv.js","node_modules/d3-request/src/tsv.js","node_modules/d3-scale/src/array.js","node_modules/d3-scale/src/constant.js","node_modules/d3-scale/src/number.js","node_modules/d3-scale/src/tickFormat.js","node_modules/d3-scale/src/nice.js","node_modules/d3-time/src/millisecond.js","node_modules/d3-time/src/duration.js","node_modules/d3-time/src/minute.js","node_modules/d3-time/src/second.js","node_modules/d3-time/src/hour.js","node_modules/d3-time/src/day.js","node_modules/d3-time/src/month.js","node_modules/d3-time/src/year.js","node_modules/d3-time/src/utcDay.js","node_modules/d3-time/src/utcMinute.js","node_modules/d3-time/src/utcHour.js","node_modules/d3-time/src/utcYear.js","node_modules/d3-time/src/utcMonth.js","node_modules/d3-scale/src/colors.js","node_modules/d3-scale/src/category10.js","node_modules/d3-scale/src/category20b.js","node_modules/d3-scale/src/category20c.js","node_modules/d3-scale/src/category20.js","node_modules/d3-scale/src/cubehelix.js","node_modules/d3-scale/src/rainbow.js","node_modules/d3-selection/src/namespaces.js","node_modules/d3-selection/src/namespace.js","node_modules/d3-selection/src/matcher.js","node_modules/d3-selection/src/selection/select.js","node_modules/d3-selection/src/selection/selectAll.js","node_modules/d3-selection/src/selection/filter.js","node_modules/d3-selection/src/selection/sparse.js","node_modules/d3-selection/src/constant.js","node_modules/d3-selection/src/selection/exit.js","node_modules/d3-selection/src/selection/merge.js","node_modules/d3-selection/src/selection/order.js","node_modules/d3-selection/src/selection/call.js","node_modules/d3-selection/src/selection/nodes.js","node_modules/d3-selection/src/selection/node.js","node_modules/d3-selection/src/selection/size.js","node_modules/d3-selection/src/selection/empty.js","node_modules/d3-selection/src/selection/each.js","node_modules/d3-selection/src/window.js","node_modules/d3-selection/src/selection/append.js","node_modules/d3-selection/src/selection/datum.js","node_modules/d3-selection/src/select.js"],"sourcesContent":["import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import range from \"./range\";\n\nvar e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var step = tickStep(start, stop, count);\n  return range(\n    Math.ceil(start / step) * step,\n    Math.floor(stop / step) * step + step / 2, // inclusive\n    step\n  );\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","import formatTypes from \"./formatTypes\";\n\n// [[fill]align][sign][symbol][0][width][,][.precision][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\nexport default function(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n  var match,\n      fill = match[1] || \" \",\n      align = match[2] || \">\",\n      sign = match[3] || \"-\",\n      symbol = match[4] || \"\",\n      zero = !!match[5],\n      width = match[6] && +match[6],\n      comma = !!match[7],\n      precision = match[8] && +match[8].slice(1),\n      type = match[9] || \"\";\n\n  // The \"n\" type is an alias for \",g\".\n  if (type === \"n\") comma = true, type = \"g\";\n\n  // Map invalid types to the default format.\n  else if (!formatTypes[type]) type = \"\";\n\n  // If zero fill is specified, padding goes after sign and before digits.\n  if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n  this.fill = fill;\n  this.align = align;\n  this.sign = sign;\n  this.symbol = symbol;\n  this.zero = zero;\n  this.width = width;\n  this.comma = comma;\n  this.precision = precision;\n  this.type = type;\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + this.type;\n};\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nfunction identity(x) {\n  return x;\n}\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal;\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        type = specifier.type;\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? \"%\" : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = !type || /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? (type ? 6 : 12)\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Convert negative to positive, and compute the prefix.\n        // Note that -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = (value < 0 || 1 / value < 0) && (value *= -1, true);\n\n        // Perform the initial formatting.\n        value = formatType(value, precision);\n\n        // If the original value was negative, it may be rounded to zero during\n        // formatting; treat this as (positive) zero.\n        if (valueNegative) {\n          i = -1, n = value.length;\n          valueNegative = false;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), (48 < c && c < 58)\n                || (type === \"x\" && 96 < c && c < 103)\n                || (type === \"X\" && 64 < c && c < 71)) {\n              valueNegative = true;\n              break;\n            }\n          }\n        }\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = valueSuffix + (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": return valuePrefix + value + valueSuffix + padding;\n        case \"=\": return valuePrefix + padding + value + valueSuffix;\n        case \"^\": return padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);\n      }\n      return padding + valuePrefix + value + valueSuffix;\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nexport default function color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar Kn = 18,\n    Xn = 0.950470, // D65 standard referent\n    Yn = 1,\n    Zn = 1.088830,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var b = rgb2xyz(o.r),\n      a = rgb2xyz(o.g),\n      l = rgb2xyz(o.b),\n      x = xyz2lab((0.4124564 * b + 0.3575761 * a + 0.1804375 * l) / Xn),\n      y = xyz2lab((0.2126729 * b + 0.7151522 * a + 0.0721750 * l) / Yn),\n      z = xyz2lab((0.0193339 * b + 0.1191920 * a + 0.9503041 * l) / Zn);\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    y = Yn * lab2xyz(y);\n    x = Xn * lab2xyz(x);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      xyz2rgb( 3.2404542 * x - 1.5371385 * y - 0.4985314 * z), // D65 -> sRGB\n      xyz2rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z),\n      xyz2rgb( 0.0556434 * x - 0.2040259 * y + 1.0572252 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction xyz2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2xyz(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + Kn * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - Kn * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","import {map} from \"d3-collection\";\nimport {dispatch} from \"d3-dispatch\";\n\nexport default function(url, callback) {\n  var request,\n      event = dispatch(\"beforesend\", \"progress\", \"load\", \"error\"),\n      mimeType,\n      headers = map(),\n      xhr = new XMLHttpRequest,\n      user = null,\n      password = null,\n      response,\n      responseType,\n      timeout = 0;\n\n  // If IE does not support CORS, use XDomainRequest.\n  if (typeof XDomainRequest !== \"undefined\"\n      && !(\"withCredentials\" in xhr)\n      && /^(http(s)?:)?\\/\\//.test(url)) xhr = new XDomainRequest;\n\n  \"onload\" in xhr\n      ? xhr.onload = xhr.onerror = xhr.ontimeout = respond\n      : xhr.onreadystatechange = function(o) { xhr.readyState > 3 && respond(o); };\n\n  function respond(o) {\n    var status = xhr.status, result;\n    if (!status && hasResponse(xhr)\n        || status >= 200 && status < 300\n        || status === 304) {\n      if (response) {\n        try {\n          result = response.call(request, xhr);\n        } catch (e) {\n          event.call(\"error\", request, e);\n          return;\n        }\n      } else {\n        result = xhr;\n      }\n      event.call(\"load\", request, result);\n    } else {\n      event.call(\"error\", request, o);\n    }\n  }\n\n  xhr.onprogress = function(e) {\n    event.call(\"progress\", request, e);\n  };\n\n  request = {\n    header: function(name, value) {\n      name = (name + \"\").toLowerCase();\n      if (arguments.length < 2) return headers.get(name);\n      if (value == null) headers.remove(name);\n      else headers.set(name, value + \"\");\n      return request;\n    },\n\n    // If mimeType is non-null and no Accept header is set, a default is used.\n    mimeType: function(value) {\n      if (!arguments.length) return mimeType;\n      mimeType = value == null ? null : value + \"\";\n      return request;\n    },\n\n    // Specifies what type the response value should take;\n    // for instance, arraybuffer, blob, document, or text.\n    responseType: function(value) {\n      if (!arguments.length) return responseType;\n      responseType = value;\n      return request;\n    },\n\n    timeout: function(value) {\n      if (!arguments.length) return timeout;\n      timeout = +value;\n      return request;\n    },\n\n    user: function(value) {\n      return arguments.length < 1 ? user : (user = value == null ? null : value + \"\", request);\n    },\n\n    password: function(value) {\n      return arguments.length < 1 ? password : (password = value == null ? null : value + \"\", request);\n    },\n\n    // Specify how to convert the response content to a specific type;\n    // changes the callback value on \"load\" events.\n    response: function(value) {\n      response = value;\n      return request;\n    },\n\n    // Alias for send(\"GET\", …).\n    get: function(data, callback) {\n      return request.send(\"GET\", data, callback);\n    },\n\n    // Alias for send(\"POST\", …).\n    post: function(data, callback) {\n      return request.send(\"POST\", data, callback);\n    },\n\n    // If callback is non-null, it will be used for error and load events.\n    send: function(method, data, callback) {\n      xhr.open(method, url, true, user, password);\n      if (mimeType != null && !headers.has(\"accept\")) headers.set(\"accept\", mimeType + \",*/*\");\n      if (xhr.setRequestHeader) headers.each(function(value, name) { xhr.setRequestHeader(name, value); });\n      if (mimeType != null && xhr.overrideMimeType) xhr.overrideMimeType(mimeType);\n      if (responseType != null) xhr.responseType = responseType;\n      if (timeout > 0) xhr.timeout = timeout;\n      if (callback == null && typeof data === \"function\") callback = data, data = null;\n      if (callback != null && callback.length === 1) callback = fixCallback(callback);\n      if (callback != null) request.on(\"error\", callback).on(\"load\", function(xhr) { callback(null, xhr); });\n      event.call(\"beforesend\", request, xhr);\n      xhr.send(data == null ? null : data);\n      return request;\n    },\n\n    abort: function() {\n      xhr.abort();\n      return request;\n    },\n\n    on: function() {\n      var value = event.on.apply(event, arguments);\n      return value === event ? request : value;\n    }\n  };\n\n  if (callback != null) {\n    if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    return request.get(callback);\n  }\n\n  return request;\n}\n\nfunction fixCallback(callback) {\n  return function(error, xhr) {\n    callback(error == null ? xhr : null);\n  };\n}\n\nfunction hasResponse(xhr) {\n  var type = xhr.responseType;\n  return type && type !== \"text\"\n      ? xhr.response // null on error\n      : xhr.responseText; // \"\" on error\n}\n","function objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function(name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"]\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function(row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function(row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\nexport default function(delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n]\"),\n      delimiterCode = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert, columns, rows = parseRows(text, function(row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns;\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var EOL = {}, // sentinel value for end-of-line\n        EOF = {}, // sentinel value for end-of-file\n        rows = [], // output rows\n        N = text.length,\n        I = 0, // current character index\n        n = 0, // the current line number\n        t, // the current token\n        eol; // is the current token followed by EOL?\n\n    function token() {\n      if (I >= N) return EOF; // special case: end of file\n      if (eol) return eol = false, EOL; // special case: end of line\n\n      // special case: quotes\n      var j = I, c;\n      if (text.charCodeAt(j) === 34) {\n        var i = j;\n        while (i++ < N) {\n          if (text.charCodeAt(i) === 34) {\n            if (text.charCodeAt(i + 1) !== 34) break;\n            ++i;\n          }\n        }\n        I = i + 2;\n        c = text.charCodeAt(i + 1);\n        if (c === 13) {\n          eol = true;\n          if (text.charCodeAt(i + 2) === 10) ++I;\n        } else if (c === 10) {\n          eol = true;\n        }\n        return text.slice(j + 1, i).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // common case: find next delimiter or newline\n      while (I < N) {\n        var k = 1;\n        c = text.charCodeAt(I++);\n        if (c === 10) eol = true; // \\n\n        else if (c === 13) { eol = true; if (text.charCodeAt(I) === 10) ++I, ++k; } // \\r|\\r\\n\n        else if (c !== delimiterCode) continue;\n        return text.slice(j, I - k);\n      }\n\n      // special case: last token before EOF\n      return text.slice(j);\n    }\n\n    while ((t = token()) !== EOF) {\n      var a = [];\n      while (t !== EOL && t !== EOF) {\n        a.push(t);\n        t = token();\n      }\n      if (f && (a = f(a, n++)) == null) continue;\n      rows.push(a);\n    }\n\n    return rows;\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(rows.map(function(row) {\n      return columns.map(function(column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    })).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(text) {\n    return text == null ? \"\"\n        : reFormat.test(text += \"\") ? \"\\\"\" + text.replace(/\\\"/g, \"\\\"\\\"\") + \"\\\"\"\n        : text;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatRows: formatRows\n  };\n}\n","import request from \"./request\";\n\nexport default function(defaultMimeType, parse) {\n  return function(url, row, callback) {\n    if (arguments.length < 3) callback = row, row = null;\n    var r = request(url).mimeType(defaultMimeType);\n    r.row = function(_) { return arguments.length ? r.response(responseOf(parse, row = _)) : row; };\n    r.row(row);\n    return callback ? r.get(callback) : r;\n  };\n}\n\nfunction responseOf(parse, row) {\n  return function(request) {\n    return parse(request.responseText, row);\n  };\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function deinterpolateLinear(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(b);\n}\n\nfunction deinterpolateClamp(deinterpolate) {\n  return function(a, b) {\n    var d = deinterpolate(a = +a, b = +b);\n    return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n  };\n}\n\nfunction reinterpolateClamp(reinterpolate) {\n  return function(a, b) {\n    var r = reinterpolate(a = +a, b = +b);\n    return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n  };\n}\n\nfunction bimap(domain, range, deinterpolate, reinterpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n  else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, deinterpolate, reinterpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = deinterpolate(domain[i], domain[i + 1]);\n    r[i] = reinterpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp());\n}\n\n// deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\nexport default function continuous(deinterpolate, reinterpolate) {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      clamp = false,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate) : deinterpolate, interpolate)))(+x);\n  }\n\n  scale.invert = function(y) {\n    return (input || (input = piecewise(range, domain, deinterpolateLinear, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, rescale()) : clamp;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  return rescale();\n}\n","import {ticks, tickStep} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return tickFormat(domain(), count, specifier);\n  };\n\n  scale.nice = function(count) {\n    var d = domain(),\n        i = d.length - 1,\n        n = count == null ? 10 : count,\n        start = d[0],\n        stop = d[i],\n        step = tickStep(start, stop, n);\n\n    if (step) {\n      step = tickStep(Math.floor(start / step) * step, Math.ceil(stop / step) * step, n);\n      d[0] = Math.floor(start / step) * step;\n      d[i] = Math.ceil(stop / step) * step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(deinterpolate, reinterpolate);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  return linearish(scale);\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      n = 1;\n\n  function scale(x) {\n    if (x <= x) return range[bisect(domain, x, 0, n)];\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(new Date(+start)); while (offseti(start, step), floori(start), start < stop)\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) while (--step >= 0) while (offseti(date, 1), !test(date)) {} // eslint-disable-line no-empty\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval\";\nimport {durationMinute, durationWeek} from \"./duration\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval\";\nimport {durationWeek} from \"./duration\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import {timeDay, timeSunday, timeMonday, timeYear, utcDay, utcSunday, utcMonday, utcYear} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"S\": formatSeconds,\n    \"U\": formatWeekNumberSunday,\n    \"w\": formatWeekdayNumber,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"S\": formatUTCSeconds,\n    \"U\": formatUTCWeekNumberSunday,\n    \"w\": formatUTCWeekdayNumber,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"S\": parseSeconds,\n    \"U\": parseWeekNumberSunday,\n    \"w\": parseWeekdayNumber,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0);\n      if (i != string.length) return null;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"W\" in d ? 1 : 0;\n        var day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?:\\:?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekdayNumber(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekdayNumber(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","import {bisector, tickStep} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport {map} from \"./array\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport nice from \"./nice\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(deinterpolate, reinterpolate),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = tickStep(start, stop, interval);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(map.call(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]);\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  var node;\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : defaultView(node = this.node())\n          .getComputedStyle(node, null)\n          .getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (event) {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import { max, min } from 'd3-array';\nimport { map } from 'd3-collection';\nimport { format } from 'd3-format';\nimport { interpolateHcl } from 'd3-interpolate';\nimport { csv, tsv, json, text } from 'd3-request';\nimport { scaleLinear, scaleThreshold } from 'd3-scale';\nimport { event, select } from 'd3-selection';\nimport { timeDays, timeHours, timeMinutes, timeMondays, timeMonths, timeSundays, timeYears } from 'd3-time';\nimport { timeFormat } from 'd3-time-format';\n\nexport default class CalHeatMap {\n    constructor() {\n        \"use strict\";\n\n        var self = this;\n\n        this.allowedDataType = [\"json\", \"csv\", \"tsv\", \"txt\"];\n\n        // Default settings\n        this.options = {\n            // selector string of the container to append the graph to\n            // Accept any string value accepted by document.querySelector or CSS3\n            // or an Element object\n            itemSelector: \"#cal-heatmap\",\n\n            // Whether to paint the calendar on init()\n            // Used by testsuite to reduce testing time\n            paintOnLoad: true,\n\n            // ================================================\n            // DOMAIN\n            // ================================================\n\n            // Number of domain to display on the graph\n            range: 12,\n\n            // Size of each cell, in pixel\n            cellSize: 10,\n\n            // Padding between each cell, in pixel\n            cellPadding: 2,\n\n            // For rounded subdomain rectangles, in pixels\n            cellRadius: 0,\n\n            domainGutter: 2,\n\n            domainMargin: [0, 0, 0, 0],\n\n            domain: \"hour\",\n\n            subDomain: \"min\",\n\n            // Number of columns to split the subDomains to\n            // If not null, will takes precedence over rowLimit\n            colLimit: null,\n\n            // Number of rows to split the subDomains to\n            // Will be ignored if colLimit is not null\n            rowLimit: null,\n\n            // First day of the week is Monday\n            // 0 to start the week on Sunday\n            weekStartOnMonday: true,\n\n            // Start date of the graph\n            // @default now\n            start: new Date(),\n\n            minDate: null,\n\n            maxDate: null,\n\n            // ================================================\n            // DATA\n            // ================================================\n\n            // Data source\n            // URL, where to fetch the original datas\n            data: \"\",\n\n            // Data type\n            // Default: json\n            dataType: this.allowedDataType[0],\n\n            // Payload sent when using POST http method\n            // Leave to null (default) for GET request\n            // Expect a string, formatted like \"a=b;c=d\"\n            dataPostPayload: null,\n\n            // Whether to consider missing date:value from the datasource\n            // as equal to 0, or just leave them as missing\n            considerMissingDataAsZero: false,\n\n            // Load remote data on calendar creation\n            // When false, the calendar will be left empty\n            loadOnInit: true,\n\n            // Calendar orientation\n            // false: display domains side by side\n            // true : display domains one under the other\n            verticalOrientation: false,\n\n            // Domain dynamic width/height\n            // The width on a domain depends on the number of\n            domainDynamicDimension: true,\n\n            // Domain Label properties\n            label: {\n                // valid: top, right, bottom, left\n                position: \"bottom\",\n\n                // Valid: left, center, right\n                // Also valid are the direct svg values: start, middle, end\n                align: \"center\",\n\n                // By default, there is no margin/padding around the label\n                offset: {\n                    x: 0,\n                    y: 0\n                },\n\n                rotate: null,\n\n                // Used only on vertical orientation\n                width: 100,\n\n                // Used only on horizontal orientation\n                height: null\n            },\n\n            // ================================================\n            // LEGEND\n            // ================================================\n\n            // Threshold for the legend\n            legend: [10, 20, 30, 40],\n\n            // Whether to display the legend\n            displayLegend: true,\n\n            legendCellSize: 10,\n\n            legendCellPadding: 2,\n\n            legendMargin: [0, 0, 0, 0],\n\n            // Legend vertical position\n            // top: place legend above calendar\n            // bottom: place legend below the calendar\n            legendVerticalPosition: \"bottom\",\n\n            // Legend horizontal position\n            // accepted values: left, center, right\n            legendHorizontalPosition: \"left\",\n\n            // Legend rotation\n            // accepted values: horizontal, vertical\n            legendOrientation: \"horizontal\",\n\n            // Objects holding all the heatmap different colors\n            // null to disable, and use the default css styles\n            //\n            // Examples:\n            // legendColors: {\n            //\t\tmin: \"green\",\n            //\t\tmax: \"red\",\n            //\t\tempty: \"#ffffff\",\n            //\t\tbase: \"grey\",\n            //\t\toverflow: \"red\"\n            // }\n            legendColors: null,\n\n            // ================================================\n            // HIGHLIGHT\n            // ================================================\n\n            // List of dates to highlight\n            // Valid values:\n            // - []: don't highlight anything\n            // - \"now\": highlight the current date\n            // - an array of Date objects: highlight the specified dates\n            highlight: [],\n\n            // ================================================\n            // TEXT FORMATTING / i18n\n            // ================================================\n\n            // Name of the items to represent in the calendar\n            itemName: [\"item\", \"items\"],\n\n            // Formatting of the domain label\n            // @default: null, will use the formatting according to domain type\n            // Accept a string used as specifier by d3.timeFormat()\n            // or a function\n            //\n            // Refer to https://github.com/mbostock/d3/wiki/Time-Formatting\n            // for accepted date formatting used by d3.timeFormat()\n            domainLabelFormat: null,\n\n            // Formatting of the title displayed when hovering a subDomain cell\n            subDomainTitleFormat: {\n                empty: \"{date}\",\n                filled: \"{count} {name} {connector} {date}\"\n            },\n\n            // Formatting of the {date} used in subDomainTitleFormat\n            // @default: null, will use the formatting according to subDomain type\n            // Accept a string used as specifier by d3.timeFormat()\n            // or a function\n            //\n            // Refer to https://github.com/mbostock/d3/wiki/Time-Formatting\n            // for accepted date formatting used by d3.timeFormat()\n            subDomainDateFormat: null,\n\n            // Formatting of the text inside each subDomain cell\n            // @default: null, no text\n            // Accept a string used as specifier by d3.timeFormat()\n            // or a function\n            //\n            // Refer to https://github.com/mbostock/d3/wiki/Time-Formatting\n            // for accepted date formatting used by d3.timeFormat()\n            subDomainTextFormat: null,\n\n            // Formatting of the title displayed when hovering a legend cell\n            legendTitleFormat: {\n                lower: \"less than {min} {name}\",\n                inner: \"between {down} and {up} {name}\",\n                upper: \"more than {max} {name}\"\n            },\n\n            // Animation duration, in ms\n            animationDuration: 500,\n\n            nextSelector: false,\n\n            previousSelector: false,\n\n            itemNamespace: \"cal-heatmap\",\n\n            tooltip: false,\n\n            // ================================================\n            // EVENTS CALLBACK\n            // ================================================\n\n            // Callback when clicking on a time block\n            onClick: null,\n\n            // Callback after painting the empty calendar\n            // Can be used to trigger an API call, once the calendar is ready to be filled\n            afterLoad: null,\n\n            // Callback after loading the next domain in the calendar\n            afterLoadNextDomain: null,\n\n            // Callback after loading the previous domain in the calendar\n            afterLoadPreviousDomain: null,\n\n            // Callback after finishing all actions on the calendar\n            onComplete: null,\n\n            // Callback after fetching the datas, but before applying them to the calendar\n            // Used mainly to convert the datas if they're not formatted like expected\n            // Takes the fetched \"data\" object as argument, must return a json object\n            // formatted like {timestamp:count, timestamp2:count2},\n            afterLoadData(data) {\n                return data;\n            },\n\n            // Callback triggered after calling next().\n            // The `status` argument is equal to true if there is no\n            // more next domain to load\n            //\n            // This callback is also executed once, after calling previous(),\n            // only when the max domain is reached\n            onMaxDomainReached: null,\n\n            // Callback triggered after calling previous().\n            // The `status` argument is equal to true if there is no\n            // more previous domain to load\n            //\n            // This callback is also executed once, after calling next(),\n            // only when the min domain is reached\n            onMinDomainReached: null\n        };\n\n        this._domainType = {\n            \"min\": {\n                name: \"minute\",\n                level: 10,\n                maxItemNumber: 60,\n                defaultRowNumber: 10,\n                defaultColumnNumber: 6,\n                row(d) {\n                    return self.getSubDomainRowNumber(d);\n                },\n                column(d) {\n                    return self.getSubDomainColumnNumber(d);\n                },\n                position: {\n                    x(d) {\n                        return Math.floor(d.getMinutes() / self._domainType.min.row(d));\n                    },\n                    y(d) {\n                        return d.getMinutes() % self._domainType.min.row(d);\n                    }\n                },\n                format: {\n                    date: \"%H:%M, %A %B %-e, %Y\",\n                    legend: \"\",\n                    connector: \"at\"\n                },\n                extractUnit(d) {\n                    return new Date(d.getFullYear(), d.getMonth(), d.getDate(), d.getHours(), d.getMinutes()).getTime();\n                }\n            },\n            \"hour\": {\n                name: \"hour\",\n                level: 20,\n                maxItemNumber(d) {\n                    switch (self.options.domain) {\n                        case \"day\":\n                            return 24;\n                        case \"week\":\n                            return 24 * 7;\n                        case \"month\":\n                            return 24 * (self.options.domainDynamicDimension ? self.getDayCountInMonth(d) : 31);\n                    }\n                },\n                defaultRowNumber: 6,\n                defaultColumnNumber(d) {\n                    switch (self.options.domain) {\n                        case \"day\":\n                            return 4;\n                        case \"week\":\n                            return 28;\n                        case \"month\":\n                            return self.options.domainDynamicDimension ? self.getDayCountInMonth(d) : 31;\n                    }\n                },\n                row(d) {\n                    return self.getSubDomainRowNumber(d);\n                },\n                column(d) {\n                    return self.getSubDomainColumnNumber(d);\n                },\n                position: {\n                    x(d) {\n                        if (self.options.domain === \"month\") {\n                            if (self.options.colLimit > 0 || self.options.rowLimit > 0) {\n                                return Math.floor((d.getHours() + (d.getDate() - 1) * 24) / self._domainType.hour.row(d));\n                            }\n                            return Math.floor(d.getHours() / self._domainType.hour.row(d)) + (d.getDate() - 1) * 4;\n                        } else if (self.options.domain === \"week\") {\n                            if (self.options.colLimit > 0 || self.options.rowLimit > 0) {\n                                return Math.floor((d.getHours() + self.getWeekDay(d) * 24) / self._domainType.hour.row(d));\n                            }\n                            return Math.floor(d.getHours() / self._domainType.hour.row(d)) + self.getWeekDay(d) * 4;\n                        }\n                        return Math.floor(d.getHours() / self._domainType.hour.row(d));\n                    },\n                    y(d) {\n                        var p = d.getHours();\n                        if (self.options.colLimit > 0 || self.options.rowLimit > 0) {\n                            switch (self.options.domain) {\n                                case \"month\":\n                                    p += (d.getDate() - 1) * 24;\n                                    break;\n                                case \"week\":\n                                    p += self.getWeekDay(d) * 24;\n                                    break;\n                            }\n                        }\n                        return Math.floor(p % self._domainType.hour.row(d));\n                    }\n                },\n                format: {\n                    date: \"%Hh, %A %B %-e, %Y\",\n                    legend: \"%H:00\",\n                    connector: \"at\"\n                },\n                extractUnit(d) {\n                    return new Date(d.getFullYear(), d.getMonth(), d.getDate(), d.getHours()).getTime();\n                }\n            },\n            \"day\": {\n                name: \"day\",\n                level: 30,\n                maxItemNumber(d) {\n                    switch (self.options.domain) {\n                        case \"week\":\n                            return 7;\n                        case \"month\":\n                            return self.options.domainDynamicDimension ? self.getDayCountInMonth(d) : 31;\n                        case \"year\":\n                            return self.options.domainDynamicDimension ? self.getDayCountInYear(d) : 366;\n                    }\n                },\n                defaultColumnNumber(d) {\n                    d = new Date(d);\n                    switch (self.options.domain) {\n                        case \"week\":\n                            return 1;\n                        case \"month\":\n                            return (self.options.domainDynamicDimension && !self.options.verticalOrientation) ? (self.getWeekNumber(new Date(d.getFullYear(), d.getMonth() + 1, 0)) - self.getWeekNumber(d) + 1) : 6;\n                        case \"year\":\n                            return (self.options.domainDynamicDimension ? (self.getWeekNumber(new Date(d.getFullYear(), 11, 31)) - self.getWeekNumber(new Date(d.getFullYear(), 0)) + 1) : 54);\n                    }\n                },\n                defaultRowNumber: 7,\n                row(d) {\n                    return self.getSubDomainRowNumber(d);\n                },\n                column(d) {\n                    return self.getSubDomainColumnNumber(d);\n                },\n                position: {\n                    x(d) {\n                        switch (self.options.domain) {\n                            case \"week\":\n                                return Math.floor(self.getWeekDay(d) / self._domainType.day.row(d));\n                            case \"month\":\n                                if (self.options.colLimit > 0 || self.options.rowLimit > 0) {\n                                    return Math.floor((d.getDate() - 1) / self._domainType.day.row(d));\n                                }\n                                return self.getWeekNumber(d) - self.getWeekNumber(new Date(d.getFullYear(), d.getMonth()));\n                            case \"year\":\n                                if (self.options.colLimit > 0 || self.options.rowLimit > 0) {\n                                    return Math.floor((self.getDayOfYear(d) - 1) / self._domainType.day.row(d));\n                                }\n                                return self.getWeekNumber(d);\n                        }\n                    },\n                    y(d) {\n                        var p = self.getWeekDay(d);\n                        if (self.options.colLimit > 0 || self.options.rowLimit > 0) {\n                            switch (self.options.domain) {\n                                case \"year\":\n                                    p = self.getDayOfYear(d) - 1;\n                                    break;\n                                case \"week\":\n                                    p = self.getWeekDay(d);\n                                    break;\n                                case \"month\":\n                                    p = d.getDate() - 1;\n                                    break;\n                            }\n                        }\n                        return Math.floor(p % self._domainType.day.row(d));\n                    }\n                },\n                format: {\n                    date: \"%A %B %-e, %Y\",\n                    legend: \"%e %b\",\n                    connector: \"on\"\n                },\n                extractUnit(d) {\n                    return new Date(d.getFullYear(), d.getMonth(), d.getDate()).getTime();\n                }\n            },\n            \"week\": {\n                name: \"week\",\n                level: 40,\n                maxItemNumber: 54,\n                defaultColumnNumber(d) {\n                    d = new Date(d);\n                    switch (self.options.domain) {\n                        case \"year\":\n                            return self._domainType.week.maxItemNumber;\n                        case \"month\":\n                            return self.options.domainDynamicDimension ? self.getWeekNumber(new Date(d.getFullYear(), d.getMonth() + 1, 0)) - self.getWeekNumber(d) : 5;\n                    }\n                },\n                defaultRowNumber: 1,\n                row(d) {\n                    return self.getSubDomainRowNumber(d);\n                },\n                column(d) {\n                    return self.getSubDomainColumnNumber(d);\n                },\n                position: {\n                    x(d) {\n                        switch (self.options.domain) {\n                            case \"year\":\n                                return Math.floor(self.getWeekNumber(d) / self._domainType.week.row(d));\n                            case \"month\":\n                                return Math.floor(self.getMonthWeekNumber(d) / self._domainType.week.row(d));\n                        }\n                    },\n                    y(d) {\n                        return self.getWeekNumber(d) % self._domainType.week.row(d);\n                    }\n                },\n                format: {\n                    date: \"%B Week #%W\",\n                    legend: \"%B Week #%W\",\n                    connector: \"in\"\n                },\n                extractUnit(d) {\n                    var dt = new Date(d.getFullYear(), d.getMonth(), d.getDate());\n                    // According to ISO-8601, week number computation are based on week starting on Monday\n                    var weekDay = dt.getDay() - (self.options.weekStartOnMonday ? 1 : 0);\n                    if (weekDay < 0) {\n                        weekDay = 6;\n                    }\n                    dt.setDate(dt.getDate() - weekDay);\n                    return dt.getTime();\n                }\n            },\n            \"month\": {\n                name: \"month\",\n                level: 50,\n                maxItemNumber: 12,\n                defaultColumnNumber: 12,\n                defaultRowNumber: 1,\n                row() {\n                    return self.getSubDomainRowNumber();\n                },\n                column() {\n                    return self.getSubDomainColumnNumber();\n                },\n                position: {\n                    x(d) {\n                        return Math.floor(d.getMonth() / self._domainType.month.row(d));\n                    },\n                    y(d) {\n                        return d.getMonth() % self._domainType.month.row(d);\n                    }\n                },\n                format: {\n                    date: \"%B %Y\",\n                    legend: \"%B\",\n                    connector: \"in\"\n                },\n                extractUnit(d) {\n                    return new Date(d.getFullYear(), d.getMonth()).getTime();\n                }\n            },\n            \"year\": {\n                name: \"year\",\n                level: 60,\n                row() {\n                    return self.options.rowLimit || 1;\n                },\n                column() {\n                    return self.options.colLimit || 1;\n                },\n                position: {\n                    x() {\n                        return 1;\n                    },\n                    y() {\n                        return 1;\n                    }\n                },\n                format: {\n                    date: \"%Y\",\n                    legend: \"%Y\",\n                    connector: \"in\"\n                },\n                extractUnit(d) {\n                    return new Date(d.getFullYear()).getTime();\n                }\n            }\n        };\n\n        for (var type in this._domainType) {\n            if (this._domainType.hasOwnProperty(type)) {\n                var d = this._domainType[type];\n                this._domainType[\"x_\" + type] = {\n                    name: \"x_\" + type,\n                    level: d.type,\n                    maxItemNumber: d.maxItemNumber,\n                    defaultRowNumber: d.defaultRowNumber,\n                    defaultColumnNumber: d.defaultColumnNumber,\n                    row: d.column,\n                    column: d.row,\n                    position: {\n                        x: d.position.y,\n                        y: d.position.x\n                    },\n                    format: d.format,\n                    extractUnit: d.extractUnit\n                };\n            }\n        }\n\n        // Record the address of the last inserted domain when browsing\n        this.lastInsertedSvg = null;\n\n        this._completed = false;\n\n        // Record all the valid domains\n        // Each domain value is a timestamp in milliseconds\n        this._domains = map();\n\n        this.graphDim = {\n            width: 0,\n            height: 0\n        };\n\n        this.legendDim = {\n            width: 0,\n            height: 0\n        };\n\n        this.NAVIGATE_LEFT = 1;\n        this.NAVIGATE_RIGHT = 2;\n\n        // Various update mode when using the update() API\n        this.RESET_ALL_ON_UPDATE = 0;\n        this.RESET_SINGLE_ON_UPDATE = 1;\n        this.APPEND_ON_UPDATE = 2;\n\n        this.DEFAULT_LEGEND_MARGIN = 10;\n\n        this.root = null;\n        this.tooltip = null;\n\n        this._maxDomainReached = false;\n        this._minDomainReached = false;\n\n        this.domainPosition = new DomainPosition();\n        this.Legend = null;\n        this.legendScale = null;\n\n        // List of domains that are skipped because of DST\n        // All times belonging to these domains should be re-assigned to the previous domain\n        this.DSTDomain = [];\n\n        /**\n         * Display the graph for the first time\n         * @return bool True if the calendar is created\n         */\n        this._init = function() {\n\n            self.getDomain(self.options.start).map(function(d) {\n                return d.getTime();\n            }).map(function(d) {\n                self._domains.set(d, self.getSubDomain(d).map(function(d) {\n                    return { t: self._domainType[self.options.subDomain].extractUnit(d), v: null };\n                }));\n            });\n\n            self.root = select(self.options.itemSelector).append(\"svg\").attr(\"class\", \"cal-heatmap-container\");\n\n            self.tooltip = select(self.options.itemSelector)\n                .attr(\"style\", function() {\n                    var current = select(self.options.itemSelector).attr(\"style\");\n                    return (current !== null ? current : \"\") + \"position:relative;\";\n                })\n                .append(\"div\")\n                .attr(\"class\", \"ch-tooltip\");\n\n            self.root.attr(\"x\", 0).attr(\"y\", 0).append(\"svg\").attr(\"class\", \"graph\");\n\n            self.Legend = new Legend(self);\n\n            if (self.options.paintOnLoad) {\n                _initCalendar();\n            }\n\n            return true;\n        };\n\n        function _initCalendar() {\n            self.verticalDomainLabel = (self.options.label.position === \"top\" || self.options.label.position === \"bottom\");\n\n            self.domainVerticalLabelHeight = self.options.label.height === null ? Math.max(25, self.options.cellSize * 2) : self.options.label.height;\n            self.domainHorizontalLabelWidth = 0;\n\n            if (self.options.domainLabelFormat === \"\" && self.options.label.height === null) {\n                self.domainVerticalLabelHeight = 0;\n            }\n\n            if (!self.verticalDomainLabel) {\n                self.domainVerticalLabelHeight = 0;\n                self.domainHorizontalLabelWidth = self.options.label.width;\n            }\n\n            self.paint();\n\n            // =========================================================================//\n            // ATTACHING DOMAIN NAVIGATION EVENT\t\t\t\t\t\t\t\t\t\t//\n            // =========================================================================//\n            if (self.options.nextSelector !== false) {\n                select(self.options.nextSelector).on(\"click.\" + self.options.itemNamespace, function() {\n                    event.preventDefault();\n                    return self.loadNextDomain(1);\n                });\n            }\n\n            if (self.options.previousSelector !== false) {\n                select(self.options.previousSelector).on(\"click.\" + self.options.itemNamespace, function() {\n                    event.preventDefault();\n                    return self.loadPreviousDomain(1);\n                });\n            }\n\n            self.Legend.redraw(self.graphDim.width - self.options.domainGutter - self.options.cellPadding);\n            self.afterLoad();\n\n            var domains = self.getDomainKeys();\n\n            // Fill the graph with some datas\n            if (self.options.loadOnInit) {\n                self.getDatas(\n                    self.options.data,\n                    new Date(domains[0]),\n                    self.getSubDomain(domains[domains.length - 1]).pop(),\n                    function() {\n                        self.fill();\n                        self.onComplete();\n                    }\n                );\n            } else {\n                self.onComplete();\n            }\n\n            self.checkIfMinDomainIsReached(domains[0]);\n            self.checkIfMaxDomainIsReached(self.getNextDomain().getTime());\n        }\n\n        // Return the width of the domain block, without the domain gutter\n        // @param int d Domain start timestamp\n        function w(d, outer) {\n            var width = self.options.cellSize * self._domainType[self.options.subDomain].column(d) + self.options.cellPadding * self._domainType[self.options.subDomain].column(d);\n            if (arguments.length === 2 && outer === true) {\n                return width += self.domainHorizontalLabelWidth + self.options.domainGutter + self.options.domainMargin[1] + self.options.domainMargin[3];\n            }\n            return width;\n        }\n\n        // Return the height of the domain block, without the domain gutter\n        function h(d, outer) {\n            var height = self.options.cellSize * self._domainType[self.options.subDomain].row(d) + self.options.cellPadding * self._domainType[self.options.subDomain].row(d);\n            if (arguments.length === 2 && outer === true) {\n                height += self.options.domainGutter + self.domainVerticalLabelHeight + self.options.domainMargin[0] + self.options.domainMargin[2];\n            }\n            return height;\n        }\n\n        /**\n         *\n         *\n         * @param int navigationDir\n         */\n        this.paint = function(navigationDir) {\n\n            var options = self.options;\n\n            if (arguments.length === 0) {\n                navigationDir = false;\n            }\n\n            // Painting all the domains\n            var domainSvg = self.root.select(\".graph\")\n                .selectAll(\".graph-domain\")\n                .data(\n                    function() {\n                        var data = self.getDomainKeys();\n                        return navigationDir === self.NAVIGATE_LEFT ? data.reverse() : data;\n                    },\n                    function(d) {\n                        return d;\n                    }\n                );\n\n            var enteringDomainDim = 0;\n            var exitingDomainDim = 0;\n\n            // =========================================================================//\n            // PAINTING DOMAIN\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n            // =========================================================================//\n\n            var svg = domainSvg\n                .enter()\n                .append(\"svg\")\n                .attr(\"width\", function(d) {\n                    return w(d, true);\n                })\n                .attr(\"height\", function(d) {\n                    return h(d, true);\n                })\n                .attr(\"x\", function(d) {\n                    if (options.verticalOrientation) {\n                        self.graphDim.width = Math.max(self.graphDim.width, w(d, true));\n                        return 0;\n                    } else {\n                        return getDomainPosition(d, self.graphDim, \"width\", w(d, true));\n                    }\n                })\n                .attr(\"y\", function(d) {\n                    if (options.verticalOrientation) {\n                        return getDomainPosition(d, self.graphDim, \"height\", h(d, true));\n                    } else {\n                        self.graphDim.height = Math.max(self.graphDim.height, h(d, true));\n                        return 0;\n                    }\n                })\n                .attr(\"class\", function(d) {\n                    var classname = \"graph-domain\";\n                    var date = new Date(d);\n                    switch (options.domain) {\n                        case \"hour\":\n                            classname += \" h_\" + date.getHours();\n                            /* falls through */\n                        case \"day\":\n                            classname += \" d_\" + date.getDate() + \" dy_\" + date.getDay();\n                            /* falls through */\n                        case \"week\":\n                            classname += \" w_\" + self.getWeekNumber(date);\n                            /* falls through */\n                        case \"month\":\n                            classname += \" m_\" + (date.getMonth() + 1);\n                            /* falls through */\n                        case \"year\":\n                            classname += \" y_\" + date.getFullYear();\n                    }\n                    return classname;\n                });\n\n            self.lastInsertedSvg = svg;\n\n            function getDomainPosition(domainIndex, graphDim, axis, domainDim) {\n                var tmp = 0;\n                switch (navigationDir) {\n                    case false:\n                        tmp = graphDim[axis];\n\n                        graphDim[axis] += domainDim;\n                        self.domainPosition.setPosition(domainIndex, tmp);\n                        return tmp;\n\n                    case self.NAVIGATE_RIGHT:\n                        self.domainPosition.setPosition(domainIndex, graphDim[axis]);\n\n                        enteringDomainDim = domainDim;\n                        exitingDomainDim = self.domainPosition.getPositionFromIndex(1);\n\n                        self.domainPosition.shiftRightBy(exitingDomainDim);\n                        return graphDim[axis];\n\n                    case self.NAVIGATE_LEFT:\n                        tmp = -domainDim;\n\n                        enteringDomainDim = -tmp;\n                        exitingDomainDim = graphDim[axis] - self.domainPosition.getLast();\n\n                        self.domainPosition.setPosition(domainIndex, tmp);\n                        self.domainPosition.shiftLeftBy(enteringDomainDim);\n                        return tmp;\n                }\n            }\n\n            svg.append(\"rect\")\n                .attr(\"width\", function(d) {\n                    return w(d, true) - options.domainGutter - options.cellPadding;\n                })\n                .attr(\"height\", function(d) {\n                    return h(d, true) - options.domainGutter - options.cellPadding;\n                })\n                .attr(\"class\", \"domain-background\");\n\n            // =========================================================================//\n            // PAINTING SUBDOMAINS\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n            // =========================================================================//\n            var subDomainSvgGroup = svg.append(\"svg\")\n                .attr(\"x\", function() {\n                    if (options.label.position === \"left\") {\n                        return self.domainHorizontalLabelWidth + options.domainMargin[3];\n                    } else {\n                        return options.domainMargin[3];\n                    }\n                })\n                .attr(\"y\", function() {\n                    if (options.label.position === \"top\") {\n                        return self.domainVerticalLabelHeight + options.domainMargin[0];\n                    } else {\n                        return options.domainMargin[0];\n                    }\n                })\n                .attr(\"class\", \"graph-subdomain-group\");\n\n            var rect = subDomainSvgGroup\n                .selectAll(\"g\")\n                .data(function(d) {\n                    return self._domains.get(d);\n                })\n                .enter()\n                .append(\"g\");\n\n            rect\n                .append(\"rect\")\n                .attr(\"class\", function(d) {\n                    return \"graph-rect\" + self.getHighlightClassName(d.t) + (options.onClick !== null ? \" hover_cursor\" : \"\");\n                })\n                .attr(\"width\", options.cellSize)\n                .attr(\"height\", options.cellSize)\n                .attr(\"x\", function(d) {\n                    return self.positionSubDomainX(d.t);\n                })\n                .attr(\"y\", function(d) {\n                    return self.positionSubDomainY(d.t);\n                })\n                .on(\"click\", function(d) {\n                    if (options.onClick !== null) {\n                        return self.onClick(new Date(d.t), d.v);\n                    }\n                })\n                .call(function(selection) {\n                    if (options.cellRadius > 0) {\n                        selection\n                            .attr(\"rx\", options.cellRadius)\n                            .attr(\"ry\", options.cellRadius);\n                    }\n\n                    if (self.legendScale !== null && options.legendColors !== null && options.legendColors.hasOwnProperty(\"base\")) {\n                        selection.attr(\"fill\", options.legendColors.base);\n                    }\n\n                    if (options.tooltip) {\n                        selection.on(\"mouseover\", function(d) {\n                            var domainNode = this.parentNode.parentNode;\n\n                            self.tooltip\n                                .html(self.getSubDomainTitle(d))\n                                .attr(\"style\", \"display: block;\");\n\n                            var tooltipPositionX = self.positionSubDomainX(d.t) - self.tooltip.node().offsetWidth / 2 + options.cellSize / 2;\n                            var tooltipPositionY = self.positionSubDomainY(d.t) - self.tooltip.node().offsetHeight - options.cellSize / 2;\n\n                            // Offset by the domain position\n                            tooltipPositionX += parseInt(domainNode.getAttribute(\"x\"), 10);\n                            tooltipPositionY += parseInt(domainNode.getAttribute(\"y\"), 10);\n\n                            // Offset by the calendar position (when legend is left/top)\n                            tooltipPositionX += parseInt(self.root.select(\".graph\").attr(\"x\"), 10);\n                            tooltipPositionY += parseInt(self.root.select(\".graph\").attr(\"y\"), 10);\n\n                            // Offset by the inside domain position (when label is left/top)\n                            tooltipPositionX += parseInt(domainNode.parentNode.getAttribute(\"x\"), 10);\n                            tooltipPositionY += parseInt(domainNode.parentNode.getAttribute(\"y\"), 10);\n\n                            self.tooltip.attr(\"style\",\n                                \"display: block; \" +\n                                \"left: \" + tooltipPositionX + \"px; \" +\n                                \"top: \" + tooltipPositionY + \"px;\");\n                        });\n\n                        selection.on(\"mouseout\", function() {\n                            self.tooltip\n                                .attr(\"style\", \"display:none\")\n                                .html(\"\");\n                        });\n                    }\n                });\n\n            // Appending a title to each subdomain\n            if (!options.tooltip) {\n                rect.append(\"title\").text(function(d) {\n                    return self.formatDate(new Date(d.t), options.subDomainDateFormat);\n                });\n            }\n\n            // =========================================================================//\n            // PAINTING LABEL\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n            // =========================================================================//\n            if (options.domainLabelFormat !== \"\") {\n                svg.append(\"text\")\n                    .attr(\"class\", \"graph-label\")\n                    .attr(\"y\", function(d) {\n                        var y = options.domainMargin[0];\n                        switch (options.label.position) {\n                            case \"top\":\n                                y += self.domainVerticalLabelHeight / 2;\n                                break;\n                            case \"bottom\":\n                                y += h(d) + self.domainVerticalLabelHeight / 2;\n                        }\n\n                        return y + options.label.offset.y *\n                            (\n                                ((options.label.rotate === \"right\" && options.label.position === \"right\") ||\n                                    (options.label.rotate === \"left\" && options.label.position === \"left\")) ?\n                                -1 : 1\n                            );\n                    })\n                    .attr(\"x\", function(d) {\n                        var x = options.domainMargin[3];\n                        switch (options.label.position) {\n                            case \"right\":\n                                x += w(d);\n                                break;\n                            case \"bottom\":\n                            case \"top\":\n                                x += w(d) / 2;\n                        }\n\n                        if (options.label.align === \"right\") {\n                            return x + self.domainHorizontalLabelWidth - options.label.offset.x *\n                                (options.label.rotate === \"right\" ? -1 : 1);\n                        }\n                        return x + options.label.offset.x;\n\n                    })\n                    .attr(\"text-anchor\", function() {\n                        switch (options.label.align) {\n                            case \"start\":\n                            case \"left\":\n                                return \"start\";\n                            case \"end\":\n                            case \"right\":\n                                return \"end\";\n                            default:\n                                return \"middle\";\n                        }\n                    })\n                    .attr(\"dominant-baseline\", function() {\n                        return self.verticalDomainLabel ? \"middle\" : \"top\";\n                    })\n                    .text(function(d) {\n                        return self.formatDate(new Date(d), options.domainLabelFormat);\n                    })\n                    .call(domainRotate);\n            }\n\n            function domainRotate(selection) {\n                switch (options.label.rotate) {\n                    case \"right\":\n                        selection\n                            .attr(\"transform\", function(d) {\n                                var s = \"rotate(90), \";\n                                switch (options.label.position) {\n                                    case \"right\":\n                                        s += \"translate(-\" + w(d) + \" , -\" + w(d) + \")\";\n                                        break;\n                                    case \"left\":\n                                        s += \"translate(0, -\" + self.domainHorizontalLabelWidth + \")\";\n                                        break;\n                                }\n\n                                return s;\n                            });\n                        break;\n                    case \"left\":\n                        selection\n                            .attr(\"transform\", function(d) {\n                                var s = \"rotate(270), \";\n                                switch (options.label.position) {\n                                    case \"right\":\n                                        s += \"translate(-\" + (w(d) + self.domainHorizontalLabelWidth) + \" , \" + w(d) + \")\";\n                                        break;\n                                    case \"left\":\n                                        s += \"translate(-\" + (self.domainHorizontalLabelWidth) + \" , \" + self.domainHorizontalLabelWidth + \")\";\n                                        break;\n                                }\n\n                                return s;\n                            });\n                        break;\n                }\n            }\n\n            // =========================================================================//\n            // PAINTING DOMAIN SUBDOMAIN CONTENT\t\t\t\t\t\t\t\t\t\t//\n            // =========================================================================//\n            if (options.subDomainTextFormat !== null) {\n                rect\n                    .append(\"text\")\n                    .attr(\"class\", function(d) {\n                        return \"subdomain-text\" + self.getHighlightClassName(d.t);\n                    })\n                    .attr(\"x\", function(d) {\n                        return self.positionSubDomainX(d.t) + options.cellSize / 2;\n                    })\n                    .attr(\"y\", function(d) {\n                        return self.positionSubDomainY(d.t) + options.cellSize / 2;\n                    })\n                    .attr(\"text-anchor\", \"middle\")\n                    .attr(\"dominant-baseline\", \"central\")\n                    .text(function(d) {\n                        return self.formatDate(new Date(d.t), options.subDomainTextFormat);\n                    });\n            }\n\n            // =========================================================================//\n            // ANIMATION\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n            // =========================================================================//\n\n            if (navigationDir !== false) {\n                domainSvg.transition().duration(options.animationDuration)\n                    .attr(\"x\", function(d) {\n                        return options.verticalOrientation ? 0 : self.domainPosition.getPosition(d);\n                    })\n                    .attr(\"y\", function(d) {\n                        return options.verticalOrientation ? self.domainPosition.getPosition(d) : 0;\n                    });\n            }\n\n            var tempWidth = self.graphDim.width;\n            var tempHeight = self.graphDim.height;\n\n            if (options.verticalOrientation) {\n                self.graphDim.height += enteringDomainDim - exitingDomainDim;\n            } else {\n                self.graphDim.width += enteringDomainDim - exitingDomainDim;\n            }\n\n            // At the time of exit, domainsWidth and domainsHeight already automatically shifted\n            domainSvg.exit().transition().duration(options.animationDuration)\n                .attr(\"x\", function(d) {\n                    if (options.verticalOrientation) {\n                        return 0;\n                    } else {\n                        switch (navigationDir) {\n                            case self.NAVIGATE_LEFT:\n                                return Math.min(self.graphDim.width, tempWidth);\n                            case self.NAVIGATE_RIGHT:\n                                return -w(d, true);\n                        }\n                    }\n                })\n                .attr(\"y\", function(d) {\n                    if (options.verticalOrientation) {\n                        switch (navigationDir) {\n                            case self.NAVIGATE_LEFT:\n                                return Math.min(self.graphDim.height, tempHeight);\n                            case self.NAVIGATE_RIGHT:\n                                return -h(d, true);\n                        }\n                    } else {\n                        return 0;\n                    }\n                })\n                .remove();\n\n            // Resize the root container\n            self.resize();\n        };\n    }\n\n    /**\n     * Validate and merge user settings with default settings\n     *\n     * @param  {object} settings User settings\n     * @return {bool} False if settings contains error\n     */\n    /* jshint maxstatements:false */\n    init(settings) {\n        \"use strict\";\n\n        var parent = this;\n\n        var options = parent.options = mergeRecursive(parent.options, settings);\n\n        // Fatal errors\n        // Stop script execution on error\n        validateDomainType();\n        validateSelector(options.itemSelector, false, \"itemSelector\");\n\n        if (parent.allowedDataType.indexOf(options.dataType) === -1) {\n            throw new Error(\"The data type '\" + options.dataType + \"' is not valid data type\");\n        }\n\n        if (select(options.itemSelector).node() === null) {\n            throw new Error(\"The node '\" + options.itemSelector + \"' specified in itemSelector does not exists\");\n        }\n\n        try {\n            validateSelector(options.nextSelector, true, \"nextSelector\");\n            validateSelector(options.previousSelector, true, \"previousSelector\");\n        } catch (error) {\n            console.log(error.message);\n            return false;\n        }\n\n        // If other settings contains error, will fallback to default\n\n        if (!settings.hasOwnProperty(\"subDomain\")) {\n            this.options.subDomain = getOptimalSubDomain(settings.domain);\n        }\n\n        if (typeof options.itemNamespace !== \"string\" || options.itemNamespace === \"\") {\n            console.log(\"itemNamespace can not be empty, falling back to cal-heatmap\");\n            options.itemNamespace = \"cal-heatmap\";\n        }\n\n        // Don't touch these settings\n        var s = [\"data\", \"onComplete\", \"onClick\", \"afterLoad\", \"afterLoadData\", \"afterLoadPreviousDomain\", \"afterLoadNextDomain\"];\n\n        for (var k in s) {\n            if (settings.hasOwnProperty(s[k])) {\n                options[s[k]] = settings[s[k]];\n            }\n        }\n\n        options.subDomainDateFormat = (typeof options.subDomainDateFormat === \"string\" || typeof options.subDomainDateFormat === \"function\" ? options.subDomainDateFormat : this._domainType[options.subDomain].format.date);\n        options.domainLabelFormat = (typeof options.domainLabelFormat === \"string\" || typeof options.domainLabelFormat === \"function\" ? options.domainLabelFormat : this._domainType[options.domain].format.legend);\n        options.subDomainTextFormat = ((typeof options.subDomainTextFormat === \"string\" && options.subDomainTextFormat !== \"\") || typeof options.subDomainTextFormat === \"function\" ? options.subDomainTextFormat : null);\n        options.domainMargin = expandMarginSetting(options.domainMargin);\n        options.legendMargin = expandMarginSetting(options.legendMargin);\n        options.highlight = parent.expandDateSetting(options.highlight);\n        options.itemName = expandItemName(options.itemName);\n        options.colLimit = parseColLimit(options.colLimit);\n        options.rowLimit = parseRowLimit(options.rowLimit);\n        if (!settings.hasOwnProperty(\"legendMargin\")) {\n            autoAddLegendMargin();\n        }\n        autoAlignLabel();\n\n        /**\n         * Validate that a queryString is valid\n         *\n         * @param  {Element|string|bool} selector   The queryString to test\n         * @param  {bool}\tcanBeFalse\tWhether false is an accepted and valid value\n         * @param  {string} name\t\tName of the tested selector\n         * @throws {Error}\t\t\t\tIf the selector is not valid\n         * @return {bool}\t\t\t\tTrue if the selector is a valid queryString\n         */\n        function validateSelector(selector, canBeFalse, name) {\n            if (((canBeFalse && selector === false) || selector instanceof Element || typeof selector === \"string\") && selector !== \"\") {\n                return true;\n            }\n            throw new Error(\"The \" + name + \" is not valid\");\n        }\n\n        /**\n         * Return the optimal subDomain for the specified domain\n         *\n         * @param  {string} domain a domain name\n         * @return {string}        the subDomain name\n         */\n        function getOptimalSubDomain(domain) {\n            switch (domain) {\n                case \"year\":\n                    return \"month\";\n                case \"month\":\n                    return \"day\";\n                case \"week\":\n                    return \"day\";\n                case \"day\":\n                    return \"hour\";\n                default:\n                    return \"min\";\n            }\n        }\n\n        /**\n         * Ensure that the domain and subdomain are valid\n         *\n         * @throw {Error} when domain or subdomain are not valid\n         * @return {bool} True if domain and subdomain are valid and compatible\n         */\n        function validateDomainType() {\n            if (!parent._domainType.hasOwnProperty(options.domain) || options.domain === \"min\" || options.domain.substring(0, 2) === \"x_\") {\n                throw new Error(\"The domain '\" + options.domain + \"' is not valid\");\n            }\n\n            if (!parent._domainType.hasOwnProperty(options.subDomain) || options.subDomain === \"year\") {\n                throw new Error(\"The subDomain '\" + options.subDomain + \"' is not valid\");\n            }\n\n            if (parent._domainType[options.domain].level <= parent._domainType[options.subDomain].level) {\n                throw new Error(\"'\" + options.subDomain + \"' is not a valid subDomain to '\" + options.domain + \"'\");\n            }\n\n            return true;\n        }\n\n        /**\n         * Fine-tune the label alignement depending on its position\n         *\n         * @return void\n         */\n        function autoAlignLabel() {\n            // Auto-align label, depending on it's position\n            if (!settings.hasOwnProperty(\"label\") || (settings.hasOwnProperty(\"label\") && !settings.label.hasOwnProperty(\"align\"))) {\n                switch (options.label.position) {\n                    case \"left\":\n                        options.label.align = \"right\";\n                        break;\n                    case \"right\":\n                        options.label.align = \"left\";\n                        break;\n                    default:\n                        options.label.align = \"center\";\n                }\n\n                if (options.label.rotate === \"left\") {\n                    options.label.align = \"right\";\n                } else if (options.label.rotate === \"right\") {\n                    options.label.align = \"left\";\n                }\n            }\n\n            if (!settings.hasOwnProperty(\"label\") || (settings.hasOwnProperty(\"label\") && !settings.label.hasOwnProperty(\"offset\"))) {\n                if (options.label.position === \"left\" || options.label.position === \"right\") {\n                    options.label.offset = {\n                        x: 10,\n                        y: 15\n                    };\n                }\n            }\n        }\n\n        /**\n         * If not specified, add some margin around the legend depending on its position\n         *\n         * @return void\n         */\n        function autoAddLegendMargin() {\n            switch (options.legendVerticalPosition) {\n                case \"top\":\n                    options.legendMargin[2] = parent.DEFAULT_LEGEND_MARGIN;\n                    break;\n                case \"bottom\":\n                    options.legendMargin[0] = parent.DEFAULT_LEGEND_MARGIN;\n                    break;\n                case \"middle\":\n                case \"center\":\n                    options.legendMargin[options.legendHorizontalPosition === \"right\" ? 3 : 1] = parent.DEFAULT_LEGEND_MARGIN;\n            }\n        }\n\n        /**\n         * Expand a number of an array of numbers to an usable 4 values array\n         *\n         * @param  {integer|array} value\n         * @return {array}        array\n         */\n        function expandMarginSetting(value) {\n            if (typeof value === \"number\") {\n                value = [value];\n            }\n\n            if (!Array.isArray(value)) {\n                console.log(\"Margin only takes an integer or an array of integers\");\n                value = [0];\n            }\n\n            switch (value.length) {\n                case 1:\n                    return [value[0], value[0], value[0], value[0]];\n                case 2:\n                    return [value[0], value[1], value[0], value[1]];\n                case 3:\n                    return [value[0], value[1], value[2], value[1]];\n                case 4:\n                    return value;\n                default:\n                    return value.slice(0, 4);\n            }\n        }\n\n        /**\n         * Convert a string to an array like [singular-form, plural-form]\n         *\n         * @param  {string|array} value Date to convert\n         * @return {array}       An array like [singular-form, plural-form]\n         */\n        function expandItemName(value) {\n            if (typeof value === \"string\") {\n                return [value, value + (value !== \"\" ? \"s\" : \"\")];\n            }\n\n            if (Array.isArray(value)) {\n                if (value.length === 1) {\n                    return [value[0], value[0] + \"s\"];\n                } else if (value.length > 2) {\n                    return value.slice(0, 2);\n                }\n\n                return value;\n            }\n\n            return [\"item\", \"items\"];\n        }\n\n        function parseColLimit(value) {\n            return value > 0 ? value : null;\n        }\n\n        function parseRowLimit(value) {\n            if (value > 0 && options.colLimit > 0) {\n                console.log(\"colLimit and rowLimit are mutually exclusive, rowLimit will be ignored\");\n                return null;\n            }\n            return value > 0 ? value : null;\n        }\n\n        return this._init();\n\n    }\n\n    /**\n     * Convert a keyword or an array of keyword/date to an array of date objects\n     *\n     * @param  {string|array|Date} value Data to convert\n     * @return {array}       An array of Dates\n     */\n    expandDateSetting(value) {\n        \"use strict\";\n\n        if (!Array.isArray(value)) {\n            value = [value];\n        }\n\n        return value.map(function(data) {\n            if (data === \"now\") {\n                return new Date();\n            }\n            if (data instanceof Date) {\n                return data;\n            }\n            return false;\n        }).filter(function(d) {\n            return d !== false;\n        });\n    }\n\n    /**\n     * Fill the calendar by coloring the cells\n     *\n     * @param array svg An array of html node to apply the transformation to (optional)\n     *                  It's used to limit the painting to only a subset of the calendar\n     * @return void\n     */\n    fill(svg) {\n        \"use strict\";\n\n        var parent = this;\n        var options = parent.options;\n\n        if (arguments.length === 0) {\n            svg = parent.root.selectAll(\".graph-domain\");\n        }\n\n        var rect = svg\n            .selectAll(\"svg\").selectAll(\"g\")\n            .data(function(d) {\n                return parent._domains.get(d);\n            });\n\n        /**\n         * Colorize the cell via a style attribute if enabled\n         */\n        function addStyle(element) {\n            if (parent.legendScale === null) {\n                return false;\n            }\n\n            element.attr(\"fill\", function(d) {\n                if (d.v === null && (options.hasOwnProperty(\"considerMissingDataAsZero\") && !options.considerMissingDataAsZero)) {\n                    if (options.legendColors.hasOwnProperty(\"base\")) {\n                        return options.legendColors.base;\n                    }\n                }\n\n                if (options.legendColors !== null && options.legendColors.hasOwnProperty(\"empty\") &&\n                    (d.v === 0 || (d.v === null && options.hasOwnProperty(\"considerMissingDataAsZero\") && options.considerMissingDataAsZero))\n                ) {\n                    return options.legendColors.empty;\n                }\n\n                if (d.v < 0 && options.legend[0] > 0 && options.legendColors !== null && options.legendColors.hasOwnProperty(\"overflow\")) {\n                    return options.legendColors.overflow;\n                }\n\n                return parent.legendScale(Math.min(d.v, options.legend[options.legend.length - 1]));\n            });\n        }\n\n        rect.transition().duration(options.animationDuration).select(\"rect\")\n            .attr(\"class\", function(d) {\n\n                var htmlClass = parent.getHighlightClassName(d.t).trim().split(\" \");\n                var pastDate = parent.dateIsLessThan(d.t, new Date());\n                var sameDate = parent.dateIsEqual(d.t, new Date());\n\n                if (parent.legendScale === null ||\n                    (d.v === null && (options.hasOwnProperty(\"considerMissingDataAsZero\") && !options.considerMissingDataAsZero) && !options.legendColors.hasOwnProperty(\"base\"))\n                ) {\n                    htmlClass.push(\"graph-rect\");\n                }\n\n                if (sameDate) {\n                    htmlClass.push(\"now\");\n                } else if (!pastDate) {\n                    htmlClass.push(\"future\");\n                }\n\n                if (d.v !== null) {\n                    htmlClass.push(parent.Legend.getClass(d.v, (parent.legendScale === null)));\n                } else if (options.considerMissingDataAsZero && pastDate) {\n                    htmlClass.push(parent.Legend.getClass(0, (parent.legendScale === null)));\n                }\n\n                if (options.onClick !== null) {\n                    htmlClass.push(\"hover_cursor\");\n                }\n\n                return htmlClass.join(\" \");\n            })\n            .call(addStyle);\n\n        rect.transition().duration(options.animationDuration).select(\"title\")\n            .text(function(d) {\n                return parent.getSubDomainTitle(d);\n            });\n\n        function formatSubDomainText(element) {\n            if (typeof options.subDomainTextFormat === \"function\") {\n                element.text(function(d) {\n                    return options.subDomainTextFormat(d.t, d.v);\n                });\n            }\n        }\n\n        /**\n         * Change the subDomainText class if necessary\n         * Also change the text, e.g when text is representing the value\n         * instead of the date\n         */\n        rect.transition().duration(options.animationDuration).select(\"text\")\n            .attr(\"class\", function(d) {\n                return \"subdomain-text\" + parent.getHighlightClassName(d.t);\n            })\n            .call(formatSubDomainText);\n    }\n\n    /**\n     * Sprintf like function.\n     * Replaces placeholders {0} in string with values from provided object.\n     * \n     * @param string formatted String containing placeholders.\n     * @param object args Object with properties to replace placeholders in string.\n     * \n     * @return String\n     */\n    formatStringWithObject(formatted, args) {\n        \"use strict\";\n        for (var prop in args) {\n            if (args.hasOwnProperty(prop)) {\n                var regexp = new RegExp(\"\\\\{\" + prop + \"\\\\}\", \"gi\");\n                formatted = formatted.replace(regexp, args[prop]);\n            }\n        }\n        return formatted;\n    }\n\n    // =========================================================================//\n    // EVENTS CALLBACK\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n    // =========================================================================//\n\n    /**\n     * Helper method for triggering event callback\n     *\n     * @param  string\teventName       Name of the event to trigger\n     * @param  array\tsuccessArgs     List of argument to pass to the callback\n     * @param  boolean  skip\t\t\tWhether to skip the event triggering\n     * @return mixed\tTrue when the triggering was skipped, false on error, else the callback function\n     */\n    triggerEvent(eventName, successArgs, skip) {\n        \"use strict\";\n\n        if ((arguments.length === 3 && skip) || this.options[eventName] === null) {\n            return true;\n        }\n\n        if (typeof this.options[eventName] === \"function\") {\n            if (typeof successArgs === \"function\") {\n                successArgs = successArgs();\n            }\n            return this.options[eventName].apply(this, successArgs);\n        } else {\n            console.log(\"Provided callback for \" + eventName + \" is not a function.\");\n            return false;\n        }\n    }\n\n    /**\n     * Event triggered on a mouse click on a subDomain cell\n     *\n     * @param  Date\t\td\t\tDate of the subdomain block\n     * @param  int\t\titemNb\tNumber of items in that date\n     */\n    onClick(d, itemNb) {\n        \"use strict\";\n\n        return this.triggerEvent(\"onClick\", [d, itemNb]);\n    }\n\n    /**\n     * Event triggered after drawing the calendar, byt before filling it with data\n     */\n    afterLoad() {\n        \"use strict\";\n\n        return this.triggerEvent(\"afterLoad\");\n    }\n\n    /**\n     * Event triggered after completing drawing and filling the calendar\n     */\n    onComplete() {\n        \"use strict\";\n\n        var response = this.triggerEvent(\"onComplete\", [], this._completed);\n        this._completed = true;\n        return response;\n    }\n\n    /**\n     * Event triggered after shifting the calendar one domain back\n     *\n     * @param  Date\t\tstart\tDomain start date\n     * @param  Date\t\tend\t\tDomain end date\n     */\n    afterLoadPreviousDomain(start) {\n        \"use strict\";\n\n        var parent = this;\n        return this.triggerEvent(\"afterLoadPreviousDomain\", function() {\n            var subDomain = parent.getSubDomain(start);\n            return [subDomain.shift(), subDomain.pop()];\n        });\n    }\n\n    /**\n     * Event triggered after shifting the calendar one domain above\n     *\n     * @param  Date\t\tstart\tDomain start date\n     * @param  Date\t\tend\t\tDomain end date\n     */\n    afterLoadNextDomain(start) {\n        \"use strict\";\n\n        var parent = this;\n        return this.triggerEvent(\"afterLoadNextDomain\", function() {\n            var subDomain = parent.getSubDomain(start);\n            return [subDomain.shift(), subDomain.pop()];\n        });\n    }\n\n    /**\n     * Event triggered after loading the leftmost domain allowed by minDate\n     *\n     * @param  boolean  reached True if the leftmost domain was reached\n     */\n    onMinDomainReached(reached) {\n        \"use strict\";\n\n        this._minDomainReached = reached;\n        return this.triggerEvent(\"onMinDomainReached\", [reached]);\n    }\n\n    /**\n     * Event triggered after loading the rightmost domain allowed by maxDate\n     *\n     * @param  boolean  reached True if the rightmost domain was reached\n     */\n    onMaxDomainReached(reached) {\n        \"use strict\";\n\n        this._maxDomainReached = reached;\n        return this.triggerEvent(\"onMaxDomainReached\", [reached]);\n    }\n\n    checkIfMinDomainIsReached(date, upperBound) {\n        \"use strict\";\n\n        if (this.minDomainIsReached(date)) {\n            this.onMinDomainReached(true);\n        }\n\n        if (arguments.length === 2) {\n            if (this._maxDomainReached && !this.maxDomainIsReached(upperBound)) {\n                this.onMaxDomainReached(false);\n            }\n        }\n    }\n\n    checkIfMaxDomainIsReached(date, lowerBound) {\n        \"use strict\";\n\n        if (this.maxDomainIsReached(date)) {\n            this.onMaxDomainReached(true);\n        }\n\n        if (arguments.length === 2) {\n            if (this._minDomainReached && !this.minDomainIsReached(lowerBound)) {\n                this.onMinDomainReached(false);\n            }\n        }\n    }\n\n    // =========================================================================//\n    // FORMATTER\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n    // =========================================================================//\n\n    formatNumber() {\n        return format(\",g\").apply(this, arguments);\n    }\n\n    formatDate(d, format) {\n        \"use strict\";\n\n        if (arguments.length < 2) {\n            format = \"title\";\n        }\n\n        if (typeof format === \"function\") {\n            return format(d);\n        } else {\n            var f = timeFormat(format);\n            return f(d);\n        }\n    }\n\n    getSubDomainTitle(d) {\n        \"use strict\";\n\n        if (d.v === null && !this.options.considerMissingDataAsZero) {\n            return this.formatStringWithObject(this.options.subDomainTitleFormat.empty, {\n                date: this.formatDate(new Date(d.t), this.options.subDomainDateFormat)\n            });\n        } else {\n            var value = d.v;\n            // Consider null as 0\n            if (value === null && this.options.considerMissingDataAsZero) {\n                value = 0;\n            }\n\n            return this.formatStringWithObject(this.options.subDomainTitleFormat.filled, {\n                count: this.formatNumber(value),\n                name: this.options.itemName[(value !== 1 ? 1 : 0)],\n                connector: this._domainType[this.options.subDomain].format.connector,\n                date: this.formatDate(new Date(d.t), this.options.subDomainDateFormat)\n            });\n        }\n    }\n\n    // =========================================================================//\n    // DOMAIN NAVIGATION\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n    // =========================================================================//\n\n    /**\n     * Shift the calendar one domain forward\n     *\n     * The new domain is loaded only if it's not beyond maxDate\n     *\n     * @param int n Number of domains to load\n     * @return bool True if the next domain was loaded, else false\n     */\n    loadNextDomain(n) {\n        \"use strict\";\n\n        if (this._maxDomainReached || n === 0) {\n            return false;\n        }\n\n        var bound = this.loadNewDomains(this.NAVIGATE_RIGHT, this.getDomain(this.getNextDomain(), n));\n\n        this.afterLoadNextDomain(bound.end);\n        this.checkIfMaxDomainIsReached(this.getNextDomain().getTime(), bound.start);\n\n        return true;\n    }\n\n    /**\n     * Shift the calendar one domain backward\n     *\n     * The previous domain is loaded only if it's not beyond the minDate\n     *\n     * @param int n Number of domains to load\n     * @return bool True if the previous domain was loaded, else false\n     */\n    loadPreviousDomain(n) {\n        \"use strict\";\n\n        if (this._minDomainReached || n === 0) {\n            return false;\n        }\n\n        var bound = this.loadNewDomains(this.NAVIGATE_LEFT, this.getDomain(this.getDomainKeys()[0], -n).reverse());\n\n        this.afterLoadPreviousDomain(bound.start);\n        this.checkIfMinDomainIsReached(bound.start, bound.end);\n\n        return true;\n    }\n\n    loadNewDomains(direction, newDomains) {\n        \"use strict\";\n\n        var parent = this;\n        var backward = direction === this.NAVIGATE_LEFT;\n        var i = -1;\n        var total = newDomains.length;\n        var domains = this.getDomainKeys();\n\n        function buildSubDomain(d) {\n            return { t: parent._domainType[parent.options.subDomain].extractUnit(d), v: null };\n        }\n\n        // Remove out of bound domains from list of new domains to prepend\n        while (++i < total) {\n            if (backward && this.minDomainIsReached(newDomains[i])) {\n                newDomains = newDomains.slice(0, i + 1);\n                break;\n            }\n            if (!backward && this.maxDomainIsReached(newDomains[i])) {\n                newDomains = newDomains.slice(0, i);\n                break;\n            }\n        }\n\n        newDomains = newDomains.slice(-this.options.range);\n\n        for (i = 0, total = newDomains.length; i < total; i++) {\n            this._domains.set(\n                newDomains[i].getTime(),\n                this.getSubDomain(newDomains[i]).map(buildSubDomain)\n            );\n\n            this._domains.remove(backward ? domains.pop() : domains.shift());\n        }\n\n        domains = this.getDomainKeys();\n\n        if (backward) {\n            newDomains = newDomains.reverse();\n        }\n\n        this.paint(direction);\n\n        this.getDatas(\n            this.options.data,\n            newDomains[0],\n            this.getSubDomain(newDomains[newDomains.length - 1]).pop(),\n            function() {\n                parent.fill(parent.lastInsertedSvg);\n            }\n        );\n\n        return {\n            start: newDomains[backward ? 0 : 1],\n            end: domains[domains.length - 1]\n        };\n    }\n\n    /**\n     * Return whether a date is inside the scope determined by maxDate\n     *\n     * @param int datetimestamp The timestamp in ms to test\n     * @return bool True if the specified date correspond to the calendar upper bound\n     */\n    maxDomainIsReached(datetimestamp) {\n        \"use strict\";\n\n        return (this.options.maxDate !== null && (this.options.maxDate.getTime() < datetimestamp));\n    }\n\n    /**\n     * Return whether a date is inside the scope determined by minDate\n     *\n     * @param int datetimestamp The timestamp in ms to test\n     * @return bool True if the specified date correspond to the calendar lower bound\n     */\n    minDomainIsReached(datetimestamp) {\n        \"use strict\";\n\n        return (this.options.minDate !== null && (this.options.minDate.getTime() >= datetimestamp));\n    }\n\n    /**\n     * Return the list of the calendar's domain timestamp\n     *\n     * @return Array a sorted array of timestamp\n     */\n    getDomainKeys() {\n        \"use strict\";\n\n        return this._domains.keys()\n            .map(function(d) {\n                return parseInt(d, 10);\n            })\n            .sort(function(a, b) {\n                return a - b;\n            });\n    }\n\n    // =========================================================================//\n    // POSITIONNING\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n    // =========================================================================//\n\n    positionSubDomainX(d) {\n        \"use strict\";\n\n        var index = this._domainType[this.options.subDomain].position.x(new Date(d));\n        return index * this.options.cellSize + index * this.options.cellPadding;\n    }\n\n    positionSubDomainY(d) {\n        \"use strict\";\n\n        var index = this._domainType[this.options.subDomain].position.y(new Date(d));\n        return index * this.options.cellSize + index * this.options.cellPadding;\n    }\n\n    getSubDomainColumnNumber(d) {\n        \"use strict\";\n\n        if (this.options.rowLimit > 0) {\n            var i = this._domainType[this.options.subDomain].maxItemNumber;\n            if (typeof i === \"function\") {\n                i = i(d);\n            }\n            return Math.ceil(i / this.options.rowLimit);\n        }\n\n        var j = this._domainType[this.options.subDomain].defaultColumnNumber;\n        if (typeof j === \"function\") {\n            j = j(d);\n\n        }\n        return this.options.colLimit || j;\n    }\n\n    getSubDomainRowNumber(d) {\n        \"use strict\";\n\n        if (this.options.colLimit > 0) {\n            var i = this._domainType[this.options.subDomain].maxItemNumber;\n            if (typeof i === \"function\") {\n                i = i(d);\n            }\n            return Math.ceil(i / this.options.colLimit);\n        }\n\n        var j = this._domainType[this.options.subDomain].defaultRowNumber;\n        if (typeof j === \"function\") {\n            j = j(d);\n\n        }\n        return this.options.rowLimit || j;\n    }\n\n    /**\n     * Return a classname if the specified date should be highlighted\n     *\n     * @param  timestamp date Date of the current subDomain\n     * @return String the highlight class\n     */\n    getHighlightClassName(d) {\n        \"use strict\";\n\n        d = new Date(d);\n\n        if (this.options.highlight.length > 0) {\n            for (var i in this.options.highlight) {\n                if (this.dateIsEqual(this.options.highlight[i], d)) {\n                    return this.isNow(this.options.highlight[i]) ? \" highlight-now\" : \" highlight\";\n                }\n            }\n        }\n        return \"\";\n    }\n\n    /**\n     * Return whether the specified date is now,\n     * according to the type of subdomain\n     *\n     * @param  Date d The date to compare\n     * @return bool True if the date correspond to a subdomain cell\n     */\n    isNow(d) {\n        \"use strict\";\n\n        return this.dateIsEqual(d, new Date());\n    }\n\n    /**\n     * Return whether 2 dates are equals\n     * This function is subdomain-aware,\n     * and dates comparison are dependent of the subdomain\n     *\n     * @param  Date dateA First date to compare\n     * @param  Date dateB Secon date to compare\n     * @return bool true if the 2 dates are equals\n     */\n    /* jshint maxcomplexity: false */\n    dateIsEqual(dateA, dateB) {\n        \"use strict\";\n\n        if (!(dateA instanceof Date)) {\n            dateA = new Date(dateA);\n        }\n\n        if (!(dateB instanceof Date)) {\n            dateB = new Date(dateB);\n        }\n\n        switch (this.options.subDomain) {\n            case \"x_min\":\n            case \"min\":\n                return dateA.getFullYear() === dateB.getFullYear() &&\n                    dateA.getMonth() === dateB.getMonth() &&\n                    dateA.getDate() === dateB.getDate() &&\n                    dateA.getHours() === dateB.getHours() &&\n                    dateA.getMinutes() === dateB.getMinutes();\n            case \"x_hour\":\n            case \"hour\":\n                return dateA.getFullYear() === dateB.getFullYear() &&\n                    dateA.getMonth() === dateB.getMonth() &&\n                    dateA.getDate() === dateB.getDate() &&\n                    dateA.getHours() === dateB.getHours();\n            case \"x_day\":\n            case \"day\":\n                return dateA.getFullYear() === dateB.getFullYear() &&\n                    dateA.getMonth() === dateB.getMonth() &&\n                    dateA.getDate() === dateB.getDate();\n            case \"x_week\":\n            case \"week\":\n                return dateA.getFullYear() === dateB.getFullYear() &&\n                    this.getWeekNumber(dateA) === this.getWeekNumber(dateB);\n            case \"x_month\":\n            case \"month\":\n                return dateA.getFullYear() === dateB.getFullYear() &&\n                    dateA.getMonth() === dateB.getMonth();\n            default:\n                return false;\n        }\n    }\n\n\n    /**\n     * Returns wether or not dateA is less than or equal to dateB. This function is subdomain aware.\n     * Performs automatic conversion of values.\n     * @param dateA may be a number or a Date\n     * @param dateB may be a number or a Date\n     * @returns {boolean}\n     */\n    dateIsLessThan(dateA, dateB) {\n        \"use strict\";\n\n        if (!(dateA instanceof Date)) {\n            dateA = new Date(dateA);\n        }\n\n        if (!(dateB instanceof Date)) {\n            dateB = new Date(dateB);\n        }\n\n\n        function normalizedMillis(date, subdomain) {\n            switch (subdomain) {\n                case \"x_min\":\n                case \"min\":\n                    return new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes()).getTime();\n                case \"x_hour\":\n                case \"hour\":\n                    return new Date(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours()).getTime();\n                case \"x_day\":\n                case \"day\":\n                    return new Date(date.getFullYear(), date.getMonth(), date.getDate()).getTime();\n                case \"x_week\":\n                case \"week\":\n                case \"x_month\":\n                case \"month\":\n                    return new Date(date.getFullYear(), date.getMonth()).getTime();\n                default:\n                    return date.getTime();\n            }\n        }\n\n        return normalizedMillis(dateA, this.options.subDomain) < normalizedMillis(dateB, this.options.subDomain);\n    }\n\n\n    // =========================================================================//\n    // DATE COMPUTATION\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n    // =========================================================================//\n\n    /**\n     * Return the day of the year for the date\n     * @param\tDate\n     * @return  int Day of the year [1,366]\n     */\n    getDayOfYear() {\n        return timeFormat(\"%j\").apply(this, arguments);\n    }\n\n    /**\n     * Return the week number of the year\n     * Monday as the first day of the week\n     * @return int\tWeek number [0-53]\n     */\n    getWeekNumber(d) {\n        \"use strict\";\n\n        var f = this.options.weekStartOnMonday === true ? timeFormat(\"%W\") : timeFormat(\"%U\");\n        return f(d);\n    }\n\n    /**\n     * Return the week number, relative to its month\n     *\n     * @param  int|Date d Date or timestamp in milliseconds\n     * @return int Week number, relative to the month [0-5]\n     */\n    getMonthWeekNumber(d) {\n        \"use strict\";\n\n        if (typeof d === \"number\") {\n            d = new Date(d);\n        }\n\n        var monthFirstWeekNumber = this.getWeekNumber(new Date(d.getFullYear(), d.getMonth()));\n        return this.getWeekNumber(d) - monthFirstWeekNumber - 1;\n    }\n\n    /**\n     * Return the number of weeks in the dates' year\n     *\n     * @param  int|Date d Date or timestamp in milliseconds\n     * @return int Number of weeks in the date's year\n     */\n    getWeekNumberInYear(d) {\n        \"use strict\";\n\n        if (typeof d === \"number\") {\n            d = new Date(d);\n        }\n    }\n\n    /**\n     * Return the number of days in the date's month\n     *\n     * @param  int|Date d Date or timestamp in milliseconds\n     * @return int Number of days in the date's month\n     */\n    getDayCountInMonth(d) {\n        \"use strict\";\n\n        return this.getEndOfMonth(d).getDate();\n    }\n\n    /**\n     * Return the number of days in the date's year\n     *\n     * @param  int|Date d Date or timestamp in milliseconds\n     * @return int Number of days in the date's year\n     */\n    getDayCountInYear(d) {\n        \"use strict\";\n\n        if (typeof d === \"number\") {\n            d = new Date(d);\n        }\n        return (new Date(d.getFullYear(), 1, 29).getMonth() === 1) ? 366 : 365;\n    }\n\n    /**\n     * Get the weekday from a date\n     *\n     * Return the week day number (0-6) of a date,\n     * depending on whether the week start on monday or sunday\n     *\n     * @param  Date d\n     * @return int The week day number (0-6)\n     */\n    getWeekDay(d) {\n        \"use strict\";\n\n        if (this.options.weekStartOnMonday === false) {\n            return d.getDay();\n        }\n        return d.getDay() === 0 ? 6 : (d.getDay() - 1);\n    }\n\n    /**\n     * Get the last day of the month\n     * @param  Date|int\td\tDate or timestamp in milliseconds\n     * @return Date\t\t\tLast day of the month\n     */\n    getEndOfMonth(d) {\n        \"use strict\";\n\n        if (typeof d === \"number\") {\n            d = new Date(d);\n        }\n        return new Date(d.getFullYear(), d.getMonth() + 1, 0);\n    }\n\n    /**\n     *\n     * @param  Date date\n     * @param  int count\n     * @param  string step\n     * @return Date\n     */\n    jumpDate(date, count, step) {\n        \"use strict\";\n\n        var d = new Date(date);\n        switch (step) {\n            case \"hour\":\n                d.setHours(d.getHours() + count);\n                break;\n            case \"day\":\n                d.setHours(d.getHours() + count * 24);\n                break;\n            case \"week\":\n                d.setHours(d.getHours() + count * 24 * 7);\n                break;\n            case \"month\":\n                d.setMonth(d.getMonth() + count);\n                break;\n            case \"year\":\n                d.setFullYear(d.getFullYear() + count);\n        }\n\n        return new Date(d);\n    }\n\n    // =========================================================================//\n    // DOMAIN COMPUTATION\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n    // =========================================================================//\n\n    /**\n     * Return all the minutes between 2 dates\n     *\n     * @param  Date\td\tdate\tA date\n     * @param  int|date\trange\tNumber of minutes in the range, or a stop date\n     * @return array\tAn array of minutes\n     */\n    getMinuteDomain(d, range) {\n        \"use strict\";\n\n        var start = new Date(d.getFullYear(), d.getMonth(), d.getDate(), d.getHours());\n        var stop = null;\n        if (range instanceof Date) {\n            stop = new Date(range.getFullYear(), range.getMonth(), range.getDate(), range.getHours());\n        } else {\n            stop = new Date(+start + range * 1000 * 60);\n        }\n        return timeMinutes(Math.min(start, stop), Math.max(start, stop));\n    }\n\n    /**\n     * Return all the hours between 2 dates\n     *\n     * @param  Date\td\tA date\n     * @param  int|date\trange\tNumber of hours in the range, or a stop date\n     * @return array\tAn array of hours\n     */\n    getHourDomain(d, range) {\n        \"use strict\";\n\n        var start = new Date(d.getFullYear(), d.getMonth(), d.getDate(), d.getHours());\n        var stop = null;\n        if (range instanceof Date) {\n            stop = new Date(range.getFullYear(), range.getMonth(), range.getDate(), range.getHours());\n        } else {\n            stop = new Date(start);\n            stop.setHours(stop.getHours() + range);\n        }\n\n        var domains = timeHours(Math.min(start, stop), Math.max(start, stop));\n\n        // Passing from DST to standard time\n        // If there are 25 hours, let's compress the duplicate hours\n        var i = 0;\n        var total = domains.length;\n        for (i = 0; i < total; i++) {\n            if (i > 0 && (domains[i].getHours() === domains[i - 1].getHours())) {\n                this.DSTDomain.push(domains[i].getTime());\n                domains.splice(i, 1);\n                break;\n            }\n        }\n\n        // d3.time.hours is returning more hours than needed when changing\n        // from DST to standard time, because there is really 2 hours between\n        // 1am and 2am!\n        if (typeof range === \"number\" && domains.length > Math.abs(range)) {\n            domains.splice(domains.length - 1, 1);\n        }\n\n        return domains;\n    }\n\n    /**\n     * Return all the days between 2 dates\n     *\n     * @param  Date\t\td\t\tA date\n     * @param  int|date\trange\tNumber of days in the range, or a stop date\n     * @return array\tAn array of weeks\n     */\n    getDayDomain(d, range) {\n        \"use strict\";\n\n        var start = new Date(d.getFullYear(), d.getMonth(), d.getDate());\n        var stop = null;\n        if (range instanceof Date) {\n            stop = new Date(range.getFullYear(), range.getMonth(), range.getDate());\n        } else {\n            stop = new Date(start);\n            stop = new Date(stop.setDate(stop.getDate() + parseInt(range, 10)));\n        }\n\n        return timeDays(Math.min(start, stop), Math.max(start, stop));\n    }\n\n    /**\n     * Return all the weeks between 2 dates\n     *\n     * @param  Date\td\tA date\n     * @param  int|date\trange\tNumber of minutes in the range, or a stop date\n     * @return array\tAn array of weeks\n     */\n    getWeekDomain(d, range) {\n        \"use strict\";\n\n        var weekStart;\n\n        if (this.options.weekStartOnMonday === false) {\n            weekStart = new Date(d.getFullYear(), d.getMonth(), d.getDate() - d.getDay());\n        } else {\n            if (d.getDay() === 1) {\n                weekStart = new Date(d.getFullYear(), d.getMonth(), d.getDate());\n            } else if (d.getDay() === 0) {\n                weekStart = new Date(d.getFullYear(), d.getMonth(), d.getDate());\n                weekStart.setDate(weekStart.getDate() - 6);\n            } else {\n                weekStart = new Date(d.getFullYear(), d.getMonth(), d.getDate() - d.getDay() + 1);\n            }\n        }\n\n        var endDate = new Date(weekStart);\n\n        var stop = range;\n        if (typeof range !== \"object\") {\n            stop = new Date(endDate.setDate(endDate.getDate() + range * 7));\n        }\n\n        return (this.options.weekStartOnMonday === true) ?\n            timeMondays(Math.min(weekStart, stop), Math.max(weekStart, stop)) :\n            timeSundays(Math.min(weekStart, stop), Math.max(weekStart, stop));\n    }\n\n    /**\n     * Return all the months between 2 dates\n     *\n     * @param  Date\t\td\t\tA date\n     * @param  int|date\trange\tNumber of months in the range, or a stop date\n     * @return array\tAn array of months\n     */\n    getMonthDomain(d, range) {\n        \"use strict\";\n\n        var start = new Date(d.getFullYear(), d.getMonth());\n        var stop = null;\n        if (range instanceof Date) {\n            stop = new Date(range.getFullYear(), range.getMonth());\n        } else {\n            stop = new Date(start);\n            stop = stop.setMonth(stop.getMonth() + range);\n        }\n\n        return timeMonths(Math.min(start, stop), Math.max(start, stop));\n    }\n\n    /**\n     * Return all the years between 2 dates\n     *\n     * @param  Date\td\tdate\tA date\n     * @param  int|date\trange\tNumber of minutes in the range, or a stop date\n     * @return array\tAn array of hours\n     */\n    getYearDomain(d, range) {\n        \"use strict\";\n\n        var start = new Date(d.getFullYear(), 0);\n        var stop = null;\n        if (range instanceof Date) {\n            stop = new Date(range.getFullYear(), 0);\n        } else {\n            stop = new Date(d.getFullYear() + range, 0);\n        }\n\n        return timeYears(Math.min(start, stop), Math.max(start, stop));\n    }\n\n    /**\n     * Get an array of domain start dates\n     *\n     * @param  int|Date date A random date included in the wanted domain\n     * @param  int|Date range Number of dates to get, or a stop date\n     * @return Array of dates\n     */\n    getDomain(date, range) {\n        \"use strict\";\n\n        if (typeof date === \"number\") {\n            date = new Date(date);\n        }\n\n        if (arguments.length < 2) {\n            range = this.options.range;\n        }\n\n        switch (this.options.domain) {\n            case \"hour\":\n                var domains = this.getHourDomain(date, range);\n\n                // Case where an hour is missing, when passing from standard time to DST\n                // Missing hour is perfectly acceptabl in subDomain, but not in domains\n                if (typeof range === \"number\" && domains.length < range) {\n                    if (range > 0) {\n                        domains.push(this.getHourDomain(domains[domains.length - 1], 2)[1]);\n                    } else {\n                        domains.shift(this.getHourDomain(domains[0], -2)[0]);\n                    }\n                }\n                return domains;\n            case \"day\":\n                return this.getDayDomain(date, range);\n            case \"week\":\n                return this.getWeekDomain(date, range);\n            case \"month\":\n                return this.getMonthDomain(date, range);\n            case \"year\":\n                return this.getYearDomain(date, range);\n        }\n    }\n\n    /* jshint maxcomplexity: false */\n    getSubDomain(date) {\n        \"use strict\";\n\n        if (typeof date === \"number\") {\n            date = new Date(date);\n        }\n\n        var parent = this;\n\n        /**\n         * @return int\n         */\n        var computeDaySubDomainSize = function(date, domain) {\n            switch (domain) {\n                case \"year\":\n                    return parent.getDayCountInYear(date);\n                case \"month\":\n                    return parent.getDayCountInMonth(date);\n                case \"week\":\n                    return 7;\n            }\n        };\n\n        /**\n         * @return int\n         */\n        var computeMinSubDomainSize = function(date, domain) {\n            switch (domain) {\n                case \"hour\":\n                    return 60;\n                case \"day\":\n                    return 60 * 24;\n                case \"week\":\n                    return 60 * 24 * 7;\n            }\n        };\n\n        /**\n         * @return int\n         */\n        var computeHourSubDomainSize = function(date, domain) {\n            switch (domain) {\n                case \"day\":\n                    return 24;\n                case \"week\":\n                    return 168;\n                case \"month\":\n                    return parent.getDayCountInMonth(date) * 24;\n            }\n        };\n\n        /**\n         * @return int\n         */\n        var computeWeekSubDomainSize = function(date, domain) {\n            if (domain === \"month\") {\n                var endOfMonth = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n                var endWeekNb = parent.getWeekNumber(endOfMonth);\n                var startWeekNb = parent.getWeekNumber(new Date(date.getFullYear(), date.getMonth()));\n\n                if (startWeekNb > endWeekNb) {\n                    startWeekNb = 0;\n                    endWeekNb++;\n                }\n\n                return endWeekNb - startWeekNb + 1;\n            } else if (domain === \"year\") {\n                return parent.getWeekNumber(new Date(date.getFullYear(), 11, 31));\n            }\n        };\n\n        switch (this.options.subDomain) {\n            case \"x_min\":\n            case \"min\":\n                return this.getMinuteDomain(date, computeMinSubDomainSize(date, this.options.domain));\n            case \"x_hour\":\n            case \"hour\":\n                return this.getHourDomain(date, computeHourSubDomainSize(date, this.options.domain));\n            case \"x_day\":\n            case \"day\":\n                return this.getDayDomain(date, computeDaySubDomainSize(date, this.options.domain));\n            case \"x_week\":\n            case \"week\":\n                return this.getWeekDomain(date, computeWeekSubDomainSize(date, this.options.domain));\n            case \"x_month\":\n            case \"month\":\n                return this.getMonthDomain(date, 12);\n        }\n    }\n\n    /**\n     * Get the n-th next domain after the calendar newest (rightmost) domain\n     * @param  int n\n     * @return Date The start date of the wanted domain\n     */\n    getNextDomain(n) {\n        \"use strict\";\n\n        if (arguments.length === 0) {\n            n = 1;\n        }\n        return this.getDomain(this.jumpDate(this.getDomainKeys().pop(), n, this.options.domain), 1)[0];\n    }\n\n    /**\n     * Get the n-th domain before the calendar oldest (leftmost) domain\n     * @param  int n\n     * @return Date The start date of the wanted domain\n     */\n    getPreviousDomain(n) {\n        \"use strict\";\n\n        if (arguments.length === 0) {\n            n = 1;\n        }\n        return this.getDomain(this.jumpDate(this.getDomainKeys().shift(), -n, this.options.domain), 1)[0];\n    }\n\n\n    // =========================================================================//\n    // DATAS\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n    // =========================================================================//\n\n    /**\n     * Fetch and interpret data from the datasource\n     *\n     * @param string|object source\n     * @param Date startDate\n     * @param Date endDate\n     * @param function callback\n     * @param function|boolean afterLoad function used to convert the data into a json object. Use true to use the afterLoad callback\n     * @param updateMode\n     *\n     * @return mixed\n     * - True if there are no data to load\n     * - False if data are loaded asynchronously\n     */\n    getDatas(source, startDate, endDate, callback, afterLoad, updateMode) {\n        \"use strict\";\n\n        var self = this;\n        if (arguments.length < 5) {\n            afterLoad = true;\n        }\n        if (arguments.length < 6) {\n            updateMode = this.APPEND_ON_UPDATE;\n        }\n        var _callback = function(data) {\n            if (afterLoad !== false) {\n                if (typeof afterLoad === \"function\") {\n                    data = afterLoad(data);\n                } else if (typeof(self.options.afterLoadData) === \"function\") {\n                    data = self.options.afterLoadData(data);\n                } else {\n                    console.log(\"Provided callback for afterLoadData is not a function.\");\n                }\n            } else if (self.options.dataType === \"csv\" || self.options.dataType === \"tsv\") {\n                data = this.interpretCSV(data);\n            }\n            self.parseDatas(data, updateMode, startDate, endDate);\n            if (typeof callback === \"function\") {\n                callback();\n            }\n        };\n\n        switch (typeof source) {\n            case \"string\":\n                if (source === \"\") {\n                    _callback({});\n                    return true;\n                } else {\n                    var url = this.parseURI(source, startDate, endDate);\n                    var requestType = \"GET\";\n                    if (self.options.dataPostPayload !== null) {\n                        requestType = \"POST\";\n                    }\n                    var payload = null;\n                    if (self.options.dataPostPayload !== null) {\n                        payload = this.parseURI(self.options.dataPostPayload, startDate, endDate);\n                    }\n\n                    switch (this.options.dataType) {\n                        case \"json\":\n                            json(url, _callback).send(requestType, payload);\n                            break;\n                        case \"csv\":\n                            csv(url, _callback).send(requestType, payload);\n                            break;\n                        case \"tsv\":\n                            tsv(url, _callback).send(requestType, payload);\n                            break;\n                        case \"txt\":\n                            text(url, _callback).send(requestType, payload);\n                            break;\n                    }\n                }\n                return false;\n            case \"object\":\n                if (source === Object(source)) {\n                    _callback(source);\n                    return false;\n                }\n                /* falls through */\n            default:\n                _callback({});\n                return true;\n        }\n    }\n\n    /**\n     * Populate the calendar internal data\n     *\n     * @param object data\n     * @param constant updateMode\n     * @param Date startDate\n     * @param Date endDate\n     *\n     * @return void\n     */\n    parseDatas(data, updateMode, startDate, endDate) {\n        \"use strict\";\n\n        if (updateMode === this.RESET_ALL_ON_UPDATE) {\n            this._domains.forEach(function(key, value) {\n                value.forEach(function(element, index, array) {\n                    array[index].v = null;\n                });\n            });\n        }\n\n        var temp = {};\n\n        var extractTime = function(d) {\n            return d.t;\n        };\n\n        /*jshint forin:false */\n        for (var d in data) {\n            var date = new Date(d * 1000);\n            var domainUnit = this.getDomain(date)[0].getTime();\n\n            // The current data belongs to a domain that was compressed\n            // Compress the data for the two duplicate hours into the same hour\n            if (this.DSTDomain.indexOf(domainUnit) >= 0) {\n\n                // Re-assign all data to the first or the second duplicate hours\n                // depending on which is visible\n                if (this._domains.has(domainUnit - 3600 * 1000)) {\n                    domainUnit -= 3600 * 1000;\n                }\n            }\n\n            // Skip if data is not relevant to current domain\n            if (isNaN(d) || !data.hasOwnProperty(d) || !this._domains.has(domainUnit) || !(domainUnit >= +startDate && domainUnit < +endDate)) {\n                continue;\n            }\n\n            var subDomainsData = this._domains.get(domainUnit);\n\n            if (!temp.hasOwnProperty(domainUnit)) {\n                temp[domainUnit] = subDomainsData.map(extractTime);\n            }\n\n            var index = temp[domainUnit].indexOf(this._domainType[this.options.subDomain].extractUnit(date));\n\n            if (updateMode === this.RESET_SINGLE_ON_UPDATE) {\n                subDomainsData[index].v = data[d];\n            } else {\n                if (!isNaN(subDomainsData[index].v)) {\n                    subDomainsData[index].v += data[d];\n                } else {\n                    subDomainsData[index].v = data[d];\n                }\n            }\n        }\n    }\n\n    parseURI(str, startDate, endDate) {\n        \"use strict\";\n\n        // Use a timestamp in seconds\n        str = str.replace(/\\{\\{t:start\\}\\}/g, startDate.getTime() / 1000);\n        str = str.replace(/\\{\\{t:end\\}\\}/g, endDate.getTime() / 1000);\n\n        // Use a string date, following the ISO-8601\n        str = str.replace(/\\{\\{d:start\\}\\}/g, startDate.toISOString());\n        str = str.replace(/\\{\\{d:end\\}\\}/g, endDate.toISOString());\n\n        return str;\n    }\n\n    interpretCSV(data) {\n        \"use strict\";\n\n        var d = {};\n        var keys = Object.keys(data[0]);\n        var i, total;\n        for (i = 0, total = data.length; i < total; i++) {\n            d[data[i][keys[0]]] = +data[i][keys[1]];\n        }\n        return d;\n    }\n\n    /**\n     * Handle the calendar layout and dimension\n     *\n     * Expand and shrink the container depending on its children dimension\n     * Also rearrange the children position depending on their dimension,\n     * and the legend position\n     *\n     * @return void\n     */\n    resize() {\n        \"use strict\";\n\n        var parent = this;\n        var options = parent.options;\n        var legendWidth = options.displayLegend ? (parent.Legend.getDim(\"width\") + options.legendMargin[1] + options.legendMargin[3]) : 0;\n        var legendHeight = options.displayLegend ? (parent.Legend.getDim(\"height\") + options.legendMargin[0] + options.legendMargin[2]) : 0;\n\n        var graphWidth = parent.graphDim.width - options.domainGutter - options.cellPadding;\n        var graphHeight = parent.graphDim.height - options.domainGutter - options.cellPadding;\n\n        this.root.transition().duration(options.animationDuration)\n            .attr(\"width\", function() {\n                if (options.legendVerticalPosition === \"middle\" || options.legendVerticalPosition === \"center\") {\n                    return graphWidth + legendWidth;\n                }\n                return Math.max(graphWidth, legendWidth);\n            })\n            .attr(\"height\", function() {\n                if (options.legendVerticalPosition === \"middle\" || options.legendVerticalPosition === \"center\") {\n                    return Math.max(graphHeight, legendHeight);\n                }\n                return graphHeight + legendHeight;\n            });\n\n        this.root.select(\".graph\").transition().duration(options.animationDuration)\n            .attr(\"y\", function() {\n                if (options.legendVerticalPosition === \"top\") {\n                    return legendHeight;\n                }\n                return 0;\n            })\n            .attr(\"x\", function() {\n                if (\n                    (options.legendVerticalPosition === \"middle\" || options.legendVerticalPosition === \"center\") &&\n                    options.legendHorizontalPosition === \"left\") {\n                    return legendWidth;\n                }\n                return 0;\n\n            });\n    }\n\n    // =========================================================================//\n    // PUBLIC API\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n    // =========================================================================//\n\n    /**\n     * Shift the calendar forward\n     */\n    next(n) {\n        \"use strict\";\n\n        if (arguments.length === 0) {\n            n = 1;\n        }\n        return this.loadNextDomain(n);\n    }\n\n    /**\n     * Shift the calendar backward\n     */\n    previous(n) {\n        \"use strict\";\n\n        if (arguments.length === 0) {\n            n = 1;\n        }\n        return this.loadPreviousDomain(n);\n    }\n\n    /**\n     * Jump directly to a specific date\n     *\n     * JumpTo will scroll the calendar until the wanted domain with the specified\n     * date is visible. Unless you set reset to true, the wanted domain\n     * will not necessarily be the first (leftmost) domain of the calendar.\n     *\n     * @param Date date Jump to the domain containing that date\n     * @param bool reset Whether the wanted domain should be the first domain of the calendar\n     * @param bool True of the calendar was scrolled\n     */\n    jumpTo(date, reset) {\n        \"use strict\";\n\n        if (arguments.length < 2) {\n            reset = false;\n        }\n        var domains = this.getDomainKeys();\n        var firstDomain = domains[0];\n        var lastDomain = domains[domains.length - 1];\n\n        if (date < firstDomain) {\n            return this.loadPreviousDomain(this.getDomain(firstDomain, date).length);\n        } else {\n            if (reset) {\n                return this.loadNextDomain(this.getDomain(firstDomain, date).length);\n            }\n\n            if (date > lastDomain) {\n                return this.loadNextDomain(this.getDomain(lastDomain, date).length);\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * Navigate back to the start date\n     *\n     * @since  3.3.8\n     * @return void\n     */\n    rewind() {\n        \"use strict\";\n\n        this.jumpTo(this.options.start, true);\n    }\n\n    /**\n     * Update the calendar with new data\n     *\n     * @param  object|string\t\tdataSource\t\tThe calendar's datasource, same type as this.options.data\n     * @param  boolean|function\t\tafterLoad\t\tWhether to execute afterLoad() on the data. Pass directly a function\n     * if you don't want to use the afterLoad() callback\n     */\n    update(dataSource, afterLoad, updateMode) {\n        \"use strict\";\n\n        if (arguments.length < 2) {\n            afterLoad = true;\n        }\n        if (arguments.length < 3) {\n            updateMode = this.RESET_ALL_ON_UPDATE;\n        }\n\n        var domains = this.getDomainKeys();\n        var self = this;\n        this.getDatas(\n            dataSource,\n            new Date(domains[0]),\n            this.getSubDomain(domains[domains.length - 1]).pop(),\n            function() {\n                self.fill();\n            },\n            afterLoad,\n            updateMode\n        );\n    }\n\n    /**\n     * Set the legend\n     *\n     * @param array legend an array of integer, representing the different threshold value\n     * @param array colorRange an array of 2 hex colors, for the minimum and maximum colors\n     */\n    setLegend() {\n        \"use strict\";\n\n        var oldLegend = this.options.legend.slice(0);\n        if (arguments.length >= 1 && Array.isArray(arguments[0])) {\n            this.options.legend = arguments[0];\n        }\n        if (arguments.length >= 2) {\n            if (Array.isArray(arguments[1]) && arguments[1].length >= 2) {\n                this.options.legendColors = [arguments[1][0], arguments[1][1]];\n            } else {\n                this.options.legendColors = arguments[1];\n            }\n        }\n\n        if ((arguments.length > 0 && !arrayEquals(oldLegend, this.options.legend)) || arguments.length >= 2) {\n            this.Legend.buildColors();\n            this.fill();\n        }\n\n        this.Legend.redraw(this.graphDim.width - this.options.domainGutter - this.options.cellPadding);\n    }\n\n    /**\n     * Remove the legend\n     *\n     * @return bool False if there is no legend to remove\n     */\n    removeLegend() {\n        \"use strict\";\n\n        if (!this.options.displayLegend) {\n            return false;\n        }\n        this.options.displayLegend = false;\n        this.Legend.remove();\n        return true;\n    }\n\n    /**\n     * Display the legend\n     *\n     * @return bool False if the legend was already displayed\n     */\n    showLegend() {\n        \"use strict\";\n\n        if (this.options.displayLegend) {\n            return false;\n        }\n        this.options.displayLegend = true;\n        this.Legend.redraw(this.graphDim.width - this.options.domainGutter - this.options.cellPadding);\n        return true;\n    }\n\n    /**\n     * Highlight dates\n     *\n     * Add a highlight class to a set of dates\n     *\n     * @since  3.3.5\n     * @param  array Array of dates to highlight\n     * @return bool True if dates were highlighted\n     */\n    highlight(args) {\n        \"use strict\";\n\n        if ((this.options.highlight = this.expandDateSetting(args)).length > 0) {\n            this.fill();\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Destroy the calendar\n     *\n     * Usage: cal = cal.destroy();\n     *\n     * @since  3.3.6\n     * @param function A callback function to trigger after destroying the calendar\n     * @return null\n     */\n    destroy(callback) {\n        \"use strict\";\n\n        this.root.transition().duration(this.options.animationDuration)\n            .attr(\"width\", 0)\n            .attr(\"height\", 0)\n            .remove()\n            .each(function() {\n                if (typeof callback === \"function\") {\n                    callback();\n                } else if (typeof callback !== \"undefined\") {\n                    console.log(\"Provided callback for destroy() is not a function.\");\n                }\n            });\n\n        return null;\n    }\n\n    getSVG() {\n        \"use strict\";\n\n        var styles = {\n            \".cal-heatmap-container\": {},\n            \".graph\": {},\n            \".graph-rect\": {},\n            \"rect.highlight\": {},\n            \"rect.now\": {},\n            \"rect.highlight-now\": {},\n            \"text.highlight\": {},\n            \"text.now\": {},\n            \"text.highlight-now\": {},\n            \".domain-background\": {},\n            \".graph-label\": {},\n            \".subdomain-text\": {},\n            \".q0\": {},\n            \".qi\": {}\n        };\n\n        for (var j = 1, total = this.options.legend.length + 1; j <= total; j++) {\n            styles[\".q\" + j] = {};\n        }\n\n        var root = this.root;\n\n        var whitelistStyles = [\n            // SVG specific properties\n            \"stroke\", \"stroke-width\", \"stroke-opacity\", \"stroke-dasharray\", \"stroke-dashoffset\", \"stroke-linecap\", \"stroke-miterlimit\",\n            \"fill\", \"fill-opacity\", \"fill-rule\",\n            \"marker\", \"marker-start\", \"marker-mid\", \"marker-end\",\n            \"alignement-baseline\", \"baseline-shift\", \"dominant-baseline\", \"glyph-orientation-horizontal\", \"glyph-orientation-vertical\", \"kerning\", \"text-anchor\",\n            \"shape-rendering\",\n\n            // Text Specific properties\n            \"text-transform\", \"font-family\", \"font\", \"font-size\", \"font-weight\"\n        ];\n\n        var filterStyles = function(attribute, property, value) {\n            if (whitelistStyles.indexOf(property) !== -1) {\n                styles[attribute][property] = value;\n            }\n        };\n\n        var getElement = function(e) {\n            return root.select(e).node();\n        };\n\n        /* jshint forin:false */\n        for (var element in styles) {\n            if (!styles.hasOwnProperty(element)) {\n                continue;\n            }\n\n            var dom = getElement(element);\n\n            if (dom === null) {\n                continue;\n            }\n\n            // The DOM Level 2 CSS way\n            /* jshint maxdepth: false */\n            if (\"getComputedStyle\" in window) {\n                var cs = getComputedStyle(dom, null);\n                if (cs.length !== 0) {\n                    for (var i = 0; i < cs.length; i++) {\n                        filterStyles(element, cs.item(i), cs.getPropertyValue(cs.item(i)));\n                    }\n\n                    // Opera workaround. Opera doesn\"t support `item`/`length`\n                    // on CSSStyleDeclaration.\n                } else {\n                    for (var k in cs) {\n                        if (cs.hasOwnProperty(k)) {\n                            filterStyles(element, k, cs[k]);\n                        }\n                    }\n                }\n\n                // The IE way\n            } else if (\"currentStyle\" in dom) {\n                var css = dom.currentStyle;\n                for (var p in css) {\n                    filterStyles(element, p, css[p]);\n                }\n            }\n        }\n\n        var string = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" \" +\n            \"xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\"><style type=\\\"text/css\\\"><![CDATA[ \";\n\n        for (var style in styles) {\n            string += style + \" {\\n\";\n            for (var l in styles[style]) {\n                string += \"\\t\" + l + \":\" + styles[style][l] + \";\\n\";\n            }\n            string += \"}\\n\";\n        }\n\n        string += \"]]></style>\";\n        string += new XMLSerializer().serializeToString(this.root.node());\n        string += \"</svg>\";\n\n        return string;\n    }\n}\n\n// =========================================================================//\n// DOMAIN POSITION COMPUTATION\t\t\t\t\t\t\t\t\t\t\t\t//\n// =========================================================================//\n\n/**\n * Compute the position of a domain, relative to the calendar\n */\nclass DomainPosition {\n    constructor() {\n        \"use strict\";\n\n        this.positions = map();\n    }\n\n    getPosition(d) {\n        \"use strict\";\n\n        return this.positions.get(d);\n    }\n\n    getPositionFromIndex(i) {\n        \"use strict\";\n\n        var domains = this.getKeys();\n        return this.positions.get(domains[i]);\n    }\n\n    getLast() {\n        \"use strict\";\n\n        var domains = this.getKeys();\n        return this.positions.get(domains[domains.length - 1]);\n    }\n\n    setPosition(d, dim) {\n        \"use strict\";\n\n        this.positions.set(d, dim);\n    }\n\n    shiftRightBy(exitingDomainDim) {\n        \"use strict\";\n\n        this.positions.each(function(key, value, map) {\n            map.set(key, value - exitingDomainDim);\n        });\n\n        var domains = this.getKeys();\n        this.positions.remove(domains[0]);\n    }\n\n    shiftLeftBy(enteringDomainDim) {\n        \"use strict\";\n\n        this.positions.each(function(key, value, map) {\n            map.set(key, value + enteringDomainDim);\n        });\n\n        var domains = this.getKeys();\n        this.positions.remove(domains[domains.length - 1]);\n    }\n\n    getKeys() {\n        \"use strict\";\n\n        return this.positions.keys().sort(function(a, b) {\n            return parseInt(a, 10) - parseInt(b, 10);\n        });\n    }\n}\n\n// =========================================================================//\n// LEGEND\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//\n// =========================================================================//\n\nclass Legend {\n    constructor(calendar) {\n        \"use strict\";\n\n        this.calendar = calendar;\n        this.computeDim();\n\n        if (calendar.options.legendColors !== null) {\n            this.buildColors();\n        }\n    }\n\n    computeDim() {\n        \"use strict\";\n\n        var options = this.calendar.options; // Shorter accessor for variable name mangling when minifying\n        this.dim = {\n            width: options.legendCellSize * (options.legend.length + 1) +\n                options.legendCellPadding * (options.legend.length),\n            height: options.legendCellSize\n        };\n    }\n\n    remove() {\n        \"use strict\";\n\n        this.calendar.root.select(\".graph-legend\").remove();\n        this.calendar.resize();\n    }\n\n    redraw(width) {\n        \"use strict\";\n\n        if (!this.calendar.options.displayLegend) {\n            return false;\n        }\n\n        var parent = this;\n        var calendar = this.calendar;\n        var legend = calendar.root;\n        var legendItem;\n        var options = calendar.options; // Shorter accessor for variable name mangling when minifying\n\n        this.computeDim();\n\n        var _legend = options.legend.slice(0);\n        _legend.push(_legend[_legend.length - 1] + 1);\n\n        var legendElement = calendar.root.select(\".graph-legend\");\n        if (legendElement.node() !== null) {\n            legend = legendElement;\n            legendItem = legend\n                .select(\"g\")\n                .selectAll(\"rect\").data(_legend);\n        } else {\n            // Creating the new legend DOM if it doesn't already exist\n            legend = options.legendVerticalPosition === \"top\" ? legend.insert(\"svg\", \".graph\") : legend.append(\"svg\");\n\n            legend\n                .attr(\"x\", getLegendXPosition())\n                .attr(\"y\", getLegendYPosition());\n\n            legendItem = legend\n                .attr(\"class\", \"graph-legend\")\n                .attr(\"height\", parent.getDim(\"height\"))\n                .attr(\"width\", parent.getDim(\"width\"))\n                .append(\"g\")\n                .selectAll().data(_legend);\n        }\n\n        legendItem\n            .enter()\n            .append(\"rect\")\n            .call(legendCellLayout)\n            .attr(\"class\", function(d) {\n                return calendar.Legend.getClass(d, (calendar.legendScale === null));\n            })\n            .attr(\"fill-opacity\", 0)\n            .call(function(selection) {\n                if (calendar.legendScale !== null && options.legendColors !== null && options.legendColors.hasOwnProperty(\"base\")) {\n                    selection.attr(\"fill\", options.legendColors.base);\n                }\n            })\n            .append(\"title\");\n\n        legendItem.exit().transition().duration(options.animationDuration)\n            .attr(\"fill-opacity\", 0)\n            .remove();\n\n        legendItem.transition().delay(function(d, i) {\n                return options.animationDuration * i / 10;\n            })\n            .call(legendCellLayout)\n            .attr(\"fill-opacity\", 1)\n            .call(function(element) {\n                element.attr(\"fill\", function(d, i) {\n                    if (calendar.legendScale === null) {\n                        return \"\";\n                    }\n\n                    if (i === 0) {\n                        return calendar.legendScale(d - 1);\n                    }\n                    return calendar.legendScale(options.legend[i - 1]);\n                });\n\n                element.attr(\"class\", function(d) {\n                    return calendar.Legend.getClass(d, (calendar.legendScale === null));\n                });\n            });\n\n        function legendCellLayout(selection) {\n            selection\n                .attr(\"width\", options.legendCellSize)\n                .attr(\"height\", options.legendCellSize)\n                .attr(\"x\", function(d, i) {\n                    return i * (options.legendCellSize + options.legendCellPadding);\n                });\n        }\n\n        legendItem.select(\"title\").text(function(d, i) {\n            if (i === 0) {\n                return calendar.formatStringWithObject(options.legendTitleFormat.lower, {\n                    min: options.legend[i],\n                    name: options.itemName[1]\n                });\n            } else if (i === _legend.length - 1) {\n                return calendar.formatStringWithObject(options.legendTitleFormat.upper, {\n                    max: options.legend[i - 1],\n                    name: options.itemName[1]\n                });\n            } else {\n                return calendar.formatStringWithObject(options.legendTitleFormat.inner, {\n                    down: options.legend[i - 1],\n                    up: options.legend[i],\n                    name: options.itemName[1]\n                });\n            }\n        });\n\n        legend.transition().duration(options.animationDuration)\n            .attr(\"x\", getLegendXPosition())\n            .attr(\"y\", getLegendYPosition())\n            .attr(\"width\", parent.getDim(\"width\"))\n            .attr(\"height\", parent.getDim(\"height\"));\n\n        legend.select(\"g\").transition().duration(options.animationDuration)\n            .attr(\"transform\", function() {\n                if (options.legendOrientation === \"vertical\") {\n                    return \"rotate(90 \" + options.legendCellSize / 2 + \" \" + options.legendCellSize / 2 + \")\";\n                }\n                return \"\";\n            });\n\n        function getLegendXPosition() {\n            switch (options.legendHorizontalPosition) {\n                case \"right\":\n                    if (options.legendVerticalPosition === \"center\" || options.legendVerticalPosition === \"middle\") {\n                        return width + options.legendMargin[3];\n                    }\n                    return width - parent.getDim(\"width\") - options.legendMargin[1];\n                case \"middle\":\n                case \"center\":\n                    return Math.round(width / 2 - parent.getDim(\"width\") / 2);\n                default:\n                    return options.legendMargin[3];\n            }\n        }\n\n        function getLegendYPosition() {\n            if (options.legendVerticalPosition === \"bottom\") {\n                return calendar.graphDim.height + options.legendMargin[0] - options.domainGutter - options.cellPadding;\n            }\n            return options.legendMargin[0];\n        }\n\n        calendar.resize();\n    }\n\n    /**\n     * Return the dimension of the legend\n     *\n     * Takes into account rotation\n     *\n     * @param  string axis Width or height\n     * @return int height or width in pixels\n     */\n    getDim(axis) {\n        \"use strict\";\n\n        var isHorizontal = (this.calendar.options.legendOrientation === \"horizontal\");\n\n        switch (axis) {\n            case \"width\":\n                return this.dim[isHorizontal ? \"width\" : \"height\"];\n            case \"height\":\n                return this.dim[isHorizontal ? \"height\" : \"width\"];\n        }\n    }\n\n    buildColors() {\n        \"use strict\";\n\n        var options = this.calendar.options; // Shorter accessor for variable name mangling when minifying\n\n        if (options.legendColors === null) {\n            this.calendar.legendScale = null;\n            return false;\n        }\n\n        var _colorRange = [];\n\n        if (Array.isArray(options.legendColors)) {\n            _colorRange = options.legendColors;\n        } else if (options.legendColors.hasOwnProperty(\"min\") && options.legendColors.hasOwnProperty(\"max\")) {\n            _colorRange = [options.legendColors.min, options.legendColors.max];\n        } else {\n            options.legendColors = null;\n            return false;\n        }\n\n        var _legend = options.legend.slice(0);\n\n        if (_legend[0] > 0) {\n            _legend.unshift(0);\n        } else if (_legend[0] < 0) {\n            // Let's guess the leftmost value, it we have to add one\n            _legend.unshift(_legend[0] - (_legend[_legend.length - 1] - _legend[0]) / _legend.length);\n        }\n\n        var colorScale = scaleLinear()\n            .range(_colorRange)\n            .interpolate(interpolateHcl)\n            .domain([min(_legend), max(_legend)]);\n\n        var legendColors = _legend.map(function(element) {\n            return colorScale(element);\n        });\n        this.calendar.legendScale = scaleThreshold().domain(options.legend).range(legendColors);\n\n        return true;\n    }\n\n    /**\n     * Return the classname on the legend for the specified value\n     *\n     * @param integer n Value associated to a date\n     * @param bool withCssClass Whether to display the css class used to style the cell.\n     *                          Disabling will allow styling directly via html fill attribute\n     *\n     * @return string Classname according to the legend\n     */\n    getClass(n, withCssClass) {\n        \"use strict\";\n\n        if (n === null || isNaN(n)) {\n            return \"\";\n        }\n\n        var index = [this.calendar.options.legend.length + 1];\n\n        for (var i = 0, total = this.calendar.options.legend.length - 1; i <= total; i++) {\n\n            if (this.calendar.options.legend[0] > 0 && n < 0) {\n                index = [\"1\", \"i\"];\n                break;\n            }\n\n            if (n <= this.calendar.options.legend[i]) {\n                index = [i + 1];\n                break;\n            }\n        }\n\n        if (n === 0) {\n            index.push(0);\n        }\n\n        index.unshift(\"\");\n        return (index.join(\" r\") + (withCssClass ? index.join(\" q\") : \"\")).trim();\n    }\n}\n\n/**\n * #source http://stackoverflow.com/a/383245/805649\n */\nfunction mergeRecursive(obj1, obj2) {\n    \"use strict\";\n\n    /*jshint forin:false */\n    for (var p in obj2) {\n        try {\n            // Property in destination object set; update its value.\n            if (obj2[p].constructor === Object) {\n                obj1[p] = mergeRecursive(obj1[p], obj2[p]);\n            } else {\n                obj1[p] = obj2[p];\n            }\n        } catch (e) {\n            // Property in destination object not set; create it and set its value.\n            obj1[p] = obj2[p];\n        }\n    }\n\n    return obj1;\n}\n\n/**\n * Check if 2 arrays are equals\n *\n * @link http://stackoverflow.com/a/14853974/805649\n * @param  array array the array to compare to\n * @return bool true of the 2 arrays are equals\n */\nfunction arrayEquals(arrayA, arrayB) {\n    \"use strict\";\n\n    // if the other array is a falsy value, return\n    if (!arrayB || !arrayA) {\n        return false;\n    }\n\n    // compare lengths - can save a lot of time\n    if (arrayA.length !== arrayB.length) {\n        return false;\n    }\n\n    for (var i = 0; i < arrayA.length; i++) {\n        // Check if we have nested arrays\n        if (arrayA[i] instanceof Array && arrayB[i] instanceof Array) {\n            // recurse into the nested arrays\n            if (!arrayEquals(arrayA[i], arrayB[i])) {\n                return false;\n            }\n        } else if (arrayA[i] !== arrayB[i]) {\n            // Warning - two different object instances will never be equal: {x:20} != {x:20}\n            return false;\n        }\n    }\n    return true;\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","export default function(array, f) {\n  var i = -1,\n      n = array.length,\n      a,\n      b;\n\n  if (f == null) {\n    while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n    while (++i < n) if ((b = array[i]) != null && b > a) a = b;\n  }\n\n  else {\n    while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n    while (++i < n) if ((b = f(array[i], i, array)) != null && b > a) a = b;\n  }\n\n  return a;\n}\n","export default function(array, f) {\n  var i = -1,\n      n = array.length,\n      a,\n      b;\n\n  if (f == null) {\n    while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n    while (++i < n) if ((b = array[i]) != null && a > b) a = b;\n  }\n\n  else {\n    while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n    while (++i < n) if ((b = f(array[i], i, array)) != null && a > b) a = b;\n  }\n\n  return a;\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(x, p) {\n  x = x.toPrecision(p);\n\n  out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (x[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      case \"e\": break out;\n      default: if (i0 > 0) i0 = 0; break;\n    }\n  }\n\n  return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDefault from \"./formatDefault\";\nimport formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"\": formatDefault,\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","import exponent from \"./exponent\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(nb),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","var rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nexport default function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0 ≅ u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    }\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    }\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n","import request from \"./request\";\n\nexport default function(defaultMimeType, response) {\n  return function(url, callback) {\n    var r = request(url).mimeType(defaultMimeType).response(response);\n    if (callback != null) {\n      if (typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n      return r.get(callback);\n    }\n    return r;\n  };\n}\n","import type from \"./type\";\n\nexport default type(\"text/html\", function(xhr) {\n  return document.createRange().createContextualFragment(xhr.responseText);\n});\n","import type from \"./type\";\n\nexport default type(\"application/json\", function(xhr) {\n  return JSON.parse(xhr.responseText);\n});\n","import type from \"./type\";\n\nexport default type(\"text/plain\", function(xhr) {\n  return xhr.responseText;\n});\n","import type from \"./type\";\n\nexport default type(\"application/xml\", function(xhr) {\n  var xml = xhr.responseXML;\n  if (!xml) throw new Error(\"parse error\");\n  return xml;\n});\n","import dsv from \"./dsv\";\n\nvar csv = dsv(\",\");\n\nexport var csvParse = csv.parse;\nexport var csvParseRows = csv.parseRows;\nexport var csvFormat = csv.format;\nexport var csvFormatRows = csv.formatRows;\n","import dsv from \"./dsv\";\n\nvar tsv = dsv(\"\\t\");\n\nexport var tsvParse = tsv.parse;\nexport var tsvParseRows = tsv.parseRows;\nexport var tsvFormat = tsv.format;\nexport var tsvFormatRows = tsv.formatRows;\n","import {csvParse} from \"d3-dsv\";\nimport dsv from \"./dsv\";\n\nexport default dsv(\"text/csv\", csvParse);\n","import {tsvParse} from \"d3-dsv\";\nimport dsv from \"./dsv\";\n\nexport default dsv(\"text/tab-separated-values\", tsvParse);\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(domain, count, specifier) {\n  var start = domain[0],\n      stop = domain[domain.length - 1],\n      step = tickStep(start, stop, count == null ? 10 : count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","export default function(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import interval from \"./interval\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar minute = interval(function(date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval\";\nimport {durationSecond} from \"./duration\";\n\nvar second = interval(function(date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval\";\nimport {durationHour, durationMinute} from \"./duration\";\n\nvar hour = interval(function(date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval\";\nimport {durationDay, durationMinute} from \"./duration\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval\";\nimport {durationDay} from \"./duration\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval\";\nimport {durationHour} from \"./duration\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import interval from \"./interval\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","export default function(s) {\n  return s.match(/.{6}/g).map(function(x) {\n    return \"#\" + x;\n  });\n}\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"./colors\";\n\nexport default colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n","import colors from \"./colors\";\n\nexport default colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar rainbow = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  rainbow.h = 360 * t - 100;\n  rainbow.s = 1.5 - 1.5 * ts;\n  rainbow.l = 0.8 - 0.9 * ts;\n  return rainbow + \"\";\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","var matcher = function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n};\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!element.matches) {\n    var vendorMatches = element.webkitMatchesSelector\n        || element.msMatchesSelector\n        || element.mozMatchesSelector\n        || element.oMatchesSelector;\n    matcher = function(selector) {\n      return function() {\n        return vendorMatches.call(this, selector);\n      };\n    };\n  }\n}\n\nexport default matcher;\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n"],"names":["ascendingComparator","f","d","x","ascending","tickStep","start","stop","count","step0","Math","abs","max","step1","pow","floor","log","LN10","error","e10","e5","e2","Map","map","object","each","value","key","set","Array","isArray","o","i","n","length","Set","add","FormatSpecifier","specifier","match","re","exec","Error","fill","align","sign","symbol","zero","width","comma","precision","slice","type","formatTypes","this","identity","defaultLocale","definition","locale","formatLocale","format","formatPrefix","extend","parent","prototype","Object","create","Color","color","m","trim","toLowerCase","reHex3","parseInt","Rgb","reHex6","rgbn","reRgbInteger","reRgbPercent","reRgbaInteger","rgba","reRgbaPercent","reHslPercent","hsla","reHslaPercent","named","hasOwnProperty","NaN","r","g","b","a","rgbConvert","rgb","opacity","arguments","h","s","l","Hsl","hslConvert","min","hsl","hsl2rgb","m1","m2","labConvert","Lab","Hcl","deg2rad","cos","c","sin","rgb2xyz","xyz2lab","Xn","y","Yn","z","Zn","lab","t","t3","t2","t0","lab2xyz","t1","xyz2rgb","hclConvert","atan2","rad2deg","sqrt","hcl","cubehelixConvert","Cubehelix","BC_DA","ED","EB","bl","k","E","C","D","cubehelix","linear","exponential","hue","round","constant","isNaN","gamma","nogamma","one","end","colorHcl","cubehelixGamma","colorCubehelix","dispatch","_","Dispatch","parseTypenames","typenames","types","split","name","indexOf","get","callback","noop","concat","push","fixCallback","xhr","hasResponse","responseType","response","responseText","objectConverter","columns","Function","JSON","stringify","join","customConverter","row","inferColumns","rows","columnSet","forEach","column","responseOf","parse","request","deinterpolateLinear","deinterpolateClamp","deinterpolate","reinterpolateClamp","reinterpolate","bimap","domain","range","d0","d1","r0","r1","polymap","j","reverse","bisect","copy","source","target","interpolate","clamp","continuous","rescale","piecewise","output","input","scale","unit","interpolateValue","invert","call","number","rangeRound","interpolateRound","linearish","ticks","tickFormat","nice","step","ceil","threshold","invertExtent","newInterval","floori","offseti","field","interval","date","Date","offset","filter","test","setTime","every","isFinite","weekday","setDate","getDate","getDay","setHours","getTimezoneOffset","durationMinute","durationWeek","utcWeekday","setUTCDate","getUTCDate","getUTCDay","setUTCHours","localDate","H","M","S","L","setFullYear","utcDate","UTC","setUTCFullYear","newYear","newFormat","formats","pad","string","charCodeAt","pads","charAt","newParse","newDate","parseSpecifier","p","w","day","W","U","Z","parses","parsePeriod","periodRe","periodLookup","parseShortWeekday","shortWeekdayRe","shortWeekdayLookup","parseWeekday","weekdayRe","weekdayLookup","parseShortMonth","shortMonthRe","shortMonthLookup","parseMonth","monthRe","monthLookup","parseLocaleDateTime","locale_dateTime","parseLocaleDate","locale_date","parseLocaleTime","locale_time","formatShortWeekday","locale_shortWeekdays","formatWeekday","locale_weekdays","formatShortMonth","locale_shortMonths","getMonth","formatMonth","locale_months","formatPeriod","locale_periods","getHours","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","getUTCMonth","formatUTCMonth","formatUTCPeriod","getUTCHours","dateTime","time","periods","days","shortDays","months","shortMonths","formatRe","formatLookup","A","B","formatDayOfMonth","e","formatHour24","I","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekNumberSunday","formatWeekdayNumber","formatWeekNumberMonday","X","formatYear","Y","formatFullYear","formatZone","%","formatLiteralPercent","utcFormats","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekNumberSunday","formatUTCWeekdayNumber","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parseDayOfMonth","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parseSeconds","parseWeekNumberSunday","parseWeekdayNumber","parseWeekNumberMonday","parseYear","parseFullYear","parseZone","parseLiteralPercent","toString","utcFormat","utcParse","requote","replace","requoteRe","names","RegExp","numberRe","percentRe","timeDay","timeYear","getMilliseconds","getMinutes","getSeconds","timeSunday","timeMonday","getFullYear","utcDay","utcYear","getUTCMilliseconds","getUTCMinutes","getUTCSeconds","utcSunday","utcMonday","getUTCFullYear","timeFormat","timeParse","formatIsoNative","toISOString","parseIsoNative","calendar","year","month","week","hour","minute","second","millisecond","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","tickInterval","bisector","right","tickIntervals","durationYear","durationSecond","durationHour","durationDay","durationMonth","creatorInherit","document","ownerDocument","uri","namespaceURI","xhtml","documentElement","createElement","createElementNS","creatorFixed","fullname","space","local","filterContextListener","listener","index","group","contextListener","event","related","relatedTarget","compareDocumentPosition","event1","event0","__data__","onRemove","typename","on","__on","removeEventListener","capture","onAdd","wrap","filterEvents","addEventListener","none","empty","EnterNode","datum","_next","_parent","bindIndex","enter","update","exit","data","node","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","keyPrefix","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","v","apply","attrFunctionNS","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","propertyRemove","propertyConstant","propertyFunction","classArray","classList","ClassList","_node","_names","getAttribute","classedAdd","list","classedRemove","remove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","parentNode","appendChild","lower","previousSibling","insertBefore","firstChild","constantNull","removeChild","dispatchEvent","params","window","defaultView","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","Selection","groups","parents","_groups","_parents","selection","root","mergeRecursive","obj1","obj2","constructor","arrayEquals","arrayA","arrayB","compare","left","lo","hi","mid","ascendingBisect","bisectRight","array","prefix","has","property","clear","keys","values","entries","size","proto","prefixExponent","toExponential","coefficient","formatDecimal","grouping","thousands","substring","toPrecision","out","i1","i0","exponent","formatDefault","toFixed","formatRounded","formatPrefixAuto","toUpperCase","prefixes","valuePrefix","valueSuffix","suffix","formatType","valueNegative","maybeSuffix","decimal","Infinity","padding","formatSpecifier","currency","formatGroup","factory","darker","brighter","reI","reN","reP","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","define","displayable","PI","Kn","cosh","sinh","rgbGamma","colorRgb","nb","na","reA","reB","am","bm","bs","bi","lastIndex","q","SQRT2","cubehelix$1","cubehelixLong","T","that","args","url","respond","result","status","mimeType","headers","XMLHttpRequest","user","password","timeout","XDomainRequest","onload","onerror","ontimeout","onreadystatechange","readyState","onprogress","header","send","post","method","open","setRequestHeader","overrideMimeType","abort","defaultMimeType","createRange","createContextualFragment","xml","responseXML","delimiter","text","convert","parseRows","token","N","EOF","eol","EOL","delimiterCode","formatValue","formatRows","formatRow","reFormat","csv","dsv","csvParse","tsv","tsvParse","precisionPrefix","precisionRound","precisionFixed","x0","x1","minutes","hours","sunday","monday","sundays","mondays","setMonth","years","setUTCSeconds","setUTCMinutes","setUTCMonth","-","0","isoSpecifier","colors","interpolateCubehelixLong","svg","xlink","xmlns","namespaces","namespace","matcher","selector","matches","element","vendorMatches","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","mouseenter","mouseleave","querySelector","select","subgroups","subnode","subgroup","querySelectorAll","selectorAll","_enter","sparse","child","next","bind","enterGroup","updateGroup","exitGroup","previous","_exit","groups0","groups1","m0","merges","group0","group1","merge","compareNode","sortgroups","sortgroup","sort","order","nodes","getAttributeNS","getComputedStyle","getPropertyValue","splice","contains","creator","before","selection_select","selectAll","selection_selectAll","selection_filter","selection_data","selection_enter","selection_exit","selection_merge","selection_order","selection_sort","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","attr","selection_attr","selection_style","selection_property","classed","selection_classed","selection_text","html","selection_html","selection_raise","selection_lower","append","selection_append","insert","selection_insert","selection_remove","selection_datum","selection_on","selection_dispatch","CalHeatMap","[object Object]","_initCalendar","self","verticalDomainLabel","options","label","position","domainVerticalLabelHeight","height","cellSize","domainHorizontalLabelWidth","domainLabelFormat","paint","nextSelector","itemNamespace","preventDefault","loadNextDomain","previousSelector","loadPreviousDomain","Legend","redraw","graphDim","domainGutter","cellPadding","afterLoad","domains","getDomainKeys","loadOnInit","getDatas","getSubDomain","pop","onComplete","checkIfMinDomainIsReached","checkIfMaxDomainIsReached","getNextDomain","getTime","outer","_domainType","subDomain","domainMargin","allowedDataType","itemSelector","paintOnLoad","cellRadius","colLimit","rowLimit","weekStartOnMonday","minDate","maxDate","dataType","dataPostPayload","considerMissingDataAsZero","verticalOrientation","domainDynamicDimension","rotate","legend","displayLegend","legendCellSize","legendCellPadding","legendMargin","legendVerticalPosition","legendHorizontalPosition","legendOrientation","legendColors","highlight","itemName","subDomainTitleFormat","filled","subDomainDateFormat","subDomainTextFormat","legendTitleFormat","inner","upper","animationDuration","tooltip","onClick","afterLoadNextDomain","afterLoadPreviousDomain","onMaxDomainReached","onMinDomainReached","level","maxItemNumber","defaultRowNumber","defaultColumnNumber","getSubDomainRowNumber","getSubDomainColumnNumber","connector","getDayCountInMonth","getWeekDay","getDayCountInYear","getWeekNumber","getDayOfYear","getMonthWeekNumber","dt","weekDay","extractUnit","lastInsertedSvg","_completed","_domains","legendDim","NAVIGATE_LEFT","NAVIGATE_RIGHT","RESET_ALL_ON_UPDATE","RESET_SINGLE_ON_UPDATE","APPEND_ON_UPDATE","DEFAULT_LEGEND_MARGIN","_maxDomainReached","_minDomainReached","domainPosition","DomainPosition","legendScale","DSTDomain","_init","getDomain","current","navigationDir","getDomainPosition","domainIndex","axis","domainDim","tmp","setPosition","enteringDomainDim","exitingDomainDim","getPositionFromIndex","shiftRightBy","getLast","shiftLeftBy","domainRotate","domainSvg","classname","subDomainSvgGroup","rect","getHighlightClassName","positionSubDomainX","positionSubDomainY","base","domainNode","getSubDomainTitle","tooltipPositionX","offsetWidth","tooltipPositionY","offsetHeight","formatDate","transition","duration","getPosition","tempWidth","tempHeight","resize","settings","validateSelector","canBeFalse","Element","getOptimalSubDomain","validateDomainType","autoAlignLabel","autoAddLegendMargin","expandMarginSetting","console","expandItemName","parseColLimit","parseRowLimit","message","expandDateSetting","addStyle","overflow","formatSubDomainText","htmlClass","pastDate","dateIsLessThan","sameDate","dateIsEqual","getClass","formatted","prop","regexp","eventName","successArgs","skip","itemNb","triggerEvent","shift","reached","upperBound","minDomainIsReached","maxDomainIsReached","lowerBound","formatStringWithObject","formatNumber","bound","loadNewDomains","direction","newDomains","buildSubDomain","backward","total","datetimestamp","isNow","dateA","dateB","normalizedMillis","subdomain","monthFirstWeekNumber","getEndOfMonth","timeMinutes","timeHours","timeDays","weekStart","endDate","timeMondays","timeSundays","timeMonths","timeYears","getHourDomain","getDayDomain","getWeekDomain","getMonthDomain","getYearDomain","computeDaySubDomainSize","computeMinSubDomainSize","computeHourSubDomainSize","computeWeekSubDomainSize","endOfMonth","endWeekNb","startWeekNb","getMinuteDomain","jumpDate","startDate","updateMode","_callback","afterLoadData","interpretCSV","parseDatas","parseURI","requestType","payload","json","temp","extractTime","domainUnit","subDomainsData","str","legendWidth","getDim","legendHeight","graphWidth","graphHeight","reset","firstDomain","lastDomain","jumpTo","dataSource","oldLegend","buildColors","styles",".cal-heatmap-container",".graph",".graph-rect","rect.highlight","rect.now","rect.highlight-now","text.highlight","text.now","text.highlight-now",".domain-background",".graph-label",".subdomain-text",".q0",".qi","whitelistStyles","filterStyles","attribute","getElement","dom","cs","item","css","currentStyle","XMLSerializer","serializeToString","positions","getKeys","dim","computeDim","legendCellLayout","getLegendXPosition","getLegendYPosition","legendItem","_legend","legendElement","delay","down","up","isHorizontal","_colorRange","unshift","colorScale","scaleLinear","interpolateHcl","scaleThreshold","withCssClass"],"mappings":"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"}